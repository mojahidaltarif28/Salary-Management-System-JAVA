define(["require","exports","tslib","react","classnames","modules/core/i18n","modules/clean/rondo/forms/index","spectrum/icon_inline","modules/clean/rondo/components/members_picker/index","spectrum/tertiary_link","spectrum/tooltip","modules/clean/teams/admin/pages/activity/filters/types","modules/clean/teams/admin/pages/activity/components/activities_picker","rondo-react/v1/index","modules/clean/teams/admin/pages/activity/filters/filters_behavior","rondo/v1/index","spectrum/icon_form","modules/clean/rondo/components/tooltip/text_tooltip","modules/clean/rondo/components/members_picker/contacts_picker_behavior"],(function(e,t,a,l,i,s,r,n,o,c,d,m,f,u,p,g,v,h,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=a.__importDefault(l),i=a.__importDefault(i),t.Participants={0:s.intl.formatMessage({id:"MiRE07",defaultMessage:"Any"}),1:s.intl.formatMessage({id:"XSYkSG",defaultMessage:"All on team"}),2:s.intl.formatMessage({id:"gZOe2G",defaultMessage:"External participants"})};var E=(function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){t.props.actionClearFilters()},t}return a.__extends(i,e),i.prototype.createButtonItem=function(e){return l.default.createElement(h.TextTooltip,{className:"participants-button",text:e})},i.prototype.createParticipantsItems=function(){var e=this;return[m.InvolveNoneTeamMembers.DEFAULT,m.InvolveNoneTeamMembers.NO,m.InvolveNoneTeamMembers.YES].map((function(a){return{value:a,item:t.Participants[a],selected:e.props.participants.fieldValue===a,buttonItem:e.createButtonItem(t.Participants[a])}}))},i.prototype.createPart=function(){return l.default.createElement(l.default.Fragment,null,l.default.createElement("label",{htmlFor:"participants_input",className:"participants-lable"},s.intl.formatMessage({id:"zVbgg5",defaultMessage:"Participants"})),l.default.createElement(d.Tooltip,{tooltipContent:s.intl.formatMessage({id:"x19v9w",defaultMessage:"Participants are any of the people involved in the activity"}),forceSingleLine:!1},l.default.createElement(n.IconInline,{name:"info",className:"participants-tooltip"})),l.default.createElement(r.DropdownMenu,a.__assign({id:"participants_input",className:"participants-dropdown",dropDownItems:this.createParticipantsItems()},this.props.participants)))},i.prototype.getFilterRows=function(e){void 0===e&&(e=!0);var t=[];return t.push(l.default.createElement("div",{className:"filters-row"},l.default.createElement("label",{htmlFor:"date_from_input"},s.intl.formatMessage({id:"xl6krg",defaultMessage:"Date range"})),l.default.createElement(r.LocalizedDatePickerRondoRange,{className:"filter date",middleContent:l.default.createElement("div",{className:"date-to-separator"},s.intl.formatMessage({id:"Q3Sq7i",defaultMessage:"to"})),renderTimeOfDay:!0,dropDownItems:r.TIME_LIST_FOR_DATEPICKER,actionFieldChange:this.props.date.actionFieldChange,fieldValue:this.props.date.fieldValue}))),t.push(l.default.createElement("div",{className:"filters-row"},l.default.createElement("label",{htmlFor:"member_input"},s.intl.formatMessage({id:"s3VU9p",defaultMessage:"People"})),l.default.createElement(o.MembersPickerComponent,a.__assign({},this.props.members,{className:"filter",parseTokenObject:M.parseTokenObject})),e&&this.createPart())),t.push(l.default.createElement("div",{className:"filters-row"},l.default.createElement("label",{htmlFor:"file_folder_input"},s.intl.formatMessage({id:"T5vgV/",defaultMessage:"Content"})),l.default.createElement(r.Input,{id:"file_folder_input",className:"filter file",placeholder:s.intl.formatMessage({id:"2B50nF",defaultMessage:"Name of file, folder, Paper doc, or showcase"}),debounceSec:300,actionFieldChange:this.props.file.actionFieldChange,fieldValue:this.props.file.fieldValue,valid:this.props.file.valid,dirty:this.props.file.dirty,actionFieldSet:this.props.file.actionFieldSet}))),t.push(l.default.createElement("div",{className:"filters-row"},l.default.createElement("label",{htmlFor:"activity_input"},s.intl.formatMessage({id:"5Y9/iJ",defaultMessage:"Activities"})),l.default.createElement(f.ActivityPickerWidget,a.__assign({className:"filter activity mc-input"},this.props.activity)))),t},i.prototype.render=function(){return l.default.createElement("div",{className:"filters-header"},l.default.createElement("div",{className:"filters"},this.getFilterRows()),l.default.createElement("div",{className:"filters-control"},l.default.createElement(c.TertiaryLink,{className:"clear-filters",onClick:this.reset},s.intl.formatMessage({id:"QSImcV",defaultMessage:"Clear filters"}))))},i})(l.default.Component);t.Filters=E;var y=function(){window.scrollTo(0,0)},_=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){y(),t.props.onReset()},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.name,a=e.count,s=e.className,r=void 0===s?"filter-count":s;return l.default.createElement("div",{className:i.default("filter-count",r)},l.default.createElement("div",{className:"filter-name"},t),a&&l.default.createElement("div",{className:"count"},a),l.default.createElement(v.IconForm,{onClick:this.reset,name:"cancel",className:"filter-cancel"}))},t})(l.default.Component);t.FilterSummary=_;var N=(function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){t.props.actionClearFilters(),y()},t}return a.__extends(i,e),i.prototype.render=function(){var e=this.props,a=e.date,i=e.members,r=e.file,n=e.activity,o=e.teams,d=e.participants,m=a.dirty||i.dirty||r.dirty||n.dirty||d&&d.dirty||o&&o.fieldValue.length>0;return l.default.createElement("div",{className:"filters-header"},l.default.createElement("div",{className:"filters-control summary"},l.default.createElement("div",{className:"filters-summary"},l.default.createElement("div",{className:"filters-summary-label"},s.intl.formatMessage({id:"luV4IR",defaultMessage:"Filters"}),": (",l.default.createElement(c.TertiaryLink,{onClick:y},s.intl.formatMessage({id:"2ciDqQ",defaultMessage:"Back to top"})),")"),!m&&l.default.createElement("div",{className:"no-filters"},s.intl.formatMessage({id:"+gFolJ",defaultMessage:"No filters added"})),a.dirty&&l.default.createElement(_,{className:"date",name:s.intl.formatMessage({id:"65pLwc",defaultMessage:"Date"}),onReset:a.actionClear}),i.dirty&&l.default.createElement(_,{className:"member",name:s.intl.formatMessage({id:"s3VU9p",defaultMessage:"People"}),count:i.fieldValue.length,onReset:i.actionClear}),o.fieldValue.length>0&&l.default.createElement(_,{className:"member",name:s.intl.formatMessage({id:"IYiHJp",defaultMessage:"Team"}),count:o.fieldValue.length,onReset:o.actionClear}),r.dirty&&l.default.createElement(_,{className:"file",name:s.intl.formatMessage({id:"W24U0i",defaultMessage:"File or folder"}),onReset:r.actionClear}),n.dirty&&l.default.createElement(_,{className:"activity",name:s.intl.formatMessage({id:"gcDZFf",defaultMessage:"Activity"}),count:n.fieldValue.length,onReset:n.actionClear}),d&&d.dirty&&l.default.createElement(_,{className:"participants",name:t.Participants[d.fieldValue],onReset:d.actionClear})),l.default.createElement(c.TertiaryLink,{onClick:this.reset},s.intl.formatMessage({id:"QSImcV",defaultMessage:"Clear filters"}))))},i})(l.default.Component);t.FiltersCollapsed=N,t.filterBehavior=g.createBehavior(p.FiltersBehavior,{slicePath:"filters"}),t.FiltersWidget=u.widget(t.filterBehavior,E),t.FiltersCollapsedWidget=u.widget(t.filterBehavior,N)}));
//# sourceMappingURL=filters.min.js-vflLfTiiU.map