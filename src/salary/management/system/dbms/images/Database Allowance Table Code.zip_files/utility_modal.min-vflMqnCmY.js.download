define(["require","exports","tslib","react","spectrum/modal","spectrum/button"],(function(e,o,t,n,r,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),n=t.__importStar(n),o.getRestOfModalProps=function(e){var o=e,n=o.displayCloseButton,r=o.className,a=o.bodyClassName,i=o.parentElement,s=o.onRequestClose,l=o.onReady,c=o.width,u=o.height,d=o.contentTagName,m=o.ariaLabel,y=o.open,p=o.overlayClassName,v=o.overlayClickClose,f=o.overflowY,h=o.overlayFixed,C=o.primaryAction,A=o.secondaryAction,b=o.title,_=o.link,g=o.variant,E=o.onPrimaryAction,R=o.onSecondaryAction,q=o.onLink,N=o.shouldRequestCloseOnActions,P=(o.children,{modal:{displayCloseButton:n,className:r,parentElement:i,onRequestClose:s,onReady:l,width:c,height:u,contentTagName:d,ariaLabel:m,open:y,overlayClassName:p,overlayClickClose:v,overflowY:f,overlayFixed:h,primaryAction:C,secondaryAction:A,title:b,link:_,variant:g,onPrimaryAction:E,onSecondaryAction:R,onLink:q,shouldRequestCloseOnActions:N},rest:t.__rest(o,["displayCloseButton","className","bodyClassName","parentElement","onRequestClose","onReady","width","height","contentTagName","ariaLabel","open","overlayClassName","overlayClickClose","overflowY","overlayFixed","primaryAction","secondaryAction","title","link","variant","onPrimaryAction","onSecondaryAction","onLink","shouldRequestCloseOnActions","children"])});return a&&(P.modal.bodyClassName=a),P},o.disabledPrimaryButton=function(e,o,r){var i=e,s=i;return i="string"==typeof i?function(e){var i={variant:"primary",onClick:e};return!1===o&&(i.disabled=!0),n.createElement("span",{ref:r||void 0},n.createElement(a.Button,t.__assign({},i),s))}:function(e){var t={ref:r};return!1===o&&(t.disabled=!0),n.cloneElement(s(e),t)}};var i=(function(e){function a(o){var r=e.call(this,o)||this;return r.setPrimaryActionElement=function(e){return r.primaryActionElement=e},r.firstFocusableElement=function(){return r.primaryActionElement.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0]},r.modalBody=function(){var e=r.props.bodyClassName,o=void 0===e?"mc-modal-body":e;return document.querySelector("."+o)},r.modalOverlay=function(){return document.querySelector(".rn-modal-overlay")},r.setFocus=function(){return t.__awaiter(r,void 0,void 0,(function(){var e=this;return t.__generator(this,(function(o){return setTimeout((function(){var o=e.props.valid,t=void 0===o||o,n=e.modalBody();if(n&&!n.contains(document.activeElement)){var r=n;if(t&&e.primaryActionElement){var a=e.firstFocusableElement();a&&(r=a)}r.focus()}}),0),[2]}))}))},r.accept=function(){var e=r.props,o=e.actionAccept,t=e.valid;(void 0===t||t)&&o()},r.onKeyDown=function(e){13===e.keyCode&&r.accept()},r.onRequestClose=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var t=r.props,n=t.actionCancel,a=t.onRequestClose;a&&a();var i=e.length>=1&&27===e[0].keyCode,s=e[0]&&e[0].target===r.modalOverlay();(i||s)&&n()},r.cloneElement=function(e,o){return e?"string"==typeof e?e:n.cloneElement(e,t.__assign(t.__assign({},o),{onKeyDown:r.onKeyDown})):null},o.setFocus&&o.setFocus(r.setFocus),r}return t.__extends(a,e),a.prototype.componentDidMount=function(){this.props.open&&this.setFocus()},a.prototype.componentDidUpdate=function(e){this.props.open&&!e.open&&this.setFocus()},a.prototype.render=function(){var e=this,a=this.props,i=a.primaryAction,s=a.actionCancel,l=a.actionAccept,c=a.onPrimaryAction,u=a.onSecondaryAction,d=a.valid,m=void 0===d||d,y=o.getRestOfModalProps(this.props),p=y.modal,v=y.rest,f=o.disabledPrimaryButton(i,m,this.setPrimaryActionElement);return n.createElement(r.UtilityModal,t.__assign({},p,{primaryAction:f,onPrimaryAction:c||l,onSecondaryAction:u||s,onRequestClose:this.onRequestClose,onKeyPress:this.onKeyDown,overlayClassName:"rn-modal-overlay"}),n.Children.map(this.props.children,(function(o){return e.cloneElement(o,v)})))},a})(n.Component);o.UtilityModal=i}));
//# sourceMappingURL=utility_modal.min.js-vfl066cjh.map