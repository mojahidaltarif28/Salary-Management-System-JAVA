define(["require","exports","tslib","modules/clean/ajax"],(function(t,e,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i=r.__importStar(i);var n,a,_=(n=void 0,a=void 0,(_=(function(){function t(){}return t.initClass=function(){var t=this;this.start_times={},this.DEFAULT_TIMER_NAME="view_time",this.get_timer_name=function(e){return null==e||"boolean"==typeof e?t.DEFAULT_TIMER_NAME:e},this.set_start_time=function(e){var r=t.get_timer_name(e);return t.start_times[r]=Date.now()},this.do_log_view_time=function(e,r){var i=t.get_timer_name(r);return e[i]=Math.round((Date.now()-t.start_times[i])/1e3)},n={},a=[5,15,60,120,300],this.log=function(e,r,n,a){switch(void 0===a&&(a=!1),n=n||{},e){case"paywall_device_limit":return a&&t.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_paywall_device_limit_log",data:{evt:r,extra:JSON.stringify(n)}});case"paywall_shared_folder":return a&&t.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_paywall_shared_folder_log",data:{evt:r,extra:JSON.stringify(n)}});case"onboarding":return a&&t.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_onboarding_log",data:{evt:r,extra:JSON.stringify(n)}});case"onboarding_server_view_experiments":return a&&t.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/uj_server_view_experiments_log",data:{evt:r,extra:JSON.stringify(n)}});case"sharing":return t.do_log_view_time(n),i.SilentBackgroundRequest({url:"/growth_sharing_log",data:{evt:r,extra:JSON.stringify(n)}});case"post_client_install_tab":return a&&t.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/growth_post_client_install_tab_log",data:{evt:r,extra:JSON.stringify(n)}});case"secondary_client_link":return a&&t.do_log_view_time(n,a),i.SilentBackgroundRequest({url:"/secondary_client_link_upsell_log",data:{evt:r,extra:JSON.stringify(n)}});default:throw new Error("Invalid series name")}}},t.start_counter=function(t,e){return Array.from(a).map((function(r){return(function(r){return n[t+r]=setTimeout((function(){return e(t,{time_since_first_view:r})}),1e3*r)})(r)}))},t.stop_counter=function(t){return Array.from(a).map((function(e){return clearTimeout(n[t+e])}))},t})()).initClass(),_);e.default=_}));
//# sourceMappingURL=logger.min.js-vfl3EnFYU.map