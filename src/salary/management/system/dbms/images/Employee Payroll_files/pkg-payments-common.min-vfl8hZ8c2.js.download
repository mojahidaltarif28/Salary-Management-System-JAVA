define("modules/clean/account_page/widgets/billing/payment_methods_util",["require","exports","tslib","react","modules/core/i18n","modules/constants/trademark","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/payments/cash"],(function(e,t,r,n,i,a,o,s,u,l){"use strict";function c(e){return[u.GOOGLE_PLAY_SUBSCRIPTION,u.IOS_ONE_TIME_PAYMENT,u.IOS_SANDBOX_ONE_TIME_PAYMENT,u.IOS_RECURRING_PAYMENT,u.IOS_SANDBOX_RECURRING_PAYMENT,u.NO_CHARGE_GATEWAY,u.RESELLER_LICENSE_KEY].includes(e)}function p(e){return[u.IOS_ONE_TIME_PAYMENT,u.IOS_RECURRING_PAYMENT,u.IOS_SANDBOX_ONE_TIME_PAYMENT,u.IOS_SANDBOX_RECURRING_PAYMENT].includes(e)}function d(){o.ProEventsLogger.log("account_plan_ios_apple_cancel_help_clicked")}function f(){return n.default.createElement("a",{className:"plan-status-section__mobile_help_link",href:"https://support.apple.com/HT202039",target:"_blank",rel:"noopener noreferrer",onClick:d},i.intl.formatMessage({id:"KmMbqM",defaultMessage:"Learn how to manage your Apple App Store subscription"}))}Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),t.shouldHidePaymentMethod=c,t.isLicenseKey=function(e){return e===u.RESELLER_LICENSE_KEY},t.isAndroid=function(e){return e===u.GOOGLE_PLAY_SUBSCRIPTION},t.isIOS=p,t.shouldHideBillingChange=function(e,t){return t||c(e)},t.shouldHideBillingSummary=function(e,t){return e===u.NO_CHARGE_GATEWAY&&t===s.ProductPlanType.FREE},t.getAppleLink=f,t.getTrialDescription=function(e,t,r){var o,s=p(e);o=t.is_trial_overdue?s?n.default.createElement("div",null,i.intl.formatMessage({id:"7ivi5Y",defaultMessage:"You started a Dropbox {plus} trial through the iOS app."},{plus:a.TRADEMARK_PLUS}),n.default.createElement("br",null),i.intl.formatMessage({id:"/4tX/Q",defaultMessage:"For billing details, please check your iTunes receipt."}),n.default.createElement("br",null),i.intl.formatMessage({id:"HZjsks",defaultMessage:"Your subscription is on an extension period."})):i.intl.formatMessage({id:"CABcgS",defaultMessage:"Your trial has expired but we were unable to process your credit card for the Dropbox {plus} upgrade."},{plus:a.TRADEMARK_PLUS}):t.is_close_to_trial_conversion?i.intl.formatMessage({id:"oJVrbs",defaultMessage:"Your trial will automatically upgrade to a Dropbox {plus} account in the next 48 hours."},{plus:a.TRADEMARK_PLUS}):i.intl.formatMessage({id:"AAPE8r",defaultMessage:"{num_days, plural, one{Your trial will automatically upgrade to a {dropbox_plus} account in {num_days} day.} other{Your trial will automatically upgrade to a {dropbox_plus} account in {num_days} days.}}"},{dropbox_plus:a.DROPBOX_PLUS,num_days:t.days_left});var u=n.default.createElement("noscript",null);return s&&!t.is_trial_overdue&&(u=f()),n.default.createElement("span",null,o,n.default.createElement("br",null),u)},t.getProfessionalTrialPlanDescription=function(e){if(e&&e.nextBillingSummary&&e.subState.billingSchedule)return i.intl.formatMessage({id:"QBzB1q",defaultMessage:"Starting on {conversion_date}, we’ll bill you once a {period_noun} for your Dropbox {professional} plan. Your new {period_adj} total will be {price}."},{professional:a.TRADEMARK_PROFESSIONAL,conversion_date:e.formattedNextBillingDate,period_noun:e.subState.billingSchedule.scheduleDescriptionNoun,period_adj:e.subState.billingSchedule.scheduleDescriptionAdjective,price:l.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary)})},t.getProfessionalTrialScheduleDescription=function(e){if(e&&e.nextBillingSummary&&e.subState.billingSchedule)return i.intl.formatMessage({id:"8WOGDU",defaultMessage:"Your Dropbox {professional} plan will convert on {conversion_date}. Your {period} total will be {price} (including taxes)."},{professional:a.TRADEMARK_PROFESSIONAL,conversion_date:e.formattedNextBillingDate,period:e.subState.billingSchedule.scheduleDescriptionAdjective,price:l.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary)})},t.getBillingDisabledMessage=function(e){return e.isResellerBilling?n.default.createElement("a",{href:e.resellerLink,target:"_blank",rel:"noopener noreferrer"},i.intl.formatMessage({id:"sCHiez",defaultMessage:"Go to {reseller_name} to view or make changes to your account details."},{reseller_name:e.resellerName})):e.gatewayId===u.GOOGLE_PLAY_SUBSCRIPTION?i.intl.formatMessage({id:"qmzNq4",defaultMessage:"You purchased Dropbox {dropbox_plan} through Google Play. To make changes to your subscription, visit the Google Play Store."},{dropbox_plan:e.dropboxPlan}):e.gatewayId===u.IOS_ONE_TIME_PAYMENT?i.intl.formatMessage({id:"9Oab9R",defaultMessage:"You purchased Dropbox {dropbox_plan} through the iOS app. Your plan will expire on {end_date}."},{dropbox_plan:e.dropboxPlan,end_date:e.endDate}):[u.IOS_RECURRING_PAYMENT,u.IOS_SANDBOX_RECURRING_PAYMENT].includes(e.gatewayId)?e.deactivated?i.intl.formatMessage({id:"TDhZyM",defaultMessage:"Your subscription from Apple is no longer active."}):e.isOnTrial?n.default.createElement("div",null,n.default.createElement("span",null,i.intl.formatMessage({id:"W5pK97",defaultMessage:"You started a Dropbox {dropbox_plan} trial through the iOS app."},{dropbox_plan:e.dropboxPlan})),n.default.createElement("br",null),f()):n.default.createElement("div",null,n.default.createElement("span",null,i.intl.formatMessage({id:"J5IeA4",defaultMessage:"You purchased Dropbox {dropbox_plan} through the iOS app."},{dropbox_plan:e.dropboxPlan})),n.default.createElement("br",null),f()):i.intl.formatMessage({id:"R8sDaj",defaultMessage:"Sorry, you cannot change your billing schedule at this time."})},t.getPaymentMethodDisabledMessage=function(e,t,r,a,o,s){return t?i.intl.formatMessage({id:"FN1EQh",defaultMessage:"You’re being externally billed."}):e===u.GOOGLE_PLAY_SUBSCRIPTION?i.intl.formatMessage({id:"qmzNq4",defaultMessage:"You purchased Dropbox {dropbox_plan} through Google Play. To make changes to your subscription, visit the Google Play Store."},{dropbox_plan:r}):e===u.IOS_ONE_TIME_PAYMENT?i.intl.formatMessage({id:"9Oab9R",defaultMessage:"You purchased Dropbox {dropbox_plan} through the iOS app. Your plan will expire on {end_date}."},{dropbox_plan:r,end_date:a}):[u.IOS_RECURRING_PAYMENT,u.IOS_SANDBOX_RECURRING_PAYMENT].includes(e)?o?i.intl.formatMessage({id:"TDhZyM",defaultMessage:"Your subscription from Apple is no longer active."}):s?n.default.createElement("div",null,n.default.createElement("span",null,i.intl.formatMessage({id:"W5pK97",defaultMessage:"You started a Dropbox {dropbox_plan} trial through the iOS app."},{dropbox_plan:r})),n.default.createElement("br",null),f()):n.default.createElement("div",null,n.default.createElement("span",null,i.intl.formatMessage({id:"J5IeA4",defaultMessage:"You purchased Dropbox {dropbox_plan} through the iOS app."},{dropbox_plan:r})),n.default.createElement("br",null),f()):i.intl.formatMessage({id:"R8sDaj",defaultMessage:"Sorry, you cannot change your billing schedule at this time."})}})),define("modules/clean/payments/payment_form/iframe_rpc",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameRpc={ADYEN_ENCRYPTED:"ADYEN_ENCRYPTED",BLUR_FIELD:"BLUR_FIELD",DATA:"DATA",ENCRYPT_WITH_ADYEN:"ENCRYPT_WITH_ADYEN",ENCRYPT_FOR_NETWORK_TOKEN:"ENCRYPT_FOR_NETWORK_TOKEN",FOCUS_OUTSIDE_IFRAME:"FOCUS_OUTSIDE_IFRAME",HIDE_TOOLTIP:"HIDE_TOOLTIP",INIT_ADYEN:"INIT_ADYEN",INIT_BRAINTREE:"INIT_BRAINTREE",INIT_NETWORK_TOKEN:"INIT_NETWORK_TOKEN",NETWORK_TOKEN_ENCRYPTED:"NETWORK_TOKEN_ENCRYPTED",READY:"READY",SET_SERVER_TIME:"SET_SERVER_TIME",SHOW_CVV_MODAL:"SHOW_CVV_MODAL",SHOW_FORM_ERRORS:"SHOW_FORM_ERRORS",SHOW_TOOLTIP:"SHOW_TOOLTIP",SIZE_UPDATE:"SIZE_UPDATE",STATUS_UPDATE:"DATA_STATUS_UPDATE",TOKENIZE:"TOKENIZE",TOKENIZED:"TOKENIZED",VALIDATION_FAILED:"VALIDATION_FAILED",VALIDATION_UPDATE:"VALIDATION_UPDATE"};var r=(function(){function e(e,r){var n=this;this.origin=e,this.handler=r,this.messageHandler=function(e){if(n.origin===e.origin){var r;try{r=JSON.parse(e.data)}catch(e){return}if(r.hasOwnProperty("action")){var i=r.action,a=r.DATA;switch(i){case t.IFrameRpc.READY:n.handler.originReady&&e.source&&n.handler.originReady(e.source);break;case t.IFrameRpc.TOKENIZE:n.handler.tokenize&&n.handler.tokenize();break;case t.IFrameRpc.ADYEN_ENCRYPTED:a&&a.encrypted&&n.handler.submitEncryptedAdyenCard&&n.handler.submitEncryptedAdyenCard(a.encrypted);break;case t.IFrameRpc.HIDE_TOOLTIP:a&&a.tooltipId&&n.handler.hideTooltip&&n.handler.hideTooltip(a.tooltipId);break;case t.IFrameRpc.INIT_BRAINTREE:a&&a.token&&n.handler.init_bt&&n.handler.init_bt(a.token);break;case t.IFrameRpc.NETWORK_TOKEN_ENCRYPTED:a&&a.cardType&&n.handler.submitEncryptedCardForNetworkToken&&n.handler.submitEncryptedCardForNetworkToken(a.cardType,a.encrypted?a.encrypted:"");break;case t.IFrameRpc.TOKENIZED:a&&a.nonce&&a.bin&&n.handler.submitTokenized&&n.handler.submitTokenized(a.nonce,a.bin);break;case t.IFrameRpc.SHOW_CVV_MODAL:n.handler.showCvvModal&&n.handler.showCvvModal();break;case t.IFrameRpc.SHOW_TOOLTIP:a&&a.tooltipId&&a.tooltipTarget&&n.handler.showTooltip&&n.handler.showTooltip(a.tooltipId,a.tooltipTarget);break;case t.IFrameRpc.FOCUS_OUTSIDE_IFRAME:n.handler.focusOutsideIframe&&n.handler.focusOutsideIframe();break;case t.IFrameRpc.STATUS_UPDATE:n.handler.handleDataStatusUpdate&&n.handler.handleDataStatusUpdate(a);break;case t.IFrameRpc.VALIDATION_FAILED:n.handler.handleValidationFailure&&n.handler.handleValidationFailure(a);break;case t.IFrameRpc.VALIDATION_UPDATE:n.handler.handleValidationUpdate&&n.handler.handleValidationUpdate(a);break;case t.IFrameRpc.SIZE_UPDATE:a&&a.formHeight&&n.handler.handleSizeUpdate&&n.handler.handleSizeUpdate(a.formHeight);break;case t.IFrameRpc.BLUR_FIELD:n.handler.handleBlurField&&n.handler.handleBlurField(a)}}}},window.addEventListener("message",this.messageHandler)}return e.prototype.removeMessageListener=function(){window.removeEventListener("message",this.messageHandler)},e})();t.IFrameRpcListener=r;var n=(function(){function e(e,t){this.origin=e,this.target=t}return e.prototype.sendMessage=function(e,t){var r={action:e};t&&(r.DATA=t),this.target.postMessage(JSON.stringify(r),this.origin)},e})();t.IFrameRpcTransport=n})),define("modules/clean/payments/payment_form/payment_form_spec",["require","exports"],(function(e,t){"use strict";var r;function n(){var e=window;return e.ApplePaySession&&e.ApplePaySession.canMakePayments()}Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.CreditCard=1]="CreditCard",e[e.PayPal=2]="PayPal",e[e.DirectDeposit=3]="DirectDeposit",e[e.Ideal=5]="Ideal",e[e.ApplePay=6]="ApplePay",e[e.TokenConnect=7]="TokenConnect"})(r=t.PaymentMethod||(t.PaymentMethod={})),(function(e){e.DirectDebit="direct_debit",e.ApplePay="apple_pay",e.GooglePay="google_pay",e.ACH="ach",e.Other="other"})(t.PaymentMethodSurveyOption||(t.PaymentMethodSurveyOption={})),t.supportsApplePay=n;var i=(function(){function e(e){this.spec=e,n()||this.hide_apple_pay()}return e.prototype.hide_apple_pay=function(){for(var e in this.spec.default_available_payment_methods=this.remove_apple_pay(this.spec.default_available_payment_methods),this.spec.available_payment_methods_overrides_by_country)this.spec.available_payment_methods_overrides_by_country[e]=this.remove_apple_pay(this.spec.available_payment_methods_overrides_by_country[e])},e.prototype.isTeam=function(){return this.spec.is_team},e.prototype.idealBanks=function(){return this.spec.ideal_banks},e.prototype.available_payment_methods_for_country=function(e){return this.spec.available_payment_methods_overrides_by_country[e]?this.spec.available_payment_methods_overrides_by_country[e]:this.only_default_payment_methods()},e.prototype.only_default_payment_methods=function(){return this.spec.default_available_payment_methods},e.prototype.remove_apple_pay=function(e){var t=e.indexOf(r.ApplePay);return t>=0&&e.splice(t,1),e},e.prototype.default_payment_method=function(){return this.spec.default_available_payment_methods[0]},e.prototype.default_payment_method_for_country=function(e){return this.available_payment_methods_for_country(e)[0]},e.prototype.supported_credit_cards_for_country=function(e){return this.spec.supported_credit_cards_overrides_by_country[e]?this.spec.supported_credit_cards_overrides_by_country[e]:this.spec.default_supported_credit_cards},e.prototype.should_show_vat_for_country=function(e){return this.spec.countries_with_vat.indexOf(e)>-1},e.prototype.should_require_cpf=function(e,t){return"BR"===e&&t===r.CreditCard},e.prototype.allow_zip_code_for_country=function(e){return-1===this.spec.countries_without_zip_code.indexOf(e)},e.prototype.get_token_connect_data=function(e){var t=this.spec.token_connect_prefill_data;return void 0!==t&&e in t?t[e]:null},e})();t.PaymentFormSpec=i})),define("modules/clean/payments/payments_web_request",["require","exports","tslib","modules/clean/ajax","modules/core/browser","modules/core/html","modules/core/i18n","modules/core/notify"],(function(e,t,r,n,i,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importStar(n),i=r.__importStar(i);var u=function(e){var t=this;this.request=function(){n.WebRequest({url:t.options.url,type:null!=t.options.type?t.options.type:void 0,data:t.options.data||{},success:t.success,complete:t.complete,error:t.error})},this.success=function(e,r,n){var a=t.extractErrors(n.responseText);if(a)return t.handleErrors(a),void("function"==typeof t.options.error&&t.options.error(n,r,a));(e=JSON.parse(n.responseText)).redirect?i.unsafeRedirect(e.redirect):e.reload?i.reload():(t.performActions(e.actions||[]),"function"==typeof t.options.success&&t.options.success(e,r,n))},this.performActions=function(e){return(function(){for(var r=[],n=0,i=Array.from(e);n<i.length;n++){var o=i[n],u=Array.from(o),l=u[0],c=u[1];switch(l){case"notify":r.push(s.Notify.success(c));break;case"notifyError":r.push(s.Notify.error(new a.HTML(c),t.options.errorDuration||void 0));break;default:r.push(void 0)}}return r})()},this.extractErrors=function(e){if(0!==e.indexOf("err:"))return!1;e=e.substr(4);try{return JSON.parse(e)}catch(t){return"string"==typeof e?e:o.intl.formatMessage({id:"bLA3rA",defaultMessage:"There was a problem completing this request."})}},this.error=function(e,r,n){var i=t.extractErrors(e.responseText);return"abort"!==r&&t.handleErrors(i),"function"==typeof t.options.error?t.options.error(e,r,n):void 0},this.handleErrors=function(e){return!1===e?s.Notify.error(o.intl.formatMessage({id:"bLA3rA",defaultMessage:"There was a problem completing this request."})):"string"==typeof e?s.Notify.error(e):void 0},this.complete=function(e,r){return"function"==typeof t.options.complete?t.options.complete(e,r):void 0},null==e&&(e={}),this.options=e};t.PaymentsWebRequest=u})),define("modules/clean/payments/skus/billing_schedule",["require","exports","modules/core/i18n","modules/clean/payments/skus/constants"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScheduleDescriptionAdjective=function(e){switch(e){case n.ScheduleId.MONTHLY:return r.intl.formatMessage({id:"dF0ZGK",defaultMessage:"monthly"});case n.ScheduleId.YEARLY:return r.intl.formatMessage({id:"yvyyXC",defaultMessage:"yearly"});default:return""}};var i=(function(){function e(){}return e.deserialize=function(t){var r=new e;return r.serializedBillingSchedule=t,r},Object.defineProperty(e.prototype,"id",{get:function(){return this.serializedBillingSchedule.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.serializedBillingSchedule.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduleDescriptionAdjective",{get:function(){return t.getScheduleDescriptionAdjective(this.id)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduleDescriptionNoun",{get:function(){switch(this.id){case n.ScheduleId.MONTHLY:return r.intl.formatMessage({id:"AhcQ+n",defaultMessage:"month"});case n.ScheduleId.YEARLY:return r.intl.formatMessage({id:"T/CxU4",defaultMessage:"year"});default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unlocalizedName",{get:function(){return this.serializedBillingSchedule.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){switch(this.serializedBillingSchedule.id){case n.ScheduleId.MONTHLY:return r.intl.formatMessage({id:"dF0ZGK",defaultMessage:"monthly"});case n.ScheduleId.YEARLY:return r.intl.formatMessage({id:"yvyyXC",defaultMessage:"yearly"})}return""},enumerable:!0,configurable:!0}),e})();t.BillingSchedule=i})),define("modules/clean/payments/skus/billing_summary",["require","exports","modules/core/i18n","modules/clean/payments/skus/billing_summary_line_item","modules/clean/payments/skus/constants","modules/clean/payments/cash"],(function(e,t,r,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(){}return e.deserialize=function(t){var r=new e;return t?(r._lineItems=t.lineItems.map((function(e){return n.BillingSummaryLineItem.deserialize(e)})),r.baseAmount=a.Cash.fromObject(t.baseAmount),r.discountAmount=a.Cash.fromObject(t.discountAmount),r._discountPercentage=t.discountPercentage,r._doesTaxApply=t.doesTaxApply,r.taxAmount=a.Cash.fromObject(t.taxAmount),r.totalAmount=a.Cash.fromObject(t.totalAmount),r._taxRate=t.taxRate,r._taxName=t.taxName,r):r},Object.defineProperty(e.prototype,"lineItems",{get:function(){return this._lineItems.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){return this.baseAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"discount",{get:function(){return this.discountAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"discountPercentage",{get:function(){return this._discountPercentage},enumerable:!0,configurable:!0}),e.prototype.getPerLicenseCost=function(e){for(var t=0,r=this.lineItems;t<r.length;t++){var n=r[t];if(n.sku.code===e){var i=n.price.amount/n.quantity,o=1-this.discountPercentage/100;return new a.Cash(i*o,n.price.currency)}}},Object.defineProperty(e.prototype,"tax",{get:function(){return this.taxAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taxRate",{get:function(){return this._taxRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taxName",{get:function(){return this._taxName},enumerable:!0,configurable:!0}),e.prototype.taxString=function(){return this.taxRate<=0?"":r.intl.formatMessage({id:"hIFy4P",defaultMessage:"(including {tax_rate_str, number, ::percent .##} tax)"},{tax_rate_str:this.taxRate/100})},Object.defineProperty(e.prototype,"total",{get:function(){return this.totalAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalLicenses",{get:function(){return this._lineItems.reduce((function(e,t){return t.sku.productClass===i.ProductClass.LICENSE&&(e+=t.quantity),e}),0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doesTaxApply",{get:function(){return this._doesTaxApply},enumerable:!0,configurable:!0}),e})();t.BillingSummary=o})),define("modules/clean/payments/skus/billing_summary_line_item",["require","exports","modules/clean/payments/skus/catalog_sku","modules/clean/payments/cash"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(){function e(){}return e.deserialize=function(t){var i=new e;return i._sku=r.CatalogSku.deserialize(t.sku),i._quantity=t.quantity,i._price=n.Cash.fromObject(t.price),t.lineItemPrice?i._displayPrice=n.Cash.fromObject(t.lineItemPrice):i._displayPrice=n.Cash.fromObject(t.price),i},Object.defineProperty(e.prototype,"sku",{get:function(){return this._sku},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quantity",{get:function(){return this._quantity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"price",{get:function(){return this._price},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayPrice",{get:function(){return this._displayPrice},enumerable:!0,configurable:!0}),e})();t.BillingSummaryLineItem=i})),define("modules/clean/payments/skus/catalog_sku",["require","exports","modules/core/i18n","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/payments/skus/billing_schedule","modules/clean/payments/cash","modules/clean/display_format","modules/clean/payments/skus/sku_content","modules/clean/payments/skus/constants","modules/constants/trademark"],(function(e,t,r,n,i,a,o,s,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(){function e(e){this.serializedSku=e,this.billingSchedule=a.BillingSchedule.deserialize(e.billingSchedule),e.content&&(this.content=u.SkuContentClient.deserialize(e.content))}return e.deserialize=function(t){return new e(t)},e.prototype.displayName=function(e,t,n){return void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=i.NOT_APPLICABLE),e?this.displayUntranslatableNameDirectFromSku:this.productFamily===l.ProductFamily.TEAM||this.productFamily===l.ProductFamily.ENTERPRISE?t&&l.ProductPlanType.STANDARD?r.intl.formatMessage({id:"Bj8GE3",defaultMessage:"{trademark_business}"},{trademark_business:c.TRADEMARK_BUSINESS}):this.displayNameForBusinessPlans():this.productFamily===l.ProductFamily.PRO||this.productFamily===l.ProductFamily.FAMILY?this.displayNameForIndividualPlans(n):this.displayUntranslatableNameDirectFromSku},e.prototype.displayNameForIndividualPlans=function(e){void 0===e&&(e=i.NOT_APPLICABLE);var t=n.isIOS(e);return this.productClass===l.ProductClass.PLAN?l.productPlanTypeToIndividualDisplayName(this.productType,t):this.productClass===l.ProductClass.ADDON&&this.productType===l.ProductAddonType.EVH?r.intl.formatMessage({id:"YlC/wH",defaultMessage:"{quota} space"},{quota:this.formattedSpecQuotaGb}):""},e.prototype.displayNameForBusinessPlans=function(){return this.productClass===l.ProductClass.PLAN?l.productPlanTypeToBusinessDisplayName(this.productType,this.productFamily):this.productClass===l.ProductClass.LICENSE?r.intl.formatMessage({id:"S8ZkUV",defaultMessage:"License(s)"}):this.productClass===l.ProductClass.ADDON&&this.productType===l.ProductAddonType.QUOTA?r.intl.formatMessage({id:"YlC/wH",defaultMessage:"{quota} space"},{quota:this.formattedSpecQuotaGb}):""},e.prototype.displaySpace=function(){if(this.productClass===l.ProductClass.PLAN){if(this.productType===l.ProductPlanType.STANDARD||this.productType===l.ProductPlanType.TRIAL||this.productType===l.ProductPlanType.ADVANCED||this.productType===l.ProductPlanType.ADVANCED_TRIAL)return r.intl.formatMessage({id:"rQJFG5",defaultMessage:"As much space as you need"});var e=this.longFormSpecQuotaGb;if(e)return r.intl.formatMessage({id:"5dcT/i",defaultMessage:"{space_quota} of space"},{space_quota:e})}return""},e.prototype.descriptionName=function(){if(this.productClass===l.ProductClass.LICENSE)switch(this.productType){case l.ProductPlanType.STANDARD:return r.intl.formatMessage({id:"0/Sxbu",defaultMessage:"Prior {trademark_business}"},{trademark_business:c.TRADEMARK_BUSINESS});case l.ProductPlanType.NEW_STANDARD:switch(this.billingSchedule.id){case l.ScheduleId.MONTHLY:return r.intl.formatMessage({id:"ckieZe",defaultMessage:"Standard, billed monthly"});case l.ScheduleId.YEARLY:return r.intl.formatMessage({id:"J7IViB",defaultMessage:"Standard, billed yearly"});default:return r.intl.formatMessage({id:"LfpmB5",defaultMessage:"Standard"})}case l.ProductPlanType.ADVANCED:switch(this.billingSchedule.id){case l.ScheduleId.MONTHLY:return r.intl.formatMessage({id:"FWSVAK",defaultMessage:"Advanced, billed monthly"});case l.ScheduleId.YEARLY:return r.intl.formatMessage({id:"c8xmjm",defaultMessage:"Advanced, billed yearly"});default:return r.intl.formatMessage({id:"TQZHJp",defaultMessage:"Advanced"})}default:return r.intl.formatMessage({id:"RAqfLK",defaultMessage:"Current Plan"})}return this.productClass===l.ProductClass.ADDON&&this.productType===l.ProductAddonType.QUOTA?r.intl.formatMessage({id:"6npKfP",defaultMessage:"Addl. space"}):""},Object.defineProperty(e.prototype,"code",{get:function(){return this.serializedSku.code},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayUntranslatableNameDirectFromSku",{get:function(){return this.serializedSku.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclusionGroup",{get:function(){return this.serializedSku.exclusionGroup},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productFamily",{get:function(){return this.serializedSku.productFamily},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adminCxId",{get:function(){return this.serializedSku.adminCxId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productClass",{get:function(){return this.serializedSku.productClass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productType",{get:function(){return this.serializedSku.productType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productSpec",{get:function(){return this.serializedSku.productSpec},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schedule",{get:function(){return this.serializedSku.schedule},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduleId",{get:function(){return this.serializedSku.billingSchedule.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduleName",{get:function(){return this.serializedSku.billingSchedule.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduleDescription",{get:function(){return this.serializedSku.billingSchedule.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayCost",{get:function(){return o.Cash.fromObject(this.serializedSku.price.displayCost)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayCostIsTaxInclusive",{get:function(){return this.serializedSku.price.isTaxInclusive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isProductPlan",{get:function(){return this.productClass===l.ProductClass.PLAN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specQuotaGb",{get:function(){return this.serializedSku.specQuotaGb},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedSpecQuotaGb",{get:function(){if(this.specQuotaGb)return s.formatGigabytes(this.specQuotaGb)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longFormSpecQuotaGb",{get:function(){if(this.specQuotaGb)return this.formattedSpecQuotaGb+" ("+this.specQuotaGb+" GB)"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adminCxName",{get:function(){return this.serializedSku.adminCxName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTrialPlan",{get:function(){return this.productType===l.ProductPlanType.TRIAL||this.productType===l.ProductPlanType.STANDARD_TRIAL||this.productType===l.ProductPlanType.ADVANCED_TRIAL||this.productType===l.ProductPlanType.SERVER_TRIAL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLegacyPlan",{get:function(){return!this.isStandardPlan&&!this.isAdvancePlan&&!this.isServerPlan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStandardPlan",{get:function(){return this.productType===l.ProductPlanType.NEW_STANDARD||this.productType===l.ProductPlanType.STANDARD_TRIAL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAdvancePlan",{get:function(){return this.productType===l.ProductPlanType.ADVANCED||this.productType===l.ProductPlanType.ADVANCED_TRIAL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isServerPlan",{get:function(){return this.productType===l.ProductPlanType.SERVER||this.productType===l.ProductPlanType.SERVER_TRIAL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnterprise",{get:function(){return this.productFamily===l.ProductFamily.ENTERPRISE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adminCxDescription",{get:function(){if(this.productClass===l.ProductClass.PLAN)return this.adminCxName;if(this.productClass===l.ProductClass.ADDON)switch(this.productSpec){case l.ProductSpec.SPACE_PACK_100G:return"100GB Team Space Extra";case l.ProductSpec.SPACE_PACK_10T:return"10TB Team Space Extra";case l.ProductSpec.SPACE_PACK_50T:return"50TB Team Space Extra";case l.ProductSpec.SPACE_PACK_200T:return"200TB Team Space Extra";case l.ProductSpec.SPACE_PACK_500T:return"500TB Team Space Extra";case l.ProductSpec.SPACE_PACK_1000T:return"1000TB Team Space Extra";case l.ProductSpec.SPACE_PACK_5000T:return"5000TB Team Space Extra"}return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adminCxIsValid",{get:function(){return this.productClass===l.ProductClass.PLAN&&(this.billingSchedule.id!==l.ScheduleId.FIVE_YEARS&&(this.productFamily!==l.ProductFamily.ENTERPRISE||this.billingSchedule.id!==l.ScheduleId.MONTHLY))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adminCxIsUnlimited",{get:function(){if(this.productClass!==l.ProductClass.PLAN)return!1;if(this.productFamily===l.ProductFamily.TEAM)switch(this.productType){case l.ProductPlanType.NEW_STANDARD:case l.ProductPlanType.STANDARD_TRIAL:case l.ProductPlanType.SERVER:case l.ProductPlanType.SERVER_TRIAL:return!1}else{if(this.productFamily===l.ProductFamily.ENTERPRISE&&this.productType===l.ProductPlanType.SERVER)return!1;if(this.productFamily===l.ProductFamily.EDUCATION)return!1}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adminCxIsSpacePackEligible",{get:function(){return this.productClass===l.ProductClass.PLAN&&!(this.adminCxIsUnlimited||this.productFamily===l.ProductFamily.TEAM&&this.productType===l.ProductPlanType.NEW_STANDARD)},enumerable:!0,configurable:!0}),e})();t.CatalogSku=p})),define("modules/clean/payments/skus/catalog_sku_set",["require","exports","modules/clean/payments/skus/catalog_sku","modules/clean/payments/skus/constants"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(){function e(e){this._skus=e}return e.fromSerializedSkus=function(t){return new e(t.map((function(e){return new r.CatalogSku(e)})))},Object.defineProperty(e.prototype,"sku",{get:function(){if(1!==this._skus.length)throw new Error("Unable to resolve to a single SKU");return this._skus[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skus",{get:function(){return this._skus.slice()},enumerable:!0,configurable:!0}),e.prototype.filter=function(t){return new e(this._skus.filter(t))},e.prototype.withAdminCxId=function(e){return this.filter((function(t){return t.adminCxId===e}))},e.prototype.withCode=function(e){return this.filter((function(t){return t.code===e}))},e.prototype.withFamily=function(e){return this.filter((function(t){return t.productFamily===e}))},e.prototype.withClass=function(e){return this.filter((function(t){return t.productClass===e}))},e.prototype.withType=function(e){return this.filter((function(t){return t.productType===e}))},e.prototype.withSchedule=function(e){return this.filter((function(t){return t.schedule===e}))},e.prototype.monthly=function(){return this.withSchedule(n.ProductSchedule.MONTHLY)},e.prototype.yearly=function(){return this.withSchedule(n.ProductSchedule.YEARLY)},e.prototype.peekSkus=function(){if(this._skus.length>0)return this._skus[0]},e.prototype.contains=function(e){for(var t=0;t<this._skus.length;t++)if(this._skus[t].code===e.code)return!0;return!1},e})();t.CatalogSkuSet=i})),define("modules/clean/payments/skus/quota_info",["require","exports","modules/core/i18n","modules/clean/display_format","modules/clean/payments/skus/constants"],(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(){}return e.deserialize=function(t){var r=new e;return r.serializedQuotaInfo=t,r},Object.defineProperty(e.prototype,"extrasQuota",{get:function(){return this.serializedQuotaInfo.extrasQuota},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedExtrasQuota",{get:function(){return n.format_bytes(this.extrasQuota)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"licensesQuota",{get:function(){return this.serializedQuotaInfo.licensesQuota},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedLicenseQuota",{get:function(){return n.format_bytes(this.licensesQuota)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"planQuota",{get:function(){return this.serializedQuotaInfo.planQuota},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedPlanQuota",{get:function(){return n.format_bytes(this.planQuota)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalQuota",{get:function(){return this.serializedQuotaInfo.totalQuota},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedTotalQuota",{get:function(){return n.format_bytes(this.totalQuota)},enumerable:!0,configurable:!0}),e.prototype.getFormattedQuotaByPlanType=function(e){if(e===i.ProductPlanType.STANDARD||e===i.ProductPlanType.TRIAL||e===i.ProductPlanType.ADVANCED||e===i.ProductPlanType.ADVANCED_TRIAL)return r.intl.formatMessage({id:"rQJFG5",defaultMessage:"As much space as you need"});var t=this.formattedTotalQuota;return t?r.intl.formatMessage({id:"5dcT/i",defaultMessage:"{space_quota} of space"},{space_quota:t}):""},e})();t.QuotaInfo=a})),define("modules/clean/payments/skus/subscription_change_plan",["require","exports","tslib","modules/clean/payments/skus/subscription_status","modules/clean/react/payments/transition_view_model"],(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.deserialize=function(e){return(new t).deserialize(e)},t.prototype.deserialize=function(t){return e.prototype.deserialize.call(this,t),t.tvm&&(this.transitionViewModel=new i.TransitionViewModel(t.tvm)),this},Object.defineProperty(t.prototype,"tvm",{get:function(){return this.transitionViewModel},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return this.tvm&&(t.expectedPriceToken=this.tvm.getExpectedPriceToken()),t},t})(n.SubscriptionStatus);t.SubscriptionChangePlan=a})),define("modules/clean/payments/skus/subscription_change_result",["require","exports","tslib","modules/clean/payments/skus/subscription_status"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.deserialize=function(e){return(new t).deserialize(e)},t})(n.SubscriptionStatus);t.SubscriptionChangeResult=i})),define("modules/clean/payments/skus/subscription_diff",["require","exports","tslib","modules/clean/payments/skus/catalog_sku_set","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_sku_set"],(function(e,t,r,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.fromSubscriptionStatus=function(e){var r=e.isOnTrial?e.subState:e.finalSubState;return t.fromSubscriptionState(r)},t.fromSubscriptionState=function(e){return t.fromSubscriptionSkuSet(e)},t.fromSubscriptionSkuSet=function(e){return(new t).fromSubscriptionSkuSet(e)},t.prototype.setPlan=function(e){if(e.productClass!==i.ProductClass.PLAN)throw"Can only set plan skus.";return this.planSku=e,this},t.prototype.setTotalLicenses=function(e){return 1!==this.licenses.skus.length?this.totalLicensesOverride=e:this.setLicenseQuantity(this.licenses.sku,e),this},t.prototype.setLicenseQuantity=function(e,t){if(void 0===t&&(t=1),e.productClass!==i.ProductClass.LICENSE)throw"Can only set license skus.";if(this.totalLicensesOverride=void 0,this.quantityMap[e.code]=t,!this.licenses.contains(e)){var r=this.licenses.skus;r.push(e),this.licenseSkuSet=new n.CatalogSkuSet(r)}return this},t.prototype.setAddonQuantity=function(e,t){if(void 0===t&&(t=1),e.productClass!==i.ProductClass.ADDON)throw"Can only set addon skus.";if(this.quantityMap[e.code]=t,!this.addons.contains(e)){var r=this.addons.skus;r.push(e),this.addonSkuSet=new n.CatalogSkuSet(r)}return this},t.prototype.setBillingScheduleId=function(e){return this.overrideBillingScheduleId=e,this},t.prototype.equals=function(t){return this.overrideBillingScheduleId===t.overrideBillingScheduleId&&e.prototype.equals.call(this,t)},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return this.overrideBillingScheduleId&&(t.billingScheduleId=this.overrideBillingScheduleId),t},t})(a.SubscriptionSkuSet);t.SubscriptionDiff=o})),define("modules/clean/payments/skus/subscription_service",["require","exports","modules/clean/ajax_as_promised","modules/core/notify","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_change_result","modules/core/browser","modules/clean/payments/three_ds_helper"],(function(e,t,r,n,i,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(){var e=this;this.subChangePlanCache={},this.handlePerformTransitionResponse=function(t){if(0===t.indexOf("err:")){var r=t.substr(4);return e.handlePerformTransitionError(r),Promise.reject(r)}var i=JSON.parse(t);return i.errorMessage?(n.Notify.error(i.errorMessage),Promise.reject(i.errorMessage)):i.redirect?(o.redirect(i.redirect),Promise.reject(i.redirect)):Promise.resolve(a.SubscriptionChangeResult.deserialize(i.result))},this.handlePerformTransitionError=function(t){var r=null;try{r=JSON.parse(t)}catch(e){}finally{e.handle3DsMessage&&r&&e.handle3DsMessage(r)}},this.updateThreeDsData=function(t){e.threeDsData=t},this.updateThreeDsMessageHandler=function(t){e.handle3DsMessage=t},this.handlePriceTransitionResponse=function(e){var t=JSON.parse(e);return t.errorMessage?(n.Notify.error(t.errorMessage),Promise.reject(t.errorMessage)):Promise.resolve(i.SubscriptionChangePlan.deserialize(t))}}return e.prototype.performPersonalTransition=function(e){return this.performTransition(e,!0)},e.prototype.performTransition=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=r.WebRequest({url:"/payments/ajax_perform_transition",data:{sub_change_plan:JSON.stringify(e),for_personal:t,reapply_scheduled_changes:n,browser_info:s.collectBrowserInfo(),three_ds_data:this.threeDsData}}).then(this.handlePerformTransitionResponse);return this.updateThreeDsData(""),i},e.prototype.priceTransition=function(e,t){return r.WebRequest({url:"/payments/ajax_price_transition",data:{sku_code:e.code,team_id:t}}).then(this.handlePriceTransitionResponse)},e.prototype.validateAndPerformTransition=function(e,t){return void 0===t&&(t=!1),r.WebRequest({url:"/payments/ajax_validate_and_perform_transition",data:{sub_diff:JSON.stringify(e),for_personal:t}}).then(this.handlePerformTransitionResponse)},e.prototype.fetchPriceData=function(e){var t=this;return new Promise((function(n,i){clearTimeout(t.currentPriceTimeout),t.currentPriceTimeout=setTimeout((function(){r.WebRequest({url:"/payments/ajax_transition_view_model",data:e}).then(n,i)}),200)}))},e.prototype.price=function(e,t,r){return this.priceBatch({transition:e},t).then((function(e){return e?e.transition:void 0}))},e.prototype.priceSet=function(e,t,r,n){for(var i={},a=e.length,o=0;o<a;o++)i["subDiff:"+o]=e[o];return this.priceBatch(i,t,r,n).then((function(e){return Object.getOwnPropertyNames(e).reduce((function(t,r){return t.push(e[r]),t}),[])}))},e.prototype.priceBatch=function(e,t,r,n){var a=this,o={},s={};Object.keys(e).forEach((function(n){var i=new l(e[n],t,r).hash();i in a.subChangePlanCache?o[n]=a.subChangePlanCache[i]:s[n]=e[n]}));var u=this.priceRequestToken=Math.random()*Number.MAX_VALUE;return Object.keys(s).length?this.fetchPriceData({requests:JSON.stringify(s),billing_details:t?JSON.stringify(t):"",pricing_options:r?JSON.stringify(r):"",is_pro:n?"true":""}).then((function(e){if(u===a.priceRequestToken){var n=JSON.parse(e);return Object.keys(n).forEach((function(e){var u=new l(s[e],t,r);o[e]=a.subChangePlanCache[u.hash()]=i.SubscriptionChangePlan.deserialize(n[e])})),o}})):Promise.resolve(o)},e.prototype.cancelPriceRequest=function(){this.priceRequestToken=-1,clearTimeout(this.currentPriceTimeout)},e})();t.SubscriptionService=u;var l=(function(){function e(e,t,r){this.request=e,this.billingDetails=t,this.pricingOptions=r}return e.prototype.hash=function(){return JSON.stringify(this)},e})()})),define("modules/clean/payments/skus/subscription_sku_set",["require","exports","modules/clean/payments/skus/billing_schedule","modules/clean/payments/skus/catalog_sku","modules/clean/payments/skus/catalog_sku_set","modules/clean/payments/skus/constants"],(function(e,t,r,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(){this.licenseSkuSet=new i.CatalogSkuSet([]),this.addonSkuSet=new i.CatalogSkuSet([]),this.quantityMap={}}return e.deserialize=function(t){return(new e).deserialize(t)},e.prototype.deserialize=function(e){var t=this;if(e.billingSchedule&&(this.schedule=r.BillingSchedule.deserialize(e.billingSchedule)),e.planSku&&(this.planSku=new n.CatalogSku(e.planSku)),e.licenseSkus){var a=e.licenseSkus.map((function(e){var r=new n.CatalogSku(e.sku);return t.quantityMap[r.code]=e.quantity,r}));this.licenseSkuSet=new i.CatalogSkuSet(a)}else this.licenseSkuSet=new i.CatalogSkuSet([]);if(e.addonSkus){var o=e.addonSkus.map((function(e){var r=new n.CatalogSku(e.sku);return t.quantityMap[r.code]=e.quantity,r}));this.addonSkuSet=new i.CatalogSkuSet(o)}else this.addonSkuSet=new i.CatalogSkuSet([]);return this},e.prototype.fromSubscriptionSkuSet=function(e){for(var t in this.schedule=e.schedule,this.planSku=e.plan,this.licenseSkuSet=new i.CatalogSkuSet(e.licenses.skus),this.addonSkuSet=new i.CatalogSkuSet(e.addons.skus),e.quantityMap)this.quantityMap[t]=e.quantityMap[t];return this},Object.defineProperty(e.prototype,"allSkus",{get:function(){var e=this.licenses.skus.concat(this.addons.skus);return this.planSku&&e.push(this.planSku),new i.CatalogSkuSet(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plan",{get:function(){return this.planSku},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"billingSchedule",{get:function(){return this.schedule},enumerable:!0,configurable:!0}),e.prototype.quantityForSkuCode=function(e){var t=this.quantityMap[e];return void 0!==t?t:-1},e.prototype.quantityForEvhAddOn=function(){if(this.addonSkuSet.skus.length<=0)return 0;var e=this.addonSkuSet.withType(a.ProductAddonType.EVH);return void 0===e.peekSkus()&&(e=this.addonSkuSet.withType(a.ProductAddonType.EVH_FREE)),void 0!==e.peekSkus()?this.quantityMap[e.sku.code]:0},e.prototype.quantityForSku=function(e){var t=this.quantityMap[e.code];return void 0!==t?t:-1},Object.defineProperty(e.prototype,"licenses",{get:function(){return this.licenseSkuSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalLicenses",{get:function(){var e=this;return void 0!==this.totalLicensesOverride?this.totalLicensesOverride:this.licenseSkuSet.skus.map((function(t){return e.quantityMap[t.code]})).reduce((function(e,t){return e+t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addons",{get:function(){return this.addonSkuSet},enumerable:!0,configurable:!0}),e.prototype.equals=function(e){var t=this,r=e.allSkus.skus,n=this.allSkus.skus;return r.length===n.length&&n.every((function(n){return!!r.some((function(e){return e.code===n.code}))&&t.quantityForSku(n)===e.quantityForSku(n)}))},e.prototype.toJSON=function(){var e=void 0;if(void 0===this.totalLicensesOverride){e={};for(var t=0,r=this.licenseSkuSet.skus;t<r.length;t++){e[(o=r[t]).code]=this.quantityMap[o.code]}}for(var n={},i=0,a=this.addonSkuSet.skus;i<a.length;i++){var o;n[(o=a[i]).code]=this.quantityMap[o.code]}return{addonSkus:n,billingScheduleId:this.billingSchedule?this.billingSchedule.id:void 0,licenseSkus:e,planSku:this.planSku?this.planSku.code:void 0,trialDuration:this.trialDuration,totalLicenses:this.totalLicensesOverride}},e})();t.SubscriptionSkuSet=o})),define("modules/clean/payments/skus/subscription_state",["require","exports","tslib","modules/clean/payments/skus/quota_info","modules/clean/payments/skus/sku_content","modules/clean/payments/skus/subscription_sku_set"],(function(e,t,r,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.deserialize=function(e){return(new t).deserialize(e)},t.prototype.deserialize=function(t){return e.prototype.deserialize.call(this,t),this._minLicenseLimitForPlan=t.minLicenseLimitForPlan,this._maxSelfServiceLicenseLimitForPlan=t.maxSelfServiceLicenseLimitForPlan,this._formattedNextBillingDate=t.formattedNextBillingDate,this._isDeactivatedTeam=t.isDeactivatedTeam,t.quotaInfo&&(this.quotaInfo=n.QuotaInfo.deserialize(t.quotaInfo)),t.content&&(this.content=i.SubStateContentClient.deserialize(t.content)),this},Object.defineProperty(t.prototype,"minLicenseLimitForPlan",{get:function(){return this._minLicenseLimitForPlan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSelfServiceLicenseLimitForPlan",{get:function(){return this._maxSelfServiceLicenseLimitForPlan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedNextBillingDate",{get:function(){return this._formattedNextBillingDate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quota",{get:function(){return this.quotaInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDeactivatedTeam",{get:function(){return this._isDeactivatedTeam},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return!!e.prototype.equals.call(this,t)&&this.formattedNextBillingDate===t.formattedNextBillingDate},t})(a.SubscriptionSkuSet);t.SubscriptionState=o})),define("modules/clean/payments/skus/subscription_status",["require","exports","modules/clean/payments/skus/subscription_state","modules/clean/payments/skus/billing_summary"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(){function e(){}return e.deserialize=function(t){return(new e).deserialize(t)},e.prototype.deserialize=function(e){return e.currentBillingSummary&&(this._currentBillingSummary=n.BillingSummary.deserialize(e.currentBillingSummary)),e.nextBillingSummary&&(this._nextBillingSummary=n.BillingSummary.deserialize(e.nextBillingSummary)),this._subState=r.SubscriptionState.deserialize(e.subState),e.scheduledSubState&&(this._scheduledSubState=r.SubscriptionState.deserialize(e.scheduledSubState)),this},Object.defineProperty(e.prototype,"subState",{get:function(){return this._subState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduledSubState",{get:function(){return this._scheduledSubState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"finalSubState",{get:function(){return this.scheduledSubState?this.scheduledSubState:this.subState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOnTrial",{get:function(){return!!this.subState.plan&&this.subState.plan.isTrialPlan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedNextBillingDate",{get:function(){return this.subState.formattedNextBillingDate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentBillingSummary",{get:function(){return this._currentBillingSummary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextBillingSummary",{get:function(){return this._nextBillingSummary},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{scheduledSubState:this.scheduledSubState,subState:this.subState}},e})();t.SubscriptionStatus=i})),define("modules/clean/payments/validation",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={AT:{prefix:"AT",regex:/^ATU[0-9]{8}$/,examples:["ATU12345678"],maxLength:11},BE:{prefix:"BE",regex:/^BE(0?|1)[0-9]{9}$/,examples:["BE0123456789","BE1123456789","BE1234567890"],maxLength:12},BG:{prefix:"BG",regex:/^BG[0-9]{9,10}$/,examples:["BG123456789","BG1234567890"],maxLength:12},CH:{prefix:"CH",regex:/^CHE[0-9]{9}(TVA|MWST|IVA)$/,examples:["CHE123456789TVA","CHE123456789MWST","CHE123456789IVA"],maxLength:16},CY:{prefix:"CY",regex:/^CY[0-9]{8}[A-Z]$/,examples:["CY12345678X"],maxLength:11},CZ:{prefix:"CZ",regex:/^CZ[0-9]{8,10}$/,examples:["CZ12345678","CZ123456789","CZ1234567890"],maxLength:12},DE:{prefix:"DE",regex:/^DE[0-9]{9}$/,examples:["DE123456789"],maxLength:11},DK:{prefix:"DK",regex:/^DK[0-9]{8}$/,examples:["DK12345678"],maxLength:10},EE:{prefix:"EE",regex:/^EE[0-9]{9}$/,examples:["EE123456789"],maxLength:11},GR:{prefix:"EL",regex:/^EL[0-9]{9}$/,examples:["EL123456789"],maxLength:11},ES:{prefix:"ES",regex:/^ES([A-Z][0-9]{7}[0-9A-Z]|[0-9A-Z][0-9]{7}[A-Z])$/,examples:["ESX12345678","ES12345678X","ESX1234567X"],maxLength:11},FI:{prefix:"FI",regex:/^FI[0-9]{8}$/,examples:["FI12345678"],maxLength:10},FR:{prefix:"FR",regex:/^FR[0-9A-Z]{2}[0-9]{9}$/,examples:["FR12345678901","FRX1234567890","FR1X123456789","FRXX123456789"],maxLength:13},GB:{prefix:"GB",regex:/^GB([0-9]{9}|[0-9]{12}|GD[0-9]{3}|HA[0-9]{3})$/,examples:["GB123456789","GB123456789012","GBGD123","GBHA123"],maxLength:14},HR:{prefix:"HR",regex:/^HR[0-9]{11}$/,examples:["HR12345678901"],maxLength:13},HU:{prefix:"HU",regex:/^HU[0-9]{8}$/,examples:["HU12345678"],maxLength:10},IE:{prefix:"IE",regex:/^IE([0-9][0-9A-Z+*][0-9]{5}[A-Z]{1,2}|[0-9]{7}WI)$/,examples:["IE1X23456X","IE1234567XX"],maxLength:11},IT:{prefix:"IT",regex:/^IT[0-9]{11}$/,examples:["IT12345678901"],maxLength:13},LT:{prefix:"LT",regex:/^LT([0-9]{9}|[0-9]{12})$/,examples:["LT123456789","LT123456789012"],maxLength:14},LU:{prefix:"LU",regex:/^LU[0-9]{8}$/,examples:["LU12345678"],maxLength:10},LV:{prefix:"LV",regex:/^LV[0-9]{11}$/,examples:["LV12345678901"],maxLength:13},MT:{prefix:"MT",regex:/^MT[0-9]{8}$/,examples:["MT12345678"],maxLength:10},NL:{prefix:"NL",regex:/^NL[0-9]{9}B[0-9]{2}$/,examples:["NL123456789B01"],maxLength:14},NO:{prefix:"NO",regex:/^NO[0-9]{9}(MVA)?$/,examples:["NO123456789","NO123456789MVA"],maxLength:14},PL:{prefix:"PL",regex:/^PL[0-9]{10}$/,examples:["PL1234567890"],maxLength:12},PT:{prefix:"PT",regex:/^PT[0-9]{9}$/,examples:["PT123456789"],maxLength:11},RO:{prefix:"RO",regex:/^RO[0-9]{2,10}$/,examples:["RO12","RO1234567890"],maxLength:12},SE:{prefix:"SE",regex:/^SE[0-9]{12}$/,examples:["SE123456789012"],maxLength:14},SI:{prefix:"SI",regex:/^SI[0-9]{8}$/,examples:["SI12345678"],maxLength:10},SK:{prefix:"SK",regex:/^SK[0-9]{10}$/,examples:["SK1234567890"],maxLength:12}};t.validateCpf=function(e){if(14===e.length)return!0;if(11!==e.length)return!1;for(var t=0,r=0;r<9;r++)t+=parseInt(e.charAt(r),10)*(10-r);var n=t%11;if((t=n<2?0:11-n)!==parseInt(e.charAt(9),10))return!1;var i=0;for(r=0;r<10;r++)i+=parseInt(e.charAt(r),10)*(11-r);return(i=(n=i%11)<2?0:11-n)===parseInt(e.charAt(10),10)},t.hasVat=function(e){return!!r[e]},t.validateVat=function(e,t){return!t.trim().length||(t=t.replace(/\s+/g,""),!!r[e]&&r[e].regex.test(t))},t.getVatPrefix=function(e){return r[e]?r[e].prefix:""},t.getVatExamples=function(e){return r[e]?r[e].examples:[]},t.getVatMaxLength=function(e){return r[e]?r[e].maxLength:0},t.validIBANForCountry=function(e){if((e=e.replace(/\s+/g,"")).length<2)return!1;switch(e.substring(0,2)){case"AT":return/^AT[0-9]{18}$/.test(e);case"BE":return/^BE[0-9]{14}$/.test(e);case"CY":return/^CY[0-9]{10}[0-9a-zA-Z]{16}$/.test(e);case"CZ":return/^CZ[0-9]{22}$/.test(e);case"DE":return/^DE[0-9]{20}$/.test(e);case"EE":return/^EE[0-9]{18}$/.test(e);case"ES":return/^ES[0-9]{22}$/.test(e);case"FI":return/^FI[0-9]{16}$/.test(e);case"FR":return/^FR[0-9]{12}[0-9a-zA-Z]{11}[0-9]{2}$/.test(e);case"GR":return/^GR[0-9]{9}[0-9a-zA-Z]{16}$/.test(e);case"HU":return/^HU[0-9]{26}$/.test(e);case"HR":return/^HR[0-9]{19}$/.test(e);case"IE":return/^IE[0-9]{2}[0-9a-zA-Z]{4}[0-9]{14}$/.test(e);case"IT":return/^IT[0-9]{2}[A-Z]{1}[0-9]{10}[0-9a-zA-Z]{12}$/.test(e);case"LU":return/^LU[0-9]{5}[0-9a-zA-Z]{13}$/.test(e);case"NL":return/^NL[0-9]{2}[A-Z]{4}[0-9]{10}$/.test(e);case"PL":return/^PL[0-9]{26}$/.test(e);case"PT":return/^PT[0-9]{23}$/.test(e);case"SE":return/^SE[0-9]{22}$/.test(e)}return!1}})),define("modules/clean/payments/three_ds_helper",["require","exports","tslib","modules/core/browser","modules/core/exception"],(function(e,t,r,n,i){"use strict";var a;function o(t,n,i,a){return new Promise((function(o,s){t||a?s():new Promise((function(t,r){e(["adyen-checkout"],t,r)})).then(r.__importStar).then((function(){var e=(function(e,t){var r,n;return e?(r="pub.v2.1115569318761439.aHR0cHM6Ly93d3cuZHJvcGJveC5jb20.0qcdSLg1Z9fkg0jVafTITHpHnWXMLHlN6AJNY32SBmo",n="live"):(r="pub.v2.8215476853122361.aHR0cHM6Ly9tZXRhLWxlaS1kYnguZGV2LmNvcnAuZHJvcGJveC5jb20.OyPyKCNBSA0_6dB5nYI4bOu9O-2egkLII-LayLtGbaI",n="test"),{locale:t,environment:n,originKey:r,paymentMethodsResponse:function(){}}})(n,i),t=new window.AdyenCheckout(e);o(t)})).catch((function(){s()}))}))}function s(e){var t=document.getElementById(e);null!==t&&(t.outerHTML="")}function u(e,t){s("fingerPrintIframe");var r=document.createElement("iframe");return r.setAttribute("id","fingerPrintIframe"),r.setAttribute("src","/threeds2?"+l(!0,t,e)),r.setAttribute("style","display:none"),document.body.appendChild(r),new Promise((function(e){window.addEventListener("message",(function(t){t.data.fingerPrintResult&&(e(t.data.fingerPrintResult),s("fingerPrintIframe"))}))}))}function l(e,t,r){return"isFingerPrint="+e+"&locale="+t+"&threeDsData="+r}function c(e){var t=n.get_href();e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r&&r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):""}function p(e,t,r,i){o(t,r,i,!1).then((function(t){return f(t,e)})).then((function(e){window.parent.postMessage({fingerPrintResult:e},n.get_origin())}))}function d(e,t,r,i){o(t,r,i,!1).then((function(t){return m(t,e)})).then((function(e){window.parent.postMessage({challengeResult:e},n.get_origin())}))}function f(e,t){return new Promise((function(r,n){var i=document.createElement("div");i.setAttribute("style","display: none"),i.setAttribute("id","threeDS2"),document.body.appendChild(i),e.create("threeDS2DeviceFingerprint",{fingerprintToken:t,onComplete:function(e){var t=e.data.details["threeds2.fingerprint"];r(t),s("threeDS2")},onError:function(){s("threeDS2"),n()}}).mount("#threeDS2")}))}Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importStar(n),i=r.__importStar(i),(function(e){e.ChallengeShopper="ChallengeShopper",e.IdentifyShopper="IdentifyShopper"})(a=t.ThreeDsResultType||(t.ThreeDsResultType={})),t.LoadAdyenCheckoutApi=o,t.fingerPrintInIframe=u,t.challengeInIframe=function(e,t){s("challengeIframe");var r=document.createElement("iframe");return r.setAttribute("id","challengeIframe"),r.setAttribute("src","/threeds2?"+l(!1,t,e)),document.body.appendChild(r),new Promise((function(e){window.addEventListener("message",(function(t){t.data.challengeResult&&(e(t.data.challengeResult),s("challengeIframe"))}))}))},t.handleHostedPage=function(e,t){("true"===(c("isFingerPrint")||"").toLowerCase()?p:d)(c("threeDsData")||"",t,e,c("locale")||"")},t.fingerPrintViaHostedPage=p,t.challengeViaHostedPage=d,t.fingerPrint3Ds=f;function h(){s("threeDS2Wrapper"),s("threeDS2ChallengeBackground")}function m(e,t){return new Promise((function(r,n){function i(){h(),n()}(function(e){var t=document.createElement("div");t.setAttribute("id","threeDS2ChallengeBackground"),t.setAttribute("style","width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 1001;background-color: rgba(0, 0, 0, 0.24);"),t.onclick=e;var r=document.createElement("div");r.setAttribute("id","threeDS2Wrapper"),r.setAttribute("style","position: fixed; bottom: 50%; left: 50%; transform: translateX(-50%) translateY(50%);background-color: white; border: 1px solid #dddfe1; border-radius: 4px; z-index: 1050;padding: 35px 35px 60px 35px;");var n=document.createElement("p");n.setAttribute("style","font-size: 16px; line-height: 24px; color: #717781; margin: 0 0 25px 0;"),n.textContent="To protect your info, please verify your payment.",r.appendChild(n);var i=document.createElement("div");i.setAttribute("id","threeDS2Challenge"),i.setAttribute("style","border: 1px solid #d9d9d9; border-radius: 3px; padding: 10px;"),r.appendChild(i),document.body.appendChild(t),document.body.appendChild(r)})(i),e.create("threeDS2Challenge",{challengeToken:t,onComplete:function(e){var t=e.data.details["threeds2.challengeResult"];h(),r(t)},onError:i,size:"01"}).mount("#threeDS2Challenge")}))}function y(){return window.navigator.language?window.navigator.language:window.navigator.browserLanguage}t.show3DsChallenge=m,t.collectBrowserInfo=function(){if(window){var e=window.screen?window.screen.width:"",t=window.screen?window.screen.height:"",r=window.screen?window.screen.colorDepth:"",n=window.navigator?window.navigator.userAgent:"",i=!!window.navigator&&navigator.javaEnabled(),a="";window.navigator&&(a=y());var o={screenWidth:e,screenHeight:t,colorDepth:r,userAgent:n,timeZoneOffset:(new Date).getTimezoneOffset(),language:a,javaEnabled:i};return JSON.stringify(o)}};var g=function(e){var t=this,r=e.updateThreeDsData,n=e.submitThreeDsChallenge,s=e.triggerThreeDsChallenge,l=e.submitThreeDsFingerprint,c=e.triggerThreeDsFingerprint,p=e.isDesktop,d=e.isSeleniumChangesTest;this.handle3DsMessage=function(e){return e.challengeToken?t.adyenCheckoutApi.then((function(r){m(r,e.challengeToken||"").then((function(r){var n=JSON.stringify({paymentData:e.paymentData,resultType:a.ChallengeShopper,result:r});t.updateThreeDsData(n),t.submitThreeDsChallenge()})),t.triggerThreeDsChallenge()})):e.fingerprintToken?t.adyenCheckoutApi.then((function(r){u(e.fingerprintToken||"",y()).then((function(r){var n=JSON.stringify({paymentData:e.paymentData,resultType:a.IdentifyShopper,result:r});t.updateThreeDsData(n),t.submitThreeDsFingerprint()})),t.triggerThreeDsFingerprint()})):(void 0===e.challengeToken&&void 0===e.fingerprintToken||i.reportException({err:new Error("Both the fingerprintToken and the challengeToken were empty"),severity:i.SEVERITY.CRITICAL,tags:["three_ds_2_message_malformed"]}),null)},this.updateThreeDsData=r,this.submitThreeDsChallenge=n,this.triggerThreeDsChallenge=s,this.submitThreeDsFingerprint=l,this.triggerThreeDsFingerprint=c,this.adyenCheckoutApi=o(d,!0,y(),p)};t.ThreeDsHandler=g})),define("modules/clean/react/payments/transition_view_model",["require","exports","modules/clean/payments/cash"],(function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.NONE=-1]="NONE",e[e.VAT=1]="VAT",e[e.LEGACY_VAT_EXCEPTION=2]="LEGACY_VAT_EXCEPTION",e[e.LEGACY_SALES_TAX_EXEMPTION=3]="LEGACY_SALES_TAX_EXEMPTION",e[e.MSP_TOTAL_TAX_EXCEPTION=4]="MSP_TOTAL_TAX_EXCEPTION",e[e.ADMIN_TAX_EXEMPTION=5]="ADMIN_TAX_EXEMPTION"})(n||(n={})),(function(e){e[e.InitialPlan=1]="InitialPlan",e[e.ExtraLicense=7]="ExtraLicense"})(i=t.LineItemType||(t.LineItemType={}));var a=(function(){function e(e,t){this.transition=e,this.taxName=t}return e.prototype.getExpectedPriceToken=function(){return this.transition.expected_price},e.prototype.getScheduleId=function(){return this.transition.state.schedule.id},e.prototype.hasPackrat=function(){return this.transition.prices.evh&&r.Cash.fromObject(this.transition.prices.evh).amount>0},e.prototype.getAddonExpectedPrice=function(){return this.transition.prices.evh.amount},e.prototype.getCurrency=function(){return this.transition.state.currency},e.prototype.getBilledPrice=function(){return r.Cash.fromObject(this.transition.prices.billed)},e.prototype.getPerLicensePrice=function(e){for(var t=0,n=this.transition.state.per_license_prices;t<n.length;t++){var i=n[t];if(i.license_id===e)return r.Cash.fromObject(i.price)}},e.prototype.getTotalPrice=function(){return r.Cash.fromObject(this.transition.read_only_invoice.total)},e.prototype.getTotalTaxWithheld=function(){return r.Cash.fromObject(this.transition.prices.tax_withheld)},e.prototype.getTotalRecurringPrice=function(){return r.Cash.fromObject(this.transition.state.total_recurring_price)},e.prototype.getTotalNumberOfLicenses=function(){return this.transition.state.allocated_licenses[0].license_count},e.prototype.getUserPrice=function(e){var t=r.Cash.fromObject(this.transition.state.next_license_prices[0].price);return e&&(t=t.multiply(1-e/100)),t},e.prototype._getLineItem=function(e){for(var t=0,r=this.transition.read_only_invoice.line_items;t<r.length;t++){var n=r[t];if(n.line_item_type===e)return n}return null},e.prototype.getLineItemCount=function(e){if(e===i.InitialPlan)return this.transition.state.plan.included_license_counts[0].license_count;var t=this._getLineItem(e);return t?t.quantity:0},e.prototype.getLineItemPrice=function(e){var t=this._getLineItem(e);return t?r.Cash.fromObject(t.line_item_price):new r.Cash(0,this.getCurrency())},e.prototype.getInitialPlanInfo=function(){return{count:this.getLineItemCount(i.InitialPlan),price:this.getLineItemPrice(i.InitialPlan)}},e.prototype.getExtraLicensesInfo=function(){return{count:this.getLineItemCount(i.ExtraLicense),price:this.getLineItemPrice(i.ExtraLicense)}},e.prototype.getTaxPrice=function(){return r.Cash.fromObject(this.transition.prices.tax)},e.prototype.getTaxPercentage=function(){if(!this.transition.read_only_invoice||!this.transition.read_only_invoice.line_items.length)return 0;var e=this.transition.read_only_invoice.line_items[0];return e.state_tax_percentage?parseFloat(e.state_tax_percentage):e.country_tax_percentage?parseFloat(e.country_tax_percentage):0},e.prototype.getWithheldTaxPercentage=function(){if(!this.transition.read_only_invoice||!this.transition.read_only_invoice.line_items.length)return 0;var e=this.transition.read_only_invoice.line_items[0];return e.total_withheld_tax_percentage?parseFloat(e.total_withheld_tax_percentage):0},e.prototype.getTaxCountryCode=function(){return this.transition.read_only_invoice.tax_country_code},e.prototype.getDiscountPercentage=function(){var e=this._getLineItem(i.InitialPlan);return e&&e.discount_percentage?parseFloat(e.discount_percentage):0},Object.defineProperty(e.prototype,"doesTaxApply",{get:function(){return this.transition.does_tax_apply},enumerable:!0,configurable:!0}),e})();t.TransitionViewModel=a}));
//# sourceMappingURL=pkg-payments-common.min.js-vfl6-JeJ8.map