define(["require","exports","tslib","modules/clean/logging/telemetry","modules/clean/logging/hive/schemas/web-teams","external/lodash"],(function(e,t,n,a,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a=n.__importStar(a),r=n.__importStar(r),t.stateMapEvent=function(e){var t=e.filters;return{results_displayed:e.rowsData.length,total_filters_added:r.countBy(t,(function(e){return void 0!==e.fieldValue&&Boolean(e.fieldValue.toString())})).true,date_range_start:t.date.fieldValue.from,date_range_end:t.date.fieldValue.to,members_applied_known:r.countBy(t.members.fieldValue,(function(e){return"default"===e.variant})).true||0,members_applied_unknown:r.countBy(t.members.fieldValue,(function(e){return"warning"===e.variant})).true||0,members_applied_invalid:r.countBy(t.members.fieldValue,(function(e){return"error"===e.variant})).true||0,content_search_applied:!!t.file.fieldValue,activity_filters_applied:t.activity.fieldValue.length}},t.resultUpdatedEvent=function(e,n){return{eventName:"results_displayed_updated",extra:t.stateMapEvent(n)}},t.getMoreResultsEvent=function(e,n){return{eventName:"display_more_results",extra:t.stateMapEvent(n)}},t.submitReportEvent=function(e,a){var i=t.stateMapEvent(a),r=(i.results_displayed,n.__rest(i,["results_displayed"]));return{eventName:"create_report_submit",extra:n.__assign({exclude_activities:a.report.excludeFileEvents},r)}},t.columnSelectEvent=function(e,t){var n,a="customize_table_"+e.name;return{eventName:a,extra:(n={},n[a]=e.checked?"applied":"removed",n)}},t.numOfCheckedActivitesInCategory=function(e,n){if(t.isCategoryFullyChecked(n.checkedCategories,e.id))return e.activities.length;var a=e.activities.map((function(e){return e.id}));return r.intersection(a,n.checkedActivities).length},t.isCategoryFullyChecked=function(e,t){return r.find(e,(function(e){return t===e}))},t.openActionEventThatHaveQuickActions=function(e,t){return{eventName:"activity_row_action_opened",extra:{associated_actions:e.join(",")}}},t.activityEvent=function(e,a){var i={};return a.allCategories.forEach((function(e){var n=t.numOfCheckedActivitesInCategory(e,a);n>0&&(i["activity_"+e.label+"_applied"]=n)})),{eventName:"activity_applied",extra:n.__assign({},i)}};var l=new a.HiveLogger;t.logActivityPageEventToHive=function(e){var t=e.eventName,n=e.extra;t&&l.log(new i.WebTeamsTableRow({event_name:"activity_page_"+t,extra:n}))}}));
//# sourceMappingURL=activity_logger.min.js-vflmpJHL7.map