define(["require","exports","tslib","external/lodash","rondo/v1/slice_reducers/types","rondo/v1/utils/immutable_set"],(function(e,t,n,i,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=n.__importStar(i);var o=(function(){function e(e,t,n,o,c,s){var u=this;this.create=function(){var e=u.useSlice?u.behavior.path:[],t=u.fn.bind(u.affectedBehavior),n=u.affectedBehavior.path,o=function(e,r){var o=i.isEmpty(e)?i.set({},n,{}):e,c=n.length>0?i.get(e,n):e,s=t(c,r);return c!==s?a.immutableSet(o,s,n):e},c=r.isParentSlice(u.actionType)&&e.length>0?e.slice(0,-1):e,s=r.isParentSlice(u.actionType)?r.actionTypeFromParent(u.actionType):u.actionType;return i.set({},c.concat([s]),u.error?{throw:o}:{next:o})},this.fn=e,this.actionType=t,this.error=n,this.useSlice=o,this.behavior=c,this.affectedBehavior=s}return Object.defineProperty(e.prototype,"path",{get:function(){return(this.useSlice?this.behavior.path:[]).concat([this.actionType])},enumerable:!0,configurable:!0}),e})();t.HandleAction=o;var c=function(e,t){if(i.isFunction(e)&&i.isFunction(t))return function(n,i){return e(t(n,i),i)}};t.mergeHandles=function(e){if(0===e.length)return i.identity;var t=n.__read(e.map((function(e){return e.create()}))),r=t[0],a=t.slice(1);return i.mergeWith.apply(i,n.__spread([r],a,[c]))},t.addHandleAction=function(e,t,n,i,r){r.actionHandlers=r.actionHandlers||[],r.actionHandlers.push(new o(t,e,n,!0,i,r))}}));
//# sourceMappingURL=handle.min.js-vflmiwUW5.map