define(["require","exports","tslib","react","spectrum/button","spectrum/icon_action","spectrum/icon_adminsymbol","spectrum/modal","modules/clean/ajax","modules/clean/components/modals/show_modal","modules/clean/contacts/contact_token_state","modules/clean/contacts/tokenizer","modules/clean/web_user_action_logger","modules/clean/web_user_action_events","modules/clean/react/css","modules/clean/react/teams/avatar/components","modules/clean/static_urls","modules/clean/teams/components/warning_box","modules/clean/teams/modals/member_info_modal_header","modules/clean/viewer","modules/core/exception","modules/core/i18n","modules/core/notify","modules/clean/ux_analytics/utils","modules/clean/ux_analytics_modal_tracking","modules/clean/contacts/types","spectrum/tooltip","spectrum/tertiary_link","modules/core/browser","modules/clean/react/modal","modules/clean/loggers/join_flow_logger"],(function(e,t,a,s,n,o,r,i,l,d,c,m,u,f,p,h,g,E,_,M,A,v,y,b,O,R,T,D,F,N,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),l=a.__importStar(l),h=a.__importStar(h),R=a.__importDefault(R),F=a.__importStar(F);var k,L,I=h.TeamUserAvatar;function C(e,t){u.WebUserActionLog.log(e,t,{source:"delete-user-modal"})}(function(e){e[e.LEGAL_HOLDS_FOR_TEAM_ADMINS=0]="LEGAL_HOLDS_FOR_TEAM_ADMINS",e[e.LEGAL_HOLDS_FOR_LOCKED_STATE_TEAM_ADMINS=1]="LEGAL_HOLDS_FOR_LOCKED_STATE_TEAM_ADMINS",e[e.NEED_TEAM_ADMIN_PERMISSIONS=2]="NEED_TEAM_ADMIN_PERMISSIONS"})(k=t.ErrorMsgType||(t.ErrorMsgType={})),(function(e){e[e.MAIN=0]="MAIN",e[e.DELETE=1]="DELETE",e[e.OFFBOARD=2]="OFFBOARD",e[e.ERROR_MSG=3]="ERROR_MSG",e[e.AFTER_DELETE=4]="AFTER_DELETE",e[e.AFTER_OFFBOARD=5]="AFTER_OFFBOARD"})(L=t.ModalStep||(t.ModalStep={}));var w=(function(t){function d(o){var r,i=t.call(this,o)||this;i.onSubmit=function(){i.setState({submitting:!0});var e=i.props,t=e.userId,s=e.accountId,n=e.teamAuthParams,o={user_id:t,account_id:s,should_disable:i.state.step===L.DELETE};i.state.step===L.DELETE&&(o=a.__assign(a.__assign({},o),{transfer_files:i.state.transferFiles,emails:"on"===i.state.transferFiles&&i.state.transferFilesToken?i.state.transferFilesToken.email:void 0,delete_on_unlink:i.state.deleteOnUnlink})),l.WebRequest({url:"/account/team/remove_user",data:o,subject_user:i.state.user,teamAuthParams:n,complete:function(){return i.setState({submitting:!1})},skipNotifyError:!0,success:function(e){i.props.handleUndoDelete&&!i.props.skipAfterDeleteConfirmationModal?i.setState({step:i.state.step===L.OFFBOARD?L.AFTER_OFFBOARD:L.AFTER_DELETE}):i.close();var t=i.state.step===L.OFFBOARD?"converted":"deleted";i.props.successCallback(t)},error:function(e,t,a){"This user is currently under a legal hold."===a?i.setState({step:L.ERROR_MSG,errorMsg:k.LEGAL_HOLDS_FOR_TEAM_ADMINS}):"Only a team admin, can convert this account to a Basic account."===a?i.setState({step:L.ERROR_MSG,errorMsg:k.NEED_TEAM_ADMIN_PERMISSIONS}):"This user is currently under a legal hold, in a locked team."===a?i.setState({step:L.ERROR_MSG,errorMsg:k.LEGAL_HOLDS_FOR_LOCKED_STATE_TEAM_ADMINS}):a?y.Notify.error(a):(y.Notify.error(v.intl.formatMessage({id:"HPL0VF",defaultMessage:"There was a problem completing this request"})),A.reportException({err:new Error(a),severity:"critical",tags:["delete_user_modal"]}),i.close())}})},i.onPrimaryAction=function(){var e=i.state,t=e.step,a=e.transferFiles,s=e.transferFilesToken;if(t===L.MAIN){if("on"===a&&(!s||i.contactsValidator(s).state!==c.ContactTokenState.ok))return void y.Notify.error(v.intl.formatMessage({id:"X/E7P2",defaultMessage:"Please enter a valid name or email address"}));i.setState({step:L.DELETE})}else t===L.ERROR_MSG?i.close():t===L.AFTER_OFFBOARD||t===L.AFTER_DELETE?(i.openInviteModal(),i.close()):i.onSubmit()},i.openInviteModal=function(){return a.__awaiter(i,void 0,void 0,(function(){var t,n,o;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(t,a){e(["modules/clean/teams/admin/widgets/invite_modal/invite_modal"],t,a)})).then(a.__importStar)];case 1:return t=r.sent(),n=this.props.canChangeTeamBilling,o=this.state.step===L.AFTER_DELETE?S.InviteSource.MEMBER_DELETION:S.InviteSource.MEMBER_OFFBOARD,N.Modal.showInstance(s.default.createElement(t.InviteModal,{onInviteSuccess:function(){},isAfterLicenseReclaim:!0,origin:o,canChangeTeamBilling:n,showTeammateSuggestions:!0,shouldShowInviteLink:!1})),[2]}}))}))},i.onLink=function(){i.setState({step:L.OFFBOARD})},i.onConvertAccountLink=function(){C(i.state.user.id,f.WebUserActionLogEvent.CLICK_CONVERT_INDIVIDUAL_ACCOUNT),i.onLink()},i.redirectToContactForm=function(){F.redirect("/team/admin/help")},i.onReviewSummaryLink=function(){C(i.state.user.id,f.WebUserActionLogEvent.CLICK_REVIEW_SUMMARY_DELETE_USER),i.onLink()},i.onLearnMoreConversionLink=function(){C(i.state.user.id,f.WebUserActionLogEvent.CLICK_LEARN_MORE_ACCOUNT_CONVERSION)},i.onCancel=function(){i.state.step===L.MAIN||i.state.step===L.AFTER_OFFBOARD||i.state.step===L.AFTER_DELETE||i.props.offboardOnly?i.close():i.setState({step:L.MAIN})},i.onTransferFilesChange=function(e){i.setState({transferFiles:e.currentTarget.value})},i.onDeleteOnUnlinkChange=function(e){i.setState({deleteOnUnlink:e.currentTarget.value})},i.onUpdateContacts=function(e){i.setState({transferFilesToken:e&&e[0]})},i.PRIMARY_ACTION_LABELS=((r={})[L.MAIN]=v.intl.formatMessage({id:"LgJiOW",defaultMessage:"Continue"}),r[L.DELETE]=v.intl.formatMessage({id:"F1PCBh",defaultMessage:"Delete account"}),r[L.OFFBOARD]=v.intl.formatMessage({id:"wtDwxp",defaultMessage:"Convert account"}),r[L.ERROR_MSG]=v.intl.formatMessage({id:"nOO9Qi",defaultMessage:"OK"}),r[L.AFTER_DELETE]=v.intl.formatMessage({id:"ow64Ns",defaultMessage:"Invite members"}),r[L.AFTER_OFFBOARD]=v.intl.formatMessage({id:"ow64Ns",defaultMessage:"Invite members"}),r),i.primaryAction=function(e){return i.state.step!==L.AFTER_DELETE&&i.state.step!==L.AFTER_OFFBOARD||!0===i.props.showInviteAfterDelete?s.default.createElement("span",null,i.state.submitting&&s.default.createElement("span",{className:"dbmodal-loading",key:"loading"},s.default.createElement("img",{src:g.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:v.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})})),s.default.createElement(n.Button,{disabled:i.state.submitting,variant:"primary",onClick:e},i.PRIMARY_ACTION_LABELS[i.state.step])):null},i.secondaryAction=function(e){return i.state.step===L.AFTER_DELETE||i.state.step===L.AFTER_OFFBOARD?s.default.createElement(n.Button,{variant:"secondary",onClick:e},v.intl.formatMessage({id:"W4An+g",defaultMessage:"Got it"})):i.state.step!==L.ERROR_MSG?s.default.createElement(n.Button,{disabled:i.state.submitting,variant:"secondary",onClick:e},v.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"})):s.default.createElement("noscript",null)},i.getLink=function(){if(i.state.step===L.AFTER_DELETE||i.state.step===L.AFTER_OFFBOARD)return s.default.createElement(s.default.Fragment,null);var e=v.intl.formatMessage({id:"WsvIqV",defaultMessage:"Convert to individual Dropbox Basic account instead"}),t=i.onConvertAccountLink;if(i.state.step===L.OFFBOARD||i.state.step===L.ERROR_MSG){if(i.state.errorMsg!==k.LEGAL_HOLDS_FOR_LOCKED_STATE_TEAM_ADMINS)return s.default.createElement("noscript",null);e=v.intl.formatMessage({id:"SDLkWB",defaultMessage:"Contact us"}),t=i.redirectToContactForm}if(i.props.invited||i.props.noOffboardDueToAAL){var a=i.props.invited?v.intl.formatMessage({id:"2imYtb",defaultMessage:"Can’t convert account because they haven’t joined the team"}):v.intl.formatMessage({id:"Xi5sxu",defaultMessage:"Can’t convert account because they’ve never signed in"});return s.default.createElement(T.Tooltip,{tooltipContent:a,positioning:"above"},s.default.createElement(D.TertiaryLink,{className:"disabled-offboard-link"},e))}return s.default.createElement(D.TertiaryLink,{onClick:t},e)},i.setModalBodyRef=function(e){i.modalBody=e},i.contactsFilter=function(e){var t=e.email,a=e.type;return t!==i.props.email&&a!==R.default.NEW_STYLE_GROUP},i.contactsValidator=function(e){var t={state:c.ContactTokenState.ok};return e.on_team||(t={state:c.ContactTokenState.invalid,msg:v.intl.formatMessage({id:"PVw1P4",defaultMessage:"This person isn’t on your team"})}),t},i.close=function(){i.props.cancelCallback&&i.props.cancelCallback(),i.setState({open:!1}),b.dispatchModalClosed()},i.onReady=function(){b.dispatchModalOpened()};var d=o.userId,m=o.accountId,u=o.offboardOnly;if(!d&&!m)throw new Error("Must provide user or account id");return i.state={transferFiles:"on",deleteOnUnlink:i.showRemoteWipe?"on":void 0,submitting:!1,step:u?L.OFFBOARD:L.MAIN,open:!0,user:M.Viewer.get_viewer().get_user_by_id(window.ensemble.viewer.getActiveUser().userId)},C(i.state.user.id,f.WebUserActionLogEvent.OPEN_DELETE_USER_MODAL),i}return a.__extends(d,t),d.prototype.render=function(){var e,t=this.props.customModalClass,a=void 0===t?"":t;switch(this.state.step){case L.MAIN:case L.DELETE:e=v.intl.formatMessage({id:"Dwje+M",defaultMessage:"Delete {display_name}’s account completely"},{display_name:this.displayName});break;case L.OFFBOARD:e=v.intl.formatMessage({id:"k1SvNl",defaultMessage:"Convert {display_name}’s account to individual Dropbox Basic account"},{display_name:this.displayName});break;case L.ERROR_MSG:e=v.intl.formatMessage({id:"BaU4v4",defaultMessage:"Can’t convert to a Dropbox Basic account"});break;case L.AFTER_DELETE:e=v.intl.formatMessage({id:"agnWO9",defaultMessage:"Account deleted and 1 license freed up"},{display_name:this.displayName});break;case L.AFTER_OFFBOARD:e=v.intl.formatMessage({id:"JNPl6M",defaultMessage:"Account converted and 1 license freed up"},{name:this.displayName})}var n=[L.AFTER_DELETE,L.AFTER_OFFBOARD].includes(this.state.step)?v.intl.formatMessage({id:"cNOlRK",defaultMessage:"Close modal"}):v.intl.formatMessage({id:"iC9NTD",defaultMessage:"Delete member"});return s.default.createElement(i.UtilityModal,{className:"delete-user-modal "+a,overlayClassName:"delete-user-modal-overlay",title:e,width:"699px",primaryAction:this.primaryAction,secondaryAction:this.secondaryAction,link:this.getLink,onPrimaryAction:this.onPrimaryAction,onSecondaryAction:this.onCancel,onReady:this.onReady,onRequestClose:this.close,overlayClickClose:!1,ariaLabel:n,open:this.state.open,shouldRequestCloseOnActions:!1},s.default.createElement(O.UXAnalyticsModalTracking,{id:"delete-user-modal"}),s.default.createElement("div",{tabIndex:0,ref:this.setModalBodyRef},this.state.step===L.MAIN&&this.renderMainModal(),this.state.step===L.DELETE&&this.renderDeleteModal(),this.state.step===L.OFFBOARD&&this.renderOffboardModal(),this.state.step===L.ERROR_MSG&&this.renderOffboardErrorModal(),this.state.step===L.AFTER_DELETE&&this.renderAfterDeleteModal(),this.state.step===L.AFTER_OFFBOARD&&this.renderAfterOffboardModal()))},d.prototype.componentDidUpdate=function(){this.modalBody&&this.state.step===L.OFFBOARD&&this.modalBody.focus()},d.prototype.renderMainModal=function(){return[this.renderMemberInfoHeader(),this.renderMergedPersonalAccountWarning(),this.renderDeleteInfoMsg(),s.default.createElement("div",{className:"delete-settings"},this.renderTransferFilesSetting(),this.renderRemoteWipeSetting()),s.default.createElement("span",{className:"step-label"},v.intl.formatMessage({id:"C12AhB",defaultMessage:"Step 1 of 2"}))]},d.prototype.renderDeleteModal=function(){var e=[{icon:s.default.createElement(o.IconAction,{name:"delete"}),text:v.intl.formatMessage({id:"QUsVjS",defaultMessage:"Account will be deleted"})},{icon:s.default.createElement(o.IconAction,{name:"permissions"}),text:v.intl.formatMessage({id:"gJ4J7a",defaultMessage:"Member will no longer have access to the account"})}];"on"===this.state.transferFiles&&this.state.transferFilesToken&&e.push({icon:s.default.createElement(o.IconAction,{name:"move"}),text:v.intl.formatMessage({id:"nPLVOL",defaultMessage:"Member’s content will immediately be transferred to {email}"},{email:this.state.transferFilesToken.email})}),"on"===this.state.deleteOnUnlink&&e.push({icon:s.default.createElement(o.IconAction,{name:"permanently-delete"}),text:v.intl.formatMessage({id:"YDIDVf",defaultMessage:"All synced content will be deleted from this member’s devices the next time they come online"})}),this.props.numApiApps&&e.push({icon:s.default.createElement(o.IconAction,{name:"link",className:"link-icon"}),text:v.intl.formatMessage({id:"3QRiaZ",defaultMessage:"Member has {num_api_apps} API apps that will stop working for their users"},{num_api_apps:this.props.numApiApps})});var t=[{icon:s.default.createElement(r.IconAdminsymbol,{name:"additional-license"}),text:v.intl.formatMessage({id:"/GDCqQ",defaultMessage:"{team_name} will get back one license"},{team_name:this.props.teamName})},{icon:s.default.createElement(o.IconAction,{name:"new-folder"}),text:v.intl.formatMessage({id:"5bg3kl",defaultMessage:"{team_name} will keep all content"},{team_name:this.props.teamName})}],a="";return"on"===this.state.transferFiles&&this.state.transferFilesToken&&"suspended"===this.state.transferFilesToken.join_state&&(a=v.intl.formatMessage({id:"pAHhp/",defaultMessage:"You’ve chosen to transfer account files to a suspended member, {name}. This member won’t be able to access any files until their suspension is removed."},{name:this.state.transferFilesToken.name||this.state.transferFilesToken.email})),[this.renderSummaryModal(e,t,void 0,void 0,a),s.default.createElement("span",{className:"step-label"},v.intl.formatMessage({id:"JRBRTW",defaultMessage:"Step 2 of 2"}))]},d.prototype.renderAfterDeleteModal=function(){var e=this;if("on"===this.state.transferFiles||this.props.invited)return v.intl.formatMessage({id:"ze+R5C",defaultMessage:"{display_name}’s account was deleted. Also you can invite 1 more member at no extra charge."},{display_name:this.displayName});var t={user_id:this.props.userId,account_id:this.props.accountId,user_name:this.displayName,email:this.props.email,is_user_suspended:this.props.isUserSuspended,team_join_date:this.props.teamJoinDate,storage_used:this.props.storageUsed,account_photo_url:this.props.accountPhotoUrl};return v.intl.formatMessage({id:"isbc69",defaultMessage:"Just so you know, you can <a>restore</a> {display_name}’s account for 7 days. Also you can invite 1 more member at no extra charge."},{display_name:this.displayName,a:function(a){return s.default.createElement(n.Button,{className:"after-delete-restore-account-button",onClick:function(a){return e.props.recoverUserCallback(t)},variant:"styleless"},a)}})},d.prototype.renderAfterOffboardModal=function(){return v.intl.formatMessage({id:"sBgsKx",defaultMessage:"{display_name} now has a Dropbox Basic account. Also you can invite 1 more member at no extra charge."},{display_name:this.displayName})},d.prototype.renderOffboardErrorModal=function(){return this.state.errorMsg===k.LEGAL_HOLDS_FOR_TEAM_ADMINS?s.default.createElement("div",null,v.intl.formatMessage({id:"d/lDff",defaultMessage:"{display_name}’s content is currently being held. To convert this member’s account to a Basic account, you’ll first need to remove them from the hold on the <a>legal holds</a> page."},{display_name:this.props.displayName,a:function(e){return s.default.createElement("a",{href:"/team/admin/legal_holds"},e)}})):this.state.errorMsg===k.NEED_TEAM_ADMIN_PERMISSIONS?s.default.createElement("div",null,v.intl.formatMessage({id:"FNTreO",defaultMessage:"Only a team admin can convert {display_name}’s account to a Basic account."},{display_name:this.props.displayName})):this.state.errorMsg===k.LEGAL_HOLDS_FOR_LOCKED_STATE_TEAM_ADMINS?s.default.createElement("div",null,v.intl.formatMessage({id:"cApiKm",defaultMessage:"%(display_name)s’s content is held. You can release their content on the legal holds page once you’ve added billing info. Otherwise, contact us for help."},{display_name:this.props.displayName})):(y.Notify.error(v.intl.formatMessage({id:"HPL0VF",defaultMessage:"There was a problem completing this request"})),A.reportException({err:new Error("Unrecognized errorMsg type: "+this.state.errorMsg),severity:"critical",tags:["delete_user_modal"]}),this.close(),s.default.createElement("noscript",null))},d.prototype.renderOffboardModal=function(){var e=v.intl.formatMessage({id:"PEHHTL",defaultMessage:"Member won’t have access to team-owned folders, and any file transfers they created will be deleted"}),t=[{icon:s.default.createElement(r.IconAdminsymbol,{name:"personal-account"}),text:v.intl.formatMessage({id:"ONvAGg",defaultMessage:"Account will be disconnected from the team and converted to an individual account"})},{icon:s.default.createElement(o.IconAction,{name:"new-folder"}),text:v.intl.formatMessage({id:"ccIqqh",defaultMessage:"Member will keep unshared files and folders, and shared folders that they own"})},{icon:s.default.createElement(o.IconAction,{name:"permissions"}),text:e}];this.props.numApiApps&&t.push({icon:s.default.createElement(o.IconAction,{name:"link",className:"link-icon"}),text:v.intl.formatMessage({id:"3QRiaZ",defaultMessage:"Member has {num_api_apps} API apps that will stop working for their users"},{num_api_apps:this.props.numApiApps})}),t.push({icon:s.default.createElement(o.IconAction,{name:"new-paper-doc"}),text:v.intl.formatMessage({id:"oWtMAW",defaultMessage:"Member will still have access to Paper docs they own that aren’t shared"})});var a=[{icon:s.default.createElement(r.IconAdminsymbol,{name:"additional-license"}),text:v.intl.formatMessage({id:"/GDCqQ",defaultMessage:"{team_name} will get back one license"},{team_name:this.props.teamName})},{icon:s.default.createElement(r.IconAdminsymbol,{name:"company"}),text:v.intl.formatMessage({id:"M8QAlp",defaultMessage:"{team_name} will still keep team-owned folders"},{team_name:this.props.teamName})},{icon:s.default.createElement(o.IconAction,{name:"new-paper-doc"}),text:v.intl.formatMessage({id:"/1hVjo",defaultMessage:"You will become the owner of all shared Paper docs owned by this member"})}],n=v.intl.formatMessage({id:"ZK0Cyi",defaultMessage:"This option is permanent. Please review the list above carefully before converting, as members might retain company data. You won’t be able to restore the account or make any changes to it."});return this.renderSummaryModal(t,a,void 0,"/help/business/convert-to-individual",n)},d.prototype.renderMemberInfoHeader=function(){return s.default.createElement(_.MemberInfoModalHeader,{displayName:this.props.displayName,email:this.props.email,storageUsed:this.props.storageUsed,accountPhotoUrl:this.props.accountPhotoUrl,teamJoinDate:this.props.teamJoinDate})},d.prototype.renderMergedPersonalAccountWarning=function(){return!this.props.mergedPersonalAccount||this.props.invited?null:s.default.createElement("div",{className:"merged-personal-account-warning"},s.default.createElement(r.IconAdminsymbol,{name:"alert"}),s.default.createElement("div",null,v.intl.formatMessage({id:"36Zcm5",defaultMessage:"<b>Note:</b> This member merged an individual account with the {team_name} Dropbox account on {date}. They might have personal files in the account from before the merge. You can convert them to an individual Dropbox Basic account instead."},{team_name:this.props.teamName,date:this.props.teamJoinDate,b:function(e){return s.default.createElement("b",null,e)}}),s.default.createElement(n.Button,{onClick:this.onReviewSummaryLink,variant:"styleless"},v.intl.formatMessage({id:"MH6qlB",defaultMessage:"Review summary before converting"}))))},d.prototype.renderDeleteInfoMsg=function(){return this.props.deleteInfoMsg?s.default.createElement("div",{className:"delete-info-msg"},this.props.deleteInfoMsg):null},d.prototype.renderTransferFilesSetting=function(){return s.default.createElement("div",{className:"transfer_files_setting"},s.default.createElement("div",{className:"verbal_setting_explanation"},v.intl.formatMessage({id:"KMtIDp",defaultMessage:"Do you want to transfer this member’s file content to another team member?"})),s.default.createElement("div",{className:"deactivate_or_remove_setting_option"},s.default.createElement("label",null,s.default.createElement("input",{name:"transfer_files",type:"radio",value:"on",checked:"on"===this.state.transferFiles,"aria-checked":"on"===this.state.transferFiles,"aria-label":"Yes",onChange:this.onTransferFilesChange}),v.intl.formatMessage({id:"LtVgfK",defaultMessage:"Transfer now"})),this.renderTokenizer()),s.default.createElement("div",{className:"deactivate_or_remove_setting_option"},s.default.createElement("label",null,s.default.createElement("input",{name:"transfer_files",type:"radio",value:"off",checked:"off"===this.state.transferFiles,"aria-checked":"off"===this.state.transferFiles,"aria-label":"No",onChange:this.onTransferFilesChange}),v.intl.formatMessage({id:"BssyWI",defaultMessage:"Transfer later"}),this.renderEvhMessage())))},d.prototype.renderTokenizer=function(){var e=this.props.customContactsDataSourceFactory,t=this.state.transferFilesToken&&{tokens:[this.state.transferFilesToken]};return s.default.createElement(m.ContactsTokenizer,{onContentsChange:this.onUpdateContacts,placeholder:v.intl.formatMessage({id:"0Jk4U/",defaultMessage:"Recipient’s name or email"}),populatedInputData:t,user:this.state.user,customContactFilter:this.contactsFilter,customContactValidator:this.contactsValidator,disabled:"off"===this.state.transferFiles,customContactsDataSourceFactory:e})},d.prototype.renderEvhMessage=function(){return this.props.evhEndDate?s.default.createElement("div",{className:"evh-message"},v.intl.formatMessage({id:"A0f9t6",defaultMessage:"You can transfer content until <b>{date}</b>"},{b:function(e){return s.default.createElement("span",{className:"evh-date"},e)},date:this.props.evhEndDate})):null},d.prototype.renderRemoteWipeSetting=function(){return this.showRemoteWipe?s.default.createElement("div",{className:"remote_wipe_setting"},s.default.createElement("div",{className:"verbal_setting_explanation"},v.intl.formatMessage({id:"NLObc3",defaultMessage:"Do you want to delete content from this member’s devices the next time they come online?"})),s.default.createElement("div",{className:"deactivate_or_remove_setting_option"},s.default.createElement("label",null,s.default.createElement("input",{name:"delete_on_unlink",type:"radio",value:"on",checked:"on"===this.state.deleteOnUnlink,"aria-checked":"on"===this.state.deleteOnUnlink,"aria-label":"Yes",onChange:this.onDeleteOnUnlinkChange}),v.intl.formatMessage({id:"U5fgWD",defaultMessage:"Yes"}))),s.default.createElement("div",{className:"deactivate_or_remove_setting_option"},s.default.createElement("label",null,s.default.createElement("input",{name:"delete_on_unlink",type:"radio",value:"off",checked:"off"===this.state.deleteOnUnlink,"aria-checked":"off"===this.state.deleteOnUnlink,"aria-label":"No",onChange:this.onDeleteOnUnlinkChange}),v.intl.formatMessage({id:"gWxS/S",defaultMessage:"No"})))):null},d.prototype.renderSummaryModal=function(e,t,a,n,o){return s.default.createElement("div",null,o&&s.default.createElement(E.WarningBox,{warningText:o}),a&&s.default.createElement("div",null,a),s.default.createElement("div",{className:"user-summary"},s.default.createElement("div",{className:"summary-header"},s.default.createElement(I,{name:this.props.displayName,email:this.props.email,photo_url:this.props.accountPhotoUrl})),s.default.createElement("div",{className:"summary-items"},e.map(this.renderSummaryItem))),s.default.createElement("div",{className:"team-summary"},s.default.createElement("div",{className:"summary-header"},s.default.createElement("img",{src:g.static_url("/static/images/teams/building-vflJW1t3P.png"),alt:v.intl.formatMessage({id:"IYiHJp",defaultMessage:"Team"})}),s.default.createElement("span",{className:"team-name"},this.props.teamName)),s.default.createElement("div",{className:"summary-items"},t.map(this.renderSummaryItem))),n&&s.default.createElement("div",{className:"full-summary-link"},s.default.createElement("a",{href:n,onClick:this.onLearnMoreConversionLink,target:"_blank",rel:"noopener noreferrer"},v.intl.formatMessage({id:"KvFh7N",defaultMessage:"Learn more about account conversion"})," ")),o&&s.default.createElement("div",{className:"summary-warning-spacing"}))},d.prototype.renderSummaryItem=function(e){return s.default.createElement("div",{key:e.text,className:"summary-item"},s.default.createElement("span",{className:"summary-icon"},e.icon),s.default.createElement("span",{className:"summary-text"},e.text))},Object.defineProperty(d.prototype,"displayName",{get:function(){return this.props.displayName||this.props.email},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"showRemoteWipe",{get:function(){return!this.props.invited&&!this.props.hideRemoteWipe&&!this.props.noOffboardDueToAAL},enumerable:!0,configurable:!0}),d})(s.default.Component);t.DeleteUserModal=p.requireCssWithComponent(w,["/static/css/react/contacts_tokenizer-vflPxjRxg.css","/static/css/teams/admin_team_modals-vflg-uTlu.css"]),t.showDeleteUserModal=function(e){return d.showModal(s.default.createElement(t.DeleteUserModal,a.__assign({},e)))}}));
//# sourceMappingURL=delete_user_modal.min.js-vfloCgO5J.map