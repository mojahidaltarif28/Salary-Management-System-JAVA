define(["require","exports","tslib","prop-types","react","react-async-component","rondo/v1/index"],(function(e,t,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncWidget=function(e){var t,c,u=e.resolve,a=e.fetchAction,l=e.readyAction,h=e.LoadingWidget,p=e.ErrorComponent,d=new Promise((function(e,n){t=e,c=n})),_=(function(e){function i(){var r=null!==e&&e.apply(this,arguments)||this;return r.listenFetch=function(){return n.__awaiter(r,void 0,void 0,(function(){var e,r;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,u()];case 1:return e=n.sent(),t(e),l&&l(),this._unsubscribeFetchListener&&this._unsubscribeFetchListener(),[3,3];case 2:return r=n.sent(),l&&l(o.ensureError(r)),c(r),[3,3];case 3:return[2,!0]}}))}))},r}return n.__extends(i,e),i.prototype.UNSAFE_componentWillMount=function(){e.prototype.UNSAFE_componentWillMount.call(this),this.actionListenerMiddleware=this.store.middlewareRegistry.get(o.ACTION_LISTENERS_MIDDLEWARE),a?this._unsubscribeFetchListener=this.actionListenerMiddleware.subscribe(a.type(),this.listenFetch):this.listenFetch()},i.contextTypes={store:r.object},i})(h);return s.asyncComponent({resolve:function(){return d},LoadingComponent:function(e){return i.createElement(_,n.__assign({},e))},ErrorComponent:p?function(e){return i.createElement(p,n.__assign({},e))}:void 0})}}));
//# sourceMappingURL=async_widget.min.js-vflgyoDYw.map