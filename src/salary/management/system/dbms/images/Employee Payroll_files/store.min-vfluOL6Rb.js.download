define(["require","exports","tslib","external/lodash","redux","rondo/v1/behavior","rondo/v1/middleware_registry","rondo/v1/reducers"],(function(e,r,i,t,d,a,o,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t=i.__importStar(t),r.isExtendedStore=function(e){return!!e.reducer},r.createStoreWithBehavior=function(e,r,c){var n;void 0===r&&(r=[]);var u=e.slice,v=e.createReducer(),l=v(void 0,a.createActionMerge()),_=u?t.merge(((n={})[u]=l,n),c):t.merge(l,c),h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({shouldHotReload:!1}):d.compose,S=o.createMiddlewareRegistry();e.middlewares(S);var g=h.apply(void 0,i.__spread([d.applyMiddleware(S)],r)),p=s.createReducer();e.addUnsubscribers(p.addReducer(u,v,!1));var w=d.createStore(p,_,g);w.reducer=p;var R=w.getState;return w.getState=function(){return void 0!==this.reducer.whileDispatchState?this.reducer.whileDispatchState:R()}.bind(w),e.postStoreCreation(w,S),w.middlewareRegistry=S,e.register(),w},r.registerBehavior=function(e,r,i){void 0===i&&(i={});var t=r.slice,d=r.createReducer(),o=i.initBehavior,s=void 0===o||o,c=i.replaceExistingReducer,n=void 0===c||c,u=i.refresh,v=void 0!==u&&u;(!r.isRegistered||n||v)&&r.addUnsubscribers(e.reducer.addReducer(t,d,n)),s&&e.dispatch(a.createActionInitBehavior(r.id)),e.middlewareRegistry&&(r.middlewares(e.middlewareRegistry),r.postStoreCreation(e,e.middlewareRegistry)),r.register()},r.createStore=function(e,i,t,d){return i?(r.registerBehavior(i,e,d),i):r.createStoreWithBehavior(e,[],t)}}));
//# sourceMappingURL=store.min.js-vflVoPB1f.map