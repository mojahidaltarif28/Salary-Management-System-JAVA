define("dropbox/proto/js_init_data/admin_dashboard/dashboard_page",["require","exports","tslib","protobufjs/minimal","dropbox/proto/js_init_data/web_timing_logger/web_timing_logger"],(function(e,t,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=(s=a.__importStar(s)).Reader,i=s.Writer,o=(s.util,s.roots.default||(s.roots.default={}));t.default=o,t.dashboard_page=o.dashboard_page=((n=o.dashboard_page||{}).DashboardPageProps=(function(e){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.variant="",e.prototype.adminRole=0,e.prototype.fileActionsEnabled=!1,e.prototype.externalSharingEnabled=!1,e.prototype.premiumSupportEnabled=!1,e.prototype.webTimingLoggerServerContext=null,e.prototype.externalVisibilityVariant="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.variant&&Object.hasOwnProperty.call(e,"variant")&&t.uint32(10).string(e.variant),null!=e.adminRole&&Object.hasOwnProperty.call(e,"adminRole")&&t.uint32(16).int32(e.adminRole),null!=e.fileActionsEnabled&&Object.hasOwnProperty.call(e,"fileActionsEnabled")&&t.uint32(24).bool(e.fileActionsEnabled),null!=e.externalSharingEnabled&&Object.hasOwnProperty.call(e,"externalSharingEnabled")&&t.uint32(32).bool(e.externalSharingEnabled),null!=e.premiumSupportEnabled&&Object.hasOwnProperty.call(e,"premiumSupportEnabled")&&t.uint32(40).bool(e.premiumSupportEnabled),null!=e.webTimingLoggerServerContext&&Object.hasOwnProperty.call(e,"webTimingLoggerServerContext")&&o.web_timing_logger.WebTimingLoggerServerContext.encode(e.webTimingLoggerServerContext,t.uint32(58).fork()).ldelim(),null!=e.externalVisibilityVariant&&Object.hasOwnProperty.call(e,"externalVisibilityVariant")&&t.uint32(66).string(e.externalVisibilityVariant),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var a=void 0===t?e.len:e.pos+t,s=new o.dashboard_page.DashboardPageProps;e.pos<a;){var n=e.uint32();switch(n>>>3){case 1:s.variant=e.string();break;case 2:s.adminRole=e.int32();break;case 3:s.fileActionsEnabled=e.bool();break;case 4:s.externalSharingEnabled=e.bool();break;case 5:s.premiumSupportEnabled=e.bool();break;case 7:s.webTimingLoggerServerContext=o.web_timing_logger.WebTimingLoggerServerContext.decode(e,e.uint32());break;case 8:s.externalVisibilityVariant=e.string();break;default:e.skipType(7&n)}}return s},e.getTypeUrl=function(){return"type.googleapis.com/dashboard_page.DashboardPageProps"},e})(n.DashboardPageProps||{}),n)})),define("modules/clean/logging/hive/schemas/web-teams",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){var t=this;this.category="web-teams",this.user_id=null,this.team_id=null,this.user_agent=null,this.session_id=null,this.referrer=null,this.locale_user_selected=null,this.country=null,this.anon_ip=null,this.event_name=e.event_name,e.hasOwnProperty("extra")&&void 0!==e.extra&&(this.extra=e.extra),["user_id","team_id","user_agent","session_id","referrer","locale_user_selected","country","anon_ip"].map((function(a){e.hasOwnProperty(a)&&void 0!==e[a]&&(t[a]=e[a])})),Object.seal(this)};t.WebTeamsTableRow=a})),define("modules/clean/rondo/components/tooltip/text_tooltip",["require","exports","tslib","react","spectrum/tooltip","resize-observer-polyfill"],(function(e,t,a,s,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),r=a.__importDefault(r);var i=(function(e){function t(t){var a=e.call(this,t)||this;return a.setChildDiv=function(e){a.childTextDiv&&a.ro.unobserve(a.childTextDiv),a.childTextDiv=e,a.childTextDiv&&a.ro.observe(a.childTextDiv)},a.setTextDiv=function(e){a.textDiv&&a.ro.unobserve(a.textDiv),a.textDiv=e,a.textDiv&&a.ro.observe(a.textDiv)},a.state={trim:!1},a.ro=new r.default((function(e,t){var s=a.textDiv,n=a.childTextDiv,r=a.state.trim?n.scrollWidth>n.offsetWidth:s.scrollWidth>s.offsetWidth;a.setState({trim:r})})),a}return a.__extends(t,e),t.prototype.render=function(){var e={overflow:"hidden",textOverflow:"ellipsis"},t=this.state.trim,a=this.props,r=a.text,i=a.className,o=s.default.createElement(n.Tooltip,{wrapperClassName:"text-tooltip-wrapper",tooltipContent:r,forceSingleLine:!0},s.default.createElement("div",{style:e,ref:this.setChildDiv},r));return s.default.createElement("div",{style:e,className:i,ref:this.setTextDiv},t?o:r)},t})(s.default.Component);t.TextTooltip=i})),define("modules/clean/teams/dashboard/dashboard",["require","exports","tslib","react","react-redux","modules/clean/teams/dashboard/data/store","modules/clean/web_timing_logger","modules/clean/teams/dashboard/data/action_creators","modules/clean/teams/dashboard/data/selectors","modules/clean/teams/dashboard/view/dashboard_view","dropbox/proto/js_init_data/admin_dashboard/dashboard_page","proto_utils/unpack"],(function(e,t,a,s,n,r,i,o,d,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),i=a.__importStar(i);var m=r.getDashboardStore(),p=n.connect((function(e){return{stateResult:d.getDashboardStateResult(e),suggestedMembersResult:d.getDashboardSuggestedMembersResult(e),isLoadingState:d.getDashboardStateLoading(e),stateError:d.getDashboardStateError(e),adminRole:d.getAdminRole(e),fileActionsEnabled:d.isFileActionsEnabled(e),externalSharingEnabled:d.isExternalSharingEnabled(e),premiumSupportEnabled:d.isPremiumSupportEnabled(e),externalVisibilityVariant:d.getExternalVisibilityVariant(e)}}),(function(e){return{loadHistoricMetrics:function(t,a){e(o.loadHistoricMetrics(t,a))},loadStateMetrics:function(t){return void 0===t&&(t=!1),e(o.loadStateMetrics(t))},loadSuggestedMembers:function(){return e(o.loadSuggestedMembers())}}}))(l.DashboardView),f=(function(e){function t(t){var a=e.call(this,t)||this;return m.dispatch(o.initStore(t)),a}return a.__extends(t,e),t.prototype.componentWillMount=function(){i.log_js_modules_application_code_start(),i.log_js_modules_fetched_data_required_for_tti()},t.prototype.render=function(){return s.default.createElement(n.Provider,{store:m},s.default.createElement(p,a.__assign({},this.props)))},t})(s.default.Component);t.RootComponent=function(e){var t=u.unpackProto(e.encodedProto,c.dashboard_page.DashboardPageProps);return t.webTimingLoggerServerContext&&i.initialize({},t.webTimingLoggerServerContext),s.default.createElement(f,a.__assign({},t))}})),define("modules/clean/teams/dashboard/data/action_creators",["require","exports","tslib","modules/clean/teams/dashboard/data/types","modules/clean/teams/dashboard/data/dashboard_api","modules/clean/teams/dashboard/data/selectors","modules/clean/teams/dashboard/data/utils/dashboard_logger","modules/clean/devtools/utils","modules/core/notify","modules/clean/teams/dashboard/view/copies","modules/clean/teams/dashboard/data/utils/errors","modules/clean/teams/dashboard/view/indications/types","modules/clean/teams/dashboard/data/preload"],(function(e,t,a,s,n,r,i,o,d,l,c,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initStore=function(e){return{type:s.DashboardActionTypes.INIT_STORE,payload:{initProps:e}}},t.loadMetricsSuccess=function(e,t){return{type:s.DashboardActionTypes.LOAD_METRICS_SUCCESS,payload:{result:e,metricType:t}}},t.loadMetricsError=function(e,t){return{type:s.DashboardActionTypes.LOAD_METRICS_ERROR,payload:{error:e,metricType:t}}},t.setLoadingMetrics=function(e){return{type:s.DashboardActionTypes.SET_LOADING,payload:{metricType:e}}},t.setIndicationReportPending=function(e){return{type:s.DashboardActionTypes.SET_INDICATION_REPORT_PENDING,payload:e}},t.sortSharedDomains=function(e){return{type:s.DashboardActionTypes.SORT_SHARED_DOMAINS,payload:e}},t.removeSuggestedMembersFromStore=function(e){return{type:s.DashboardActionTypes.REMOVE_SUGGESTED_MEMBERS,payload:e}},t.disableSuggestedMember=function(e){return{type:s.DashboardActionTypes.DISABLE_SUGGESTED_MEMBERS,payload:e}},t.hideSuggestedMember=function(e){return function(s,r){return s(t.disableSuggestedMember([e.email])),i.logDashboardEventToHive(i.createSuggestedMembersLogObject("suggested_members_hide_clicked",{user_id:e.id})),n.hideSuggestedMember({user_email:e.email}).then((function(e){e.status,e.status})).catch((function(e){})).finally((function(){return a.__awaiter(void 0,void 0,void 0,(function(){return a.__generator(this,(function(a){switch(a.label){case 0:return[4,o.delay(250)];case 1:return a.sent(),s(t.removeSuggestedMembersFromStore([e.email])),[2]}}))}))}))}};var p={keys:[{".tag":"team_usage"},{".tag":"team_shared_usage"},{".tag":"team_unshared_usage"},{".tag":"num_file_events"},{".tag":"num_upload_file_events"},{".tag":"num_download_file_events"},{".tag":"num_edit_file_events"},{".tag":"num_preview_file_events"}]};t.loadHistoricMetrics=function(e,a){return void 0===e&&(e=p),void 0===a&&(a=s.MetricTypes.HISTORIC),function(s,i){return r.getDashboardFileActivityLoading(i())&&r.getDashboardStorageLoading(i())||s(t.setLoadingMetrics(a)),n.getDashboardHistoricMetrics(e).then((function(e){s(t.loadMetricsSuccess(e,a))})).catch((function(e){var n=e.message||l.GENERAL_ERROR_MSG;s(t.loadMetricsError(n,a))}))}},t.getIndicationsMetricKeys=function(){return[{".tag":"num_stale_shared_links_opened"},{".tag":"num_no_expiration_shared_links_created"},{".tag":"num_no_password_shared_links_opened"},{".tag":"num_no_password_shared_links_created"}]},t.loadIndicationsMetrics=function(e){return void 0===e&&(e=!1),function(a,i){return r.getDashboardIndicationsLoading(i())||a(t.setLoadingMetrics(s.MetricTypes.INDICATIONS)),e?m.preloadGetIndication().then((function(e){a(t.loadMetricsSuccess(e,s.MetricTypes.INDICATIONS))})).catch((function(e){a(t.loadIndicationsMetrics())})):n.getDashboardHistoricMetrics({keys:t.getIndicationsMetricKeys()}).then((function(e){a(t.loadMetricsSuccess(e,s.MetricTypes.INDICATIONS))})).catch((function(e){var n=e.message||l.GENERAL_ERROR_MSG;a(t.loadMetricsError(n,s.MetricTypes.INDICATIONS))}))}},t.loadStateMetrics=function(e){return void 0===e&&(e=!1),function(a,i){return r.getDashboardStateLoading(i())||a(t.setLoadingMetrics(s.MetricTypes.STATE)),e?m.preloadGetState().then((function(e){a(t.loadMetricsSuccess(e,s.MetricTypes.STATE))})).catch((function(e){a(t.loadStateMetrics())})):n.getDashboardStateMetrics().then((function(e){a(t.loadMetricsSuccess(e,s.MetricTypes.STATE))})).catch((function(e){var n=e.message||l.GENERAL_ERROR_MSG;a(t.loadMetricsError(n,s.MetricTypes.STATE))}))}},t.loadSuggestedMembers=function(){return function(e,a){r.getDashboardSuggestedMembersLoading(a())||e(t.setLoadingMetrics(s.MetricTypes.SUGGESTED_MEMBERS)),n.getDashboardSuggestedMembers().then((function(a){e(t.loadMetricsSuccess(a,s.MetricTypes.SUGGESTED_MEMBERS))})).catch((function(a){var n=a.message||l.GENERAL_ERROR_MSG;e(t.loadMetricsError(n,s.MetricTypes.SUGGESTED_MEMBERS))}))}},t.loadDomainsMetrics=function(e){return void 0===e&&(e={}),function(a,i){r.getDashboardDomainsLoading(i())||a(t.setLoadingMetrics(s.MetricTypes.DOMAINS)),n.getDashboardDomainsMetrics(e).then((function(e){a(t.loadMetricsSuccess(e,s.MetricTypes.DOMAINS))})).catch((function(e){var n=e.message||l.GENERAL_ERROR_MSG;a(t.loadMetricsError(n,s.MetricTypes.DOMAINS))}))}},t.createOutatedLinksReport=function(e){return void 0===e&&(e={}),function(a,s){return a(t.setIndicationReportPending(!0)),n.createOutdatedLinksIndicationReport(e).then((function(){return d.Notify.success(l.INDICATIONS_REPORT_MODAL.successMessage)})).catch((function(e){return d.Notify.error(c.errorToMessage(e))})).finally((function(){return a(t.setIndicationReportPending(!1))}))}},t.createNoPasswordLinksReport=function(e){return void 0===e&&(e={}),function(a,s){return a(t.setIndicationReportPending(!0)),n.createNoPasswordLinksIndicationReport(e).then((function(){return d.Notify.success(l.INDICATIONS_REPORT_MODAL.successMessage)})).catch((function(e){return d.Notify.error(c.errorToMessage(e))})).finally((function(){return a(t.setIndicationReportPending(!1))}))}},t.createNoPasswordLinksGenReport=function(e){return void 0===e&&(e={}),function(a,s){return a(t.setIndicationReportPending(!0)),n.createNoPasswordLinksGenIndicationReport(e).then((function(){return d.Notify.success(l.INDICATIONS_REPORT_MODAL.successMessage)})).catch((function(e){return d.Notify.error(c.errorToMessage(e))})).finally((function(){return a(t.setIndicationReportPending(!1))}))}},t.createNoExpLinksReport=function(e){return void 0===e&&(e={}),function(a,s){return a(t.setIndicationReportPending(!0)),n.createNoExpLinksIndicationReport(e).then((function(){return d.Notify.success(l.INDICATIONS_REPORT_MODAL.successMessage)})).catch((function(e){return d.Notify.error(c.errorToMessage(e))})).finally((function(){return a(t.setIndicationReportPending(!1))}))}},t.createExternalSharingReportAction=function(){return function(e,s){return a.__awaiter(void 0,void 0,void 0,(function(){var s;return a.__generator(this,(function(a){switch(a.label){case 0:i.logDashboardEventToHive(i.createIndicationReportLogObject("report_modal_create",{report_type:u.IndicationMetricType.createExternalSharing})),e(t.setIndicationReportPending(!0)),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,n.createExternalSharingReport()];case 2:return a.sent(),d.Notify.success(l.INDICATIONS_REPORT_MODAL.successMessage),[3,5];case 3:return s=a.sent(),d.Notify.error(c.errorToMessage(s)),[3,5];case 4:return e(t.setIndicationReportPending(!1)),[7];case 5:return[2]}}))}))}}})),define("modules/clean/teams/dashboard/data/dashboard_api",["require","exports","tslib","modules/clean/teams/admin/api/admin_console_api_client","modules/constants/time"],(function(e,t,a,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.getDashboardHistoricMetrics=function(e){return(new s.AdminConsoleApiClient).teamInsightsRoutes().rpc("get_historic_metrics",e,{})},t.getDashboardStateMetrics=function(e){return(new s.AdminConsoleApiClient).teamInsightsRoutes().rpc("get_state",e,{})},t.getDashboardSuggestedMembers=function(e){return(new s.AdminConsoleApiClient).teamInsightsRoutes().rpc("get_suggested_members",e,{})},t.getDashboardDomainsMetrics=function(e){return(new s.AdminConsoleApiClient).teamInsightsRoutes().rpc("list_external_shared_domains",e,{})},t.sendInviteReminders=function(e){return(new s.AdminConsoleApiClient).teamRoutes().rpc("resend_invites",e,{})},t.hideSuggestedMember=function(e){return(new s.AdminConsoleApiClient).teamRoutes().rpc("hide_suggested_member",e,{})},t.createOutdatedLinksIndicationReport=function(e){return(new s.AdminConsoleApiClient).teamRoutes().rpc("reports/create_outdated_links",e,{})},t.createNoPasswordLinksIndicationReport=function(e){return(new s.AdminConsoleApiClient).teamRoutes().rpc("reports/create_no_password_links_exposure",e,{})},t.createNoPasswordLinksGenIndicationReport=function(e){return(new s.AdminConsoleApiClient).teamRoutes().rpc("reports/create_no_password_links_gen",e,{})},t.createNoExpLinksIndicationReport=function(e){return(new s.AdminConsoleApiClient).teamRoutes().rpc("reports/create_no_exp_links",e,{})},t.createExternalSharingReport=function(){var e={timezone_offset:60*n.TIMEZONE_OFFSET};return(new s.AdminConsoleApiClient).teamRoutes().rpc("external_sharing/create_report",e,{})}})),define("modules/clean/teams/dashboard/data/preload",["require","exports","modules/clean/react/home/util/prefetch_handler"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preloadGetState=function(){return s("__REGISTER_DASHBOARD_GET_STATE_PRELOAD_HANDLER")},t.preloadGetIndication=function(){return s("__REGISTER_DASHBOARD_GET_INDICATION_PRELOAD_HANDLER")};var s=function(e){return new Promise((function(t,s){var n=a.getPrefetchHandler(e);if(n){a.handlePrefetch(n,(function(e){try{t((a=e,JSON.parse(a)))}catch(e){s(e)}var a}),s)}else s("Not Found")}))}})),define("modules/clean/teams/dashboard/data/reducer",["require","exports","tslib","modules/clean/teams/dashboard/data/types","modules/clean/teams/dashboard/data/utils/shared_domains_utils"],(function(e,t,a,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDashboardState={variant:"",adminRole:s.AdminRole.UNKNOWN,fileActionsEnabled:!1,externalSharingEnabled:!1,isLoadingIndications:!0,isLoadingState:!0,isLoadingSuggestedMembers:!0,isLoadingDomains:!0,isLoadingFileActivity:!0,isLoadingStorage:!0,isIndicationReportPending:!1,fileActivityError:"",storageError:"",stateError:"",suggestedMembersError:"",domainsError:"",indicationsError:"",premiumSupportEnabled:!1,order:n.SortDirection.DESCENDING,externalVisibilityVariant:"OFF",stateResult:{num_active_members:0,num_joined_members:0,num_suspended_members:0,num_invited_members:0,num_unused_licenses:0,num_total_licenses:0,num_purchased_licenses:0,true_up_enabled:!1,team_usage:0,team_quota:0,renewal_date:"",can_add_licenses:!1,num_member_requests:0,team_just_in_time_licensing_enabled:!1},suggestedMembersResult:{suggested_members:[]},fileActivityResult:{start_time:"",end_time:"",granularity:1},storageResult:{start_time:"",end_time:"",granularity:1},indicationsResult:{start_time:"",end_time:"",granularity:1},domainsResult:{domains:[],start_time:"",end_time:""},disabledSuggestedMembers:[]};var r=function(e){return{start_time:e.start_time,end_time:e.end_time,granularity:e.granularity,num_file_events:e.num_file_events,num_upload_file_events:e.num_upload_file_events,num_download_file_events:e.num_download_file_events,num_edit_file_events:e.num_edit_file_events,num_preview_file_events:e.num_preview_file_events}},i=function(e){return{start_time:e.start_time,end_time:e.end_time,granularity:e.granularity,team_usage:e.team_usage,team_shared_usage:e.team_shared_usage,team_unshared_usage:e.team_unshared_usage}};t.dashboardReducer=function(e,o){switch(void 0===e&&(e=t.defaultDashboardState),o.type){case s.DashboardActionTypes.INIT_STORE:return(function(e){var t=e.state,s=e.initProps;return a.__assign(a.__assign({},t),s)})(a.__assign({state:e},o.payload));case s.DashboardActionTypes.LOAD_METRICS_SUCCESS:return(function(e,t){return t.metricType===s.MetricTypes.HISTORIC?a.__assign(a.__assign({},e),{fileActivityError:"",storageError:"",fileActivityResult:r(t.result),storageResult:i(t.result),isLoadingFileActivity:!1,isLoadingStorage:!1}):t.metricType===s.MetricTypes.INDICATIONS?a.__assign(a.__assign({},e),{indicationsResult:t.result,indicationsError:"",isLoadingIndications:!1}):t.metricType===s.MetricTypes.STATE?a.__assign(a.__assign({},e),{stateResult:t.result,stateError:"",isLoadingState:!1}):t.metricType===s.MetricTypes.SUGGESTED_MEMBERS?a.__assign(a.__assign({},e),{suggestedMembersResult:t.result,suggestedMembersError:"",isLoadingSuggestedMembers:!1}):t.metricType===s.MetricTypes.FILE_ACTIVITY_HISTORIC?a.__assign(a.__assign({},e),{fileActivityError:"",fileActivityResult:r(t.result),isLoadingFileActivity:!1}):t.metricType===s.MetricTypes.STORAGE_HISTORIC?a.__assign(a.__assign({},e),{storageError:"",storageResult:i(t.result),isLoadingStorage:!1}):t.metricType===s.MetricTypes.DOMAINS?a.__assign(a.__assign({},e),{domainsResult:{start_time:t.result.start_time,end_time:t.result.end_time,domains:t.result.domains.sort(n.directionToSortFunction[e.order])},domainsError:"",isLoadingDomains:!1}):e})(e,a.__assign({},o.payload));case s.DashboardActionTypes.LOAD_METRICS_ERROR:return(function(e,t){return t.metricType===s.MetricTypes.HISTORIC?a.__assign(a.__assign({},e),{fileActivityError:t.error,storageError:t.error,isLoadingFileActivity:!1,isLoadingStorage:!1}):t.metricType===s.MetricTypes.INDICATIONS?a.__assign(a.__assign({},e),{indicationsError:t.error,isLoadingIndications:!1}):t.metricType===s.MetricTypes.STATE?a.__assign(a.__assign({},e),{stateError:t.error,isLoadingState:!1}):t.metricType===s.MetricTypes.SUGGESTED_MEMBERS?a.__assign(a.__assign({},e),{suggestedMembersError:t.error,isLoadingSuggestedMembers:!1}):t.metricType===s.MetricTypes.FILE_ACTIVITY_HISTORIC?a.__assign(a.__assign({},e),{fileActivityError:t.error,isLoadingFileActivity:!1}):t.metricType===s.MetricTypes.STORAGE_HISTORIC?a.__assign(a.__assign({},e),{storageError:t.error,isLoadingStorage:!1}):t.metricType===s.MetricTypes.DOMAINS?a.__assign(a.__assign({},e),{domainsError:t.error,isLoadingDomains:!1}):e})(e,a.__assign({},o.payload));case s.DashboardActionTypes.SET_LOADING:return(function(e,t){return t.metricType===s.MetricTypes.HISTORIC?a.__assign(a.__assign({},e),{fileActivityError:"",storageError:"",isLoadingFileActivity:!0,isLoadingStorage:!0}):t.metricType===s.MetricTypes.INDICATIONS?a.__assign(a.__assign({},e),{indicationsError:"",isLoadingIndications:!0}):t.metricType===s.MetricTypes.STATE?a.__assign(a.__assign({},e),{stateError:"",isLoadingState:!0}):t.metricType===s.MetricTypes.SUGGESTED_MEMBERS?a.__assign(a.__assign({},e),{suggestedMembersError:"",isLoadingSuggestedMembers:!0}):t.metricType===s.MetricTypes.FILE_ACTIVITY_HISTORIC?a.__assign(a.__assign({},e),{fileActivityError:"",isLoadingFileActivity:!0}):t.metricType===s.MetricTypes.STORAGE_HISTORIC?a.__assign(a.__assign({},e),{storageError:"",isLoadingStorage:!0}):t.metricType===s.MetricTypes.DOMAINS?a.__assign(a.__assign({},e),{domainsError:"",isLoadingDomains:!0}):e})(e,a.__assign({},o.payload));case s.DashboardActionTypes.SET_INDICATION_REPORT_PENDING:return(function(e,t){return a.__assign(a.__assign({},e),{isIndicationReportPending:t})})(e,o.payload);case s.DashboardActionTypes.SORT_SHARED_DOMAINS:return(function(e,t){if(e.order===t)return e;var s=e.domainsResult.domains.sort(n.directionToSortFunction[t]);return a.__assign(a.__assign({},e),{order:t,domainsResult:a.__assign(a.__assign({},e.domainsResult),{domains:s})})})(e,o.payload);case s.DashboardActionTypes.REMOVE_SUGGESTED_MEMBERS:return(function(e,t){return a.__assign(a.__assign({},e),{suggestedMembersResult:a.__assign(a.__assign({},e.suggestedMembersResult),{suggested_members:e.suggestedMembersResult.suggested_members.slice(0,e.stateResult.num_unused_licenses).filter((function(e){return t.indexOf(e.email)<0}))})})})(e,o.payload);case s.DashboardActionTypes.DISABLE_SUGGESTED_MEMBERS:return(function(e,t){return a.__assign(a.__assign({},e),{disabledSuggestedMembers:a.__spreadArrays(e.disabledSuggestedMembers,t)})})(e,o.payload)}return e}})),define("modules/clean/teams/dashboard/data/selectors",["require","exports","modules/clean/teams/dashboard/data/state_selector","modules/clean/teams/dashboard/data/types","modules/clean/teams/dashboard/data/utils/utils"],(function(e,t,a,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDashboardFileActivityResult=function(e){return a.getDashboardState(e).fileActivityResult},t.getDashboardStorageResult=function(e){return a.getDashboardState(e).storageResult},t.getDashboardIndicationsResult=function(e){return a.getDashboardState(e).indicationsResult},t.getDashboardStateResult=function(e){return a.getDashboardState(e).stateResult},t.getDashboardSuggestedMembersResult=function(e){return a.getDashboardState(e).suggestedMembersResult},t.getDashboardDomainsResult=function(e){return a.getDashboardState(e).domainsResult},t.getDashboardFileActivityLoading=function(e){return a.getDashboardState(e).isLoadingFileActivity},t.getDashboardStorageLoading=function(e){return a.getDashboardState(e).isLoadingStorage},t.getDashboardIndicationsLoading=function(e){return a.getDashboardState(e).isLoadingIndications},t.getDashboardStateLoading=function(e){return a.getDashboardState(e).isLoadingState},t.getDashboardSuggestedMembersLoading=function(e){return a.getDashboardState(e).isLoadingSuggestedMembers},t.getDashboardDomainsLoading=function(e){return a.getDashboardState(e).isLoadingDomains},t.getIndicationReportPending=function(e){return a.getDashboardState(e).isIndicationReportPending},t.getDashboardFileActivityError=function(e){return a.getDashboardState(e).fileActivityError},t.getDashboardStorageError=function(e){return a.getDashboardState(e).storageError},t.getDashboardIndicationsError=function(e){return a.getDashboardState(e).indicationsError},t.getDashboardStateError=function(e){return a.getDashboardState(e).stateError},t.getDashboardDomainsError=function(e){return a.getDashboardState(e).domainsError},t.getDashboardDomainsOrder=function(e){return a.getDashboardState(e).order},t.getDashboardVariant=function(e){return a.getDashboardState(e).variant},t.getAdminRole=function(e){return n.normalizeAdminRole(a.getDashboardState(e).adminRole)},t.isSuperAdmin=function(e){return t.getAdminRole(e)===s.AdminRole.SUPER},t.isFileActionsEnabled=function(e){return a.getDashboardState(e).fileActionsEnabled},t.isExternalSharingEnabled=function(e){return a.getDashboardState(e).externalSharingEnabled},t.disabledSuggestedMembersList=function(e){return a.getDashboardState(e).disabledSuggestedMembers},t.getSuggestedMembers=function(e){var a=t.getDashboardStateResult(e).num_unused_licenses;return t.getDashboardStateResult(e).can_add_licenses?t.getDashboardSuggestedMembersResult(e).suggested_members:t.getDashboardSuggestedMembersResult(e).suggested_members.slice(0,a)},t.getIsLoadingIndications=function(e){return a.getDashboardState(e).isLoadingIndications},t.isPremiumSupportEnabled=function(e){return a.getDashboardState(e).premiumSupportEnabled},t.getExternalVisibilityVariant=function(e){switch(a.getDashboardState(e).externalVisibilityVariant){case"M1":case"ON":return"M1";case"M2":return"M2";case"M3":return"M3";default:return"OFF"}}})),define("modules/clean/teams/dashboard/data/state_selector",["require","exports","modules/clean/redux/namespaces","modules/clean/redux/selectors","modules/clean/teams/dashboard/data/reducer"],(function(e,t,a,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDashboardState=function(e){return s.getStateAtNamespace(e,a.DASHBOARD_NAMESPACE_KEY)||n.defaultDashboardState}})),define("modules/clean/teams/dashboard/data/store",["require","exports","tslib","external/lodash","modules/clean/redux/store","modules/clean/redux/namespaces","modules/clean/teams/dashboard/data/reducer"],(function(e,t,a,s,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s),t.getDashboardStore=s.once((function(){var e;return n.getStoreAndRegisterReducers(((e={})[r.DASHBOARD_NAMESPACE_KEY]=i.dashboardReducer,e))}))})),define("modules/clean/teams/dashboard/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.INIT_STORE="DASHBOARD/INIT_STORE",e.LOAD_METRICS_SUCCESS="DASHBOARD/LOAD_METRICS_SUCCESS",e.LOAD_METRICS_ERROR="DASHBOARD/LOAD_METRICS_ERROR",e.SET_LOADING="DASHBOARD/SET_LOADING",e.SORT_SHARED_DOMAINS="DASHBOARD/SORT_SHARED_DOMAINS",e.REMOVE_SUGGESTED_MEMBERS="DASHBOARD/REMOVE_SUGGESTED_MEMBERS",e.DISABLE_SUGGESTED_MEMBERS="DASHBOARD/DISABLE_SUGGESTED_MEMBERS",e.SET_INDICATION_REPORT_PENDING="DASHBOARD/SET_INDICATION_REPORT_PENDING"})(t.DashboardActionTypes||(t.DashboardActionTypes={})),(function(e){e[e.SUPER=10]="SUPER",e[e.USER_MANAGEMENT=11]="USER_MANAGEMENT",e[e.HELPDESK=12]="HELPDESK",e[e.UNKNOWN=0]="UNKNOWN"})(t.AdminRole||(t.AdminRole={})),(function(e){e[e.HISTORIC=1]="HISTORIC",e[e.INDICATIONS=2]="INDICATIONS",e[e.STATE=3]="STATE",e[e.DOMAINS=4]="DOMAINS",e[e.FILE_ACTIVITY_HISTORIC=5]="FILE_ACTIVITY_HISTORIC",e[e.STORAGE_HISTORIC=6]="STORAGE_HISTORIC",e[e.SUGGESTED_MEMBERS=7]="SUGGESTED_MEMBERS"})(t.MetricTypes||(t.MetricTypes={}))})),define("modules/clean/teams/dashboard/data/utils/activity_page_link_builder_utils",["require","exports","modules/clean/datetime"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this;this.getLink=function(){var t=[];return e.options.from&&t.push("from="+e.options.from),e.options.to&&t.push("to="+e.options.to),e.options.eventTypes&&t.push("event_types="+e.options.eventTypes),e.options.onlyNonTeamMembers&&t.push("include_only_non_team_member_events=true"),t.length?"/team/admin/activity?"+t.join("&"):"/team/admin/activity"},this.fromDate=function(t){return e.options.from=a.format_date(t,"yyyy-M-d"),e},this.toDate=function(t){return e.options.to=a.format_date(t,"yyyy-M-d"),e},this.withEventTypes=function(t){return e.options.eventTypes=t.join(","),e},this.includeOnlyNonTeamMembers=function(){return e.options.onlyNonTeamMembers=!0,e},this.options={}};t.ActivityPageLinkBuilder=s})),define("modules/clean/teams/dashboard/data/utils/dashboard_logger",["require","exports","tslib","modules/clean/logging/telemetry","modules/clean/logging/hive/schemas/web-teams"],(function(e,t,a,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new((s=a.__importStar(s)).HiveLogger);t.logDashboardEventToHive=function(e){var t=e.eventName,a=e.extra;t&&r.log(new n.WebTeamsTableRow({event_name:"dashboard_"+t,extra:a}))};var i=function(e,t,s){return void 0===s&&(s={}),{eventName:t,extra:a.__assign(a.__assign({},s),{sourceModule:e})}};t.createOverviewLogObject=function(e,t){return void 0===t&&(t={}),i("overview",e,t)},t.createLicensesLogObject=function(e,t){return void 0===t&&(t={}),i("licenses",e,t)},t.createStorageLogObject=function(e,t){return void 0===t&&(t={}),i("storage",e,t)},t.createSharedDomainsLogObejct=function(e,t){return void 0===t&&(t={}),i("shared_domains",e,t)},t.createMembershipRequestsLogObject=function(e,t){return void 0===t&&(t={}),i("membership_requests",e,t)},t.createSuggestedMembersLogObject=function(e,t){return void 0===t&&(t={}),i("suggested_members",e,t)},t.createPremiumSupportLogObject=function(e,t){return void 0===t&&(t={}),i("premium_support",e,t)},t.createIndicationReportLogObject=function(e,t){return void 0===t&&(t={}),i("indication_report",e,t)}})),define("modules/clean/teams/dashboard/data/utils/errors",["require","exports","modules/core/i18n"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={generic_error:a.intl.formatMessage({id:"lfq+HN",defaultMessage:"Something went wrong. Please try again later."}),rate_limit:a.intl.formatMessage({id:"qO60N2",defaultMessage:"Couldn’t generate report. Try again once your other reports finish."}),default:a.intl.formatMessage({id:"DOiA9c",defaultMessage:"Something went wrong. We’re working on it."})};t.errorToMessage=function(e){var t=null;switch(e.error?e.error[".tag"]:null){case"generic_error":t=s.generic_error;break;case"rate_limit":t=s.rate_limit;break;default:t=s.default}return t}})),define("modules/clean/teams/dashboard/data/utils/shared_domains_utils",["require","exports"],(function(e,t){"use strict";var a,s;Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"})(s=t.SortDirection||(t.SortDirection={}));var n=function(e,t,a){var n=1;return a===s.ASCENDING&&(n=-1),e.num_of_shares<t.num_of_shares?1*n:e.num_of_shares>t.num_of_shares?-1*n:e.domain>t.domain?1*n:e.domain<t.domain?-1*n:0};t.directionToSortFunction=((a={})[s.ASCENDING]=function(e,t){return n(e,t,s.ASCENDING)},a[s.DESCENDING]=function(e,t){return n(e,t,s.DESCENDING)},a)})),define("modules/clean/teams/dashboard/data/utils/storage_time_util",["require","exports","modules/clean/storage"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(){function e(e){this.storage=e}return e.prototype.setWithTTL=function(e,t,a){var s={ttl:Date.now()+1e3*a,value:t};this.storage.set(e,JSON.stringify(s))},e.prototype.get=function(e){var t=this.storage.get(e);if(t){var a=Date.now(),s=JSON.parse(t);return s.ttl>=a?s.value:void this.delete(e)}},e.prototype.delete=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var a=0,s=e;a<s.length;a++){var n=s[a];this.storage.delete(n)}},e})();t.LocalStorageWithTTL=new s(a.LocalStorage)})),define("modules/clean/teams/dashboard/data/utils/tti_util",["require","exports","tslib","modules/clean/web_timing_logger"],(function(e,t,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s);var n=(function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.marked=!1;for(var a={},s=0,n=e;s<n.length;s++){var r=n[s];a[r]=!1}this.registry=a}return e.prototype.markInteractive=function(e){this.registry[e]=!0;for(var t=0,a=Object.keys(this.registry);t<a.length;t++){var n=a[t];if(!this.registry[n])return}this.marked||(this.marked=!0,s.mark_time_to_view(),s.mark_time_to_interactive())},e.prototype.registerAndMakeMarkInteractiveFn=function(e){var t=this;return this.registry.hasOwnProperty(e)||(this.registry[e]=!1),function(){return setTimeout((function(){return t.markInteractive(e)}),0)}},e})();t.TTICollector=n})),define("modules/clean/teams/dashboard/data/utils/utils",["require","exports","modules/clean/teams/dashboard/data/types"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeAdminRole=function(e){return 0===e||10===e?a.AdminRole.SUPER:1===e||11===e?a.AdminRole.USER_MANAGEMENT:2===e||12===e?a.AdminRole.HELPDESK:a.AdminRole.SUPER}})),define("modules/clean/teams/dashboard/highcharts-react-official/highchartsReact",["require","exports","tslib","react","highcharts-7"],(function(e,t,a,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),n=a.__importDefault(n);var r=(function(e){function t(t){var a=e.call(this,t)||this;return a.container=s.default.createRef(),a}return a.__extends(t,e),t.prototype.createChart=function(){var e=this.props,t=e.highcharts||n.default,a=e.constructorType||"chart";t?t[a]?e.options?this.chart=t[a](this.container.current,e.options,e.callback?e.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')},t.prototype.componentDidMount=function(){this.createChart()},t.prototype.componentDidUpdate=function(){var e,t=this.props;!1!==t.allowChartUpdate&&(!t.immutable&&this.chart&&t.options?(e=this.chart).update.apply(e,a.__spreadArrays([t.options],t.updateArgs||[!0,!0])):this.createChart())},t.prototype.componentWillUnmount=function(){this.chart&&(this.chart.destroy(),this.chart=null)},t.prototype.render=function(){return s.default.createElement("div",a.__assign(a.__assign({},this.props.containerProps),{ref:this.container}))},t})(s.default.PureComponent);t.default=r})),define("modules/clean/teams/dashboard/view/common_widget_states/error",["require","exports","tslib","react","classnames","modules/clean/teams/dashboard/view/copies"],(function(e,t,a,s,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),n=a.__importDefault(n),t.ErrorComponent=function(e){return s.default.createElement("div",{className:n.default("dashboard-error",e.className)},s.default.createElement("div",{className:"dashboard-msg-error"},r.GENERAL_ERROR_MSG))}})),define("modules/clean/teams/dashboard/view/common_widget_states/loading_indicator",["require","exports","tslib","react","classnames","modules/clean/components/loading_indicator","modules/clean/react/css","modules/clean/teams/dashboard/view/copies"],(function(e,t,a,s,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),n=a.__importDefault(n);t.LoadingIndicator=i.requireCssWithComponent((function(e){return s.default.createElement("div",{className:n.default("dashboard-loading",e.className)},s.default.createElement("div",{className:"dashboard-loading-text"},o.LOADING_TEXT),s.default.createElement(r.LoadingIndicator,{style:r.LoadingIndicatorStyle.SPINNER,startMessage:""}))}),["/static/css/components/loading_indicator-vflkh07Fb.css"]),t.LoadingSpinner=i.requireCssWithComponent((function(){return s.default.createElement(r.LoadingIndicator,{style:r.LoadingIndicatorStyle.SPINNER,startMessage:""})}),["/static/css/components/loading_indicator-vflkh07Fb.css"])})),define("modules/clean/teams/dashboard/view/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COLORS={COLOR_STONE:"#637282"}})),define("modules/clean/teams/dashboard/view/copies",["require","exports","tslib","modules/core/i18n","react-intl","modules/constants/trademark","modules/core/html","react"],(function(e,t,a,s,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importDefault(o),t.BREADCRUMBS_TEXT=s.intl.formatMessage({id:"KfLLjt",defaultMessage:"Insights"}),t.LOADING_TEXT=s.intl.formatMessage({id:"MxPNMY",defaultMessage:"Getting insights..."}),t.ACTIVE_MEMBERS={actions:[s.intl.formatMessage({id:"n92loR",defaultMessage:"View members"})],familyName:s.intl.formatMessage({id:"58JJSJ",defaultMessage:"Team overview"}),metricName:s.intl.formatMessage({id:"RIsaOb",defaultMessage:"Members"}),tooltipContent:s.intl.formatMessage({id:"uDn+Ex",defaultMessage:"Includes active, invited, and suspended members"})},t.SPACE_USED={actions:[s.intl.formatMessage({id:"MXShkW",defaultMessage:"Request space"})],metricName:s.intl.formatMessage({id:"utRrNM",defaultMessage:"Space used"})},t.RENEWAL_DATE={metricName:s.intl.formatMessage({id:"TZiR1V",defaultMessage:"Renewal date"})},t.PURCHASED_LICENSES={metricName:s.intl.formatMessage({id:"AqdxzJ",defaultMessage:"Purchased"}),tooltipContent:s.intl.formatMessage({id:"J50R5r",defaultMessage:"If you use more licenses than you’ve purchased, you’ll be charged for the extras at your next billing cycle"})},t.PREMIUM_FEATURE={metricName:s.intl.formatMessage({id:"xb3b5k",defaultMessage:"Customer support"}),support:s.intl.formatMessage({id:"KdIB93",defaultMessage:"Premium"}),actions:[s.intl.formatMessage({id:"xRKxh4",defaultMessage:"See my options"})],popoverContent:s.intl.formatMessage({id:"KuiQtR",defaultMessage:"Get immediate answers via chat or phone. You can even schedule a time for us to call you."}),popoverText:s.intl.formatMessage({id:"KwJuTa",defaultMessage:"Tell me more."})};var d=s.intl.formatMessage({id:"W4vRXF",defaultMessage:"Manage licenses"}),l=s.intl.formatMessage({id:"SfbIwa",defaultMessage:"Buy licenses"}),c=s.intl.formatMessage({id:"kIpt1I",defaultMessage:"Invite members"});t.LICENSES_REMAINING={actions:[l,c],metricName:{nonTrueUp:s.intl.formatMessage({id:"WRAFV/",defaultMessage:"Licenses remaining"}),trueUpPositive:s.intl.formatMessage({id:"1aPcBO",defaultMessage:"Remaining out of purchased"}),trueUpNeg:s.intl.formatMessage({id:"vexzUa",defaultMessage:"Above the last purchased number"})},tooltipContent:{NoTrueUpZero:s.intl.formatMessage({id:"znNwig",defaultMessage:"You’ll need to buy more licenses to invite members"}),TrueUpNeg:s.intl.formatMessage({id:"Pbu/yd",defaultMessage:"You’ll be charged for these licenses at your next billing cycle"}),TrueUpZero:s.intl.formatMessage({id:"OgSWgf",defaultMessage:"We’ll keep track of anyone you invite and add them to your next billing cycle"}),TrueUpPositive:s.intl.formatMessage({id:"N6QhAL",defaultMessage:"Licenses that are unused out of those you’ve purchased"})}},t.LICENSES_REMAINING_WITH_JUST_IN_TIME_LICENSING=a.__assign(a.__assign({},t.LICENSES_REMAINING),{actions:[d,c]}),t.PENDING_INVITES={actions:[s.intl.formatMessage({id:"jRRC91",defaultMessage:"View invites"}),s.intl.formatMessage({id:"tyW3Tq",defaultMessage:"Resend invites"})],metricName:s.intl.formatMessage({id:"qQI88A",defaultMessage:"Invites pending"})},t.SUSPENDED={actions:[s.intl.formatMessage({id:"TWZWgd",defaultMessage:"View members"})],metricName:s.intl.formatMessage({id:"nR3PAi",defaultMessage:"Suspended members"}),tooltipContent:s.intl.formatMessage({id:"hts6Dr",defaultMessage:"Suspended members still take up a license, but can’t sign in"})},t.ACTIVATED={metricName:s.intl.formatMessage({id:"oX7L4J",defaultMessage:"Active members"})},t.LICENSES_CHART={familyName:s.intl.formatMessage({id:"7pLIpL",defaultMessage:"Licenses"}),chartText:s.intl.formatMessage({id:"IvXUFf",defaultMessage:"Licenses used"}),tooltipContent:s.intl.formatMessage({id:"0oaVVe",defaultMessage:"The percent of members on your team out of licenses you purchased"})},t.STORAGE={metricName:s.intl.formatMessage({id:"h9dOzW",defaultMessage:"Space used"}),metricDescription:s.intl.formatMessage({id:"k3Efe1",defaultMessage:"How much space has your team used?"}),infoTooltipContent:s.intl.formatMessage({id:"BPDVoc",defaultMessage:"See how your team has used Dropbox over time"}),exportTooltipContent:s.intl.formatMessage({id:"kGj+8t",defaultMessage:"Create space used report"})},t.FILE_ACTIVITY={metricName:s.intl.formatMessage({id:"URqjZh",defaultMessage:"How files are used"}),metricDescription:s.intl.formatMessage({id:"iWehM3",defaultMessage:"What does your team do with files?"}),infoTooltipContent:s.intl.formatMessage({id:"pdDzm5",defaultMessage:"This information can help you understand how your team commonly uses Dropbox"}),exportTooltipContent:s.intl.formatMessage({id:"/S3Mdc",defaultMessage:"Create file use report"})},t.SHARED_DOMAINS={metricName:s.intl.formatMessage({id:"qxgfih",defaultMessage:"External domains"}),metricDescription:s.intl.formatMessage({id:"teB/JU",defaultMessage:"What domains outside your team do members share with?"}),infoTooltipContent:s.intl.formatMessage({id:"gAtFlt",defaultMessage:"This list shows the top domains of people outside of your team that members are sharing files and folders with"}),exportTooltipContent:s.intl.formatMessage({id:"jvj9Gv",defaultMessage:"Create external sharing report"}),columns:[s.intl.formatMessage({id:"YgP0SR",defaultMessage:"Shared with"}),s.intl.formatMessage({id:"7lc6X0",defaultMessage:"Times shared"})],popover:{header:s.intl.formatMessage({id:"HXV3TA",defaultMessage:"Order"}),options:[s.intl.formatMessage({id:"1Dr11y",defaultMessage:"Most times shared"}),s.intl.formatMessage({id:"IDb8MA",defaultMessage:"Least times shared"})]},emptyText:s.intl.formatMessage({id:"U8EXsA",defaultMessage:"During this time, members only shared with people on the team"})},t.INDICATIONS={metricName:s.intl.formatMessage({id:"0EwJr5",defaultMessage:"Numbers to watch"}),description:s.intl.formatMessage({id:"4jK84R",defaultMessage:"What happened in Dropbox in the last 7 days?"}),createReport:s.intl.formatMessage({id:"E1Zecc",defaultMessage:"Create report"}),noExpirationSection:{sectionTitle:s.intl.formatMessage({id:"UmC3zH",defaultMessage:"Links with no expiration"}),tooltipContent:s.intl.formatMessage({id:"5bfZE4",defaultMessage:"An expiration disables a link on a specific date to help keep your files secure."}),createdLinks:{description:s.intl.formatMessage({id:"apljdf",defaultMessage:"Created by team members."})},openedLinks:{description:s.intl.formatMessage({id:"vdagQ2",defaultMessage:"Unique views of links that were created over 3 months ago and are accessible to people outside your team."})}},noPasswordSection:{sectionTitle:s.intl.formatMessage({id:"PEwYAD",defaultMessage:"Links with no password"}),tooltipContent:s.intl.formatMessage({id:"eMX+QP",defaultMessage:"Passwords add an extra layer of security when sharing with a link."}),createdLinks:{description:s.intl.formatMessage({id:"apljdf",defaultMessage:"Created by team members."})},openedLinks:{description:s.intl.formatMessage({id:"sETSJK",defaultMessage:"Unique views of links shared externally."})}}},t.INDICATIONS_REPORT_MODAL={noPermissions:s.intl.formatMessage({id:"knoSPB",defaultMessage:"Only team admins have permissions to create this report."}),description:s.intl.formatMessage({id:"whFErF",defaultMessage:"A CSV report will be saved in your Dropbox Business Reports folder. We’ll email you when the report is ready."},{trademark_business:r.TRADEMARK_BUSINESS}),title:s.intl.formatMessage({id:"1EdKf8",defaultMessage:"Create report?"}),primaryAction:s.intl.formatMessage({id:"yFobR2",defaultMessage:"Create"}),secondaryAction:s.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"}),reportNote:s.intl.formatMessage({id:"gZF0DX",defaultMessage:"The data is accurate when the report is created. The report may not match the dashboard."}),contentLabel:s.intl.formatMessage({id:"JFlgO7",defaultMessage:"Content:"}),dateRangeLabel:s.intl.formatMessage({id:"rB5wvQ",defaultMessage:"Report period:"}),dateRangeValue:s.intl.formatMessage({id:"4uJU4W",defaultMessage:"Last 7 days"}),createOutdatedLinks:s.intl.formatMessage({id:"z9hQqe",defaultMessage:"Views of old links that won’t expire, by people outside your team"}),createNoExpLinks:s.intl.formatMessage({id:"YKtDAX",defaultMessage:"Links created that won’t expire"}),createNoPasswordLinksExposure:s.intl.formatMessage({id:"o3Pr5y",defaultMessage:"Links with no password, viewed by someone outside your team"}),createNoPasswordLinksGen:s.intl.formatMessage({id:"f3JLGa",defaultMessage:"Links created with no password"}),successMessage:s.intl.formatMessage({id:"OksEV/",defaultMessage:"Creating report. We’ll email you when it’s ready."})},t.GENERAL={helpAriaLabel:s.intl.formatMessage({id:"xHrhU3",defaultMessage:"Help"})},t.DATE_PICKER={title:s.intl.formatMessage({id:"A+8wXS",defaultMessage:"Date range:"}),lastWeek:s.intl.formatMessage({id:"34M/6I",defaultMessage:"Last 7 days"}),lastMonth:s.intl.formatMessage({id:"azKYUl",defaultMessage:"Last 30 days"}),lastThreeMonths:s.intl.formatMessage({id:"wyhQi6",defaultMessage:"Last 90 days"})},t.SEND_REMINDERS_MODAL={messagePlaceholder:s.intl.formatMessage({id:"X7MD13",defaultMessage:"Add anything specific they should know"}),primaryAction:s.intl.formatMessage({id:"yzFoXG",defaultMessage:"Send invites"}),primaryActionSubmitting:s.intl.formatMessage({id:"FHWCk7",defaultMessage:"Sending…"}),secondaryAction:s.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"}),bodyText:s.intl.formatMessage({id:"x8vQXX",defaultMessage:"We’ll resend invites to everyone who hasn’t accepted yet"}),messageLabel:s.intl.formatMessage({id:"N6BsJQ",defaultMessage:"Invite message"}),notifyFailure:new i.HTML(s.intl.formatMessage({id:"6BPanm",defaultMessage:"Something went wrong. Try it again or contact us on the <b>Help</b> page."},{b:function(e){return"<b>"+e.join("")+"</b>"}})),textAreaMaxCharMessage:n.defineMessage({id:"U9SY4w",defaultMessage:"We can only fit {num} characters (a couple paragraphs or so)"}),constants:{maxMessageSize:500}},t.MEMBERSHIP_REQUESTS={content:s.intl.formatMessage({id:"SotrIz",defaultMessage:"Once they’re a part of your team, you’ll be able to manage their account and any files they can access."}),cta:{singular:s.intl.formatMessage({id:"MaE11m",defaultMessage:"Manage this request"}),plural:s.intl.formatMessage({id:"Adel35",defaultMessage:"Manage requests"})}},t.SUGGESTED_MEMBERS={familyName:s.intl.formatMessage({id:"rB4BsH",defaultMessage:"Suggested team members"}),infoTooltipContent:s.intl.formatMessage({id:"euQhL0",defaultMessage:"Because they’re using a domain that matches yours and can access some team content"}),invite:s.intl.formatMessage({id:"sTZgnw",defaultMessage:"Invite"}),hide:s.intl.formatMessage({id:"cK/p7/",defaultMessage:"Dismiss"}),noWasteText:s.intl.formatMessage({id:"xMhKAr",defaultMessage:"No suggestions right now, but you can still add to your team."}),noWasteLink:s.intl.formatMessage({id:"0oTp7+",defaultMessage:"invite members"})},t.UPDATED_MESSAGE=s.intl.formatMessage({id:"5XX+/p",defaultMessage:"Updated in the last day"}),t.GENERAL_ERROR_MSG=s.intl.formatMessage({id:"+9eUf/",defaultMessage:"Something went wrong, but it’s probably a fluke"}),t.EXTERNAL_SHARING={title:s.intl.formatMessage({id:"1J71be",defaultMessage:"What’s shared outside your team?"}),description:s.intl.formatMessage({id:"+HYfWe",defaultMessage:"Create a report of shared items, who shared them, and more."}),primaryAction:s.intl.formatMessage({id:"AnAwlI",defaultMessage:"Create report"}),illustrationAlt:s.intl.formatMessage({id:"pfP1bY",defaultMessage:"files illustration image"}),betaLabel:s.intl.formatMessage({id:"KzE60e",defaultMessage:"Beta"})},t.EXTERNAL_SHARING_MODAL={title:s.intl.formatMessage({id:"8J2bi3",defaultMessage:"Create report?"}),ariaLabel:s.intl.formatMessage({id:"K0wo21",defaultMessage:"Create report"}),primaryAction:s.intl.formatMessage({id:"y8BuyK",defaultMessage:"Create"}),secondaryAction:s.intl.formatMessage({id:"HiF7mU",defaultMessage:"Cancel"}),description:s.intl.formatMessage({id:"aQ8dzK",defaultMessage:"We’ll save a CSV report in your Dropbox Business Reports folder and email you when it’s ready."}),tableKey:s.intl.formatMessage({id:"++TMjx",defaultMessage:"Info in this report:"}),tableValue:s.intl.formatMessage({id:"f+E8ZC",defaultMessage:"Files directly shared outside your team, who has access, and more.{br}{br}The report doesn’t include files that were shared indirectly, via a shared folder."},{br:o.default.createElement("br",null)})},t.EXTERNAL_SHARING_M2_MODAL={disclaimer:s.intl.formatMessage({id:"t1ylDh",defaultMessage:"Not included in the report: files and folders that are only shared because they’re in a shared folder."}),tableBullets:[s.intl.formatMessage({id:"0OkLOs",defaultMessage:"<b>File and folder info,</b> such as type, size, and path"},{b:function(e){return o.default.createElement("b",null,e)}}),s.intl.formatMessage({id:"eG+5/v",defaultMessage:"<b>Security details,</b> like permissions"},{b:function(e){return o.default.createElement("b",null,e)}}),s.intl.formatMessage({id:"XfuLlF",defaultMessage:"<b>Sharing info,</b> like who shared content, when, and with whom"},{b:function(e){return o.default.createElement("b",null,e)}})],tableHeader:s.intl.formatMessage({id:"aNjiD3",defaultMessage:"The report shows files and folders directly shared outside your team."})},t.EXTERNAL_SHARING_M3_MODAL={disclaimer:s.intl.formatMessage({id:"W99vjf",defaultMessage:"Not included in the report: files and folders that are only shared because they’re in a shared folder. Learn more about sharing methods"}),tableBullets:[s.intl.formatMessage({id:"9Z4Ptj",defaultMessage:"<b>Items shared.</b> Type, size, and path"},{b:function(e){return o.default.createElement("b",null,e)}}),s.intl.formatMessage({id:"ssk5PE",defaultMessage:"<b>Security.</b> Access level, and whether they’re protected by password or expiration"},{b:function(e){return o.default.createElement("b",null,e)}}),s.intl.formatMessage({id:"LATJTO",defaultMessage:"<b>Sharing.</b> Who shared content, when, and with whom"},{b:function(e){return o.default.createElement("b",null,e)}}),s.intl.formatMessage({id:"zaIoT9",defaultMessage:"<b>Activity.</b> Whether content was viewed or edited"},{b:function(e){return o.default.createElement("b",null,e)}})],tableHeader:s.intl.formatMessage({id:"PHH9jg",defaultMessage:"It shows shared links, files and folders directly shared outside your team:"})}})),define("modules/clean/teams/dashboard/view/dashboard_banner/dashboard_banner",["require","exports","tslib","react","spectrum/button","modules/clean/react/css","spectrum/icon_form","spectrum/colorized_icon/colorized_icon"],(function(e,t,a,s,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(t){var a=e.call(this,t)||this;return a.handleDismissClick=function(e){a.props.onClickDismiss&&a.props.onClickDismiss(),a.hide()},a.hide=function(){a.setState({hidden:!0})},a.state={hidden:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.onShow&&this.props.onShow()},t.prototype.render=function(){var e=this.props,t=e.className,a=void 0===t?"":t,r=e.dismissColor,d=void 0===r?"white":r;return this.state.hidden?null:s.default.createElement("div",{className:"banner-container "+a},!!this.props.showDismiss&&s.default.createElement(n.Button,{className:"banner-top-bar-dismissed",onClick:this.handleDismissClick,variant:"styleless"},s.default.createElement(o.ColorizedIcon,{color:d},s.default.createElement(i.IconForm,{className:"banner-top-bar-dismissed-icon",name:"cancel"}))),s.default.createElement("div",{className:"banner-content"},this.props.children))},t})((s=a.__importDefault(s)).default.Component);t.DashboardBannerComponent=d,t.DashboardBanner=r.requireCssWithComponent(d,["/static/css/teams/admin/dashboard/dashboard_banner-vflbQRKGS.css"])})),define("modules/clean/teams/dashboard/view/dashboard_view",["require","exports","tslib","react","classnames","modules/clean/teams/dashboard/view/overview/overview","modules/clean/teams/dashboard/view/licenses/licenses","modules/clean/teams/dashboard/view/member_requests_banner/membership_requests_banner","modules/clean/teams/dashboard/view/copies","modules/clean/teams/dashboard/view/trend_metrics/connected_storage_graph","modules/clean/teams/dashboard/view/trend_metrics/connected_shared_domains","modules/clean/teams/dashboard/data/types","modules/clean/teams/dashboard/view/trend_metrics/connected_file_activity_graph","modules/clean/teams/dashboard/data/utils/tti_util","modules/clean/teams/dashboard/view/updated_message/updated_message","modules/clean/viewer","modules/clean/teams/dashboard/data/utils/dashboard_logger","modules/clean/teams/dashboard/view/suggested_members/suggested_members_container","modules/clean/teams/dashboard/view/indications/connected_indications_widget","modules/clean/teams/dashboard/view/external_sharing/connected_external_sharing_widget","modules/clean/web_timing_logger","modules/clean/deferred_loader","modules/clean/react/maestro/layout/chrome","modules/clean/react/maestro/layout/header"],(function(e,t,a,s,n,r,i,o,d,l,c,u,m,p,f,g,h,_,b,v,E,M,S,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),n=a.__importDefault(n),E=a.__importStar(E);var D=g.Viewer.get_viewer().get_user_by_role("work");t.DashboardTTICollector=new p.TTICollector;var N=(function(p){function N(e){var t=p.call(this,e)||this;return t.renderBreadcrumb=function(){return s.default.createElement("div",{className:"dashboard-header"},d.BREADCRUMBS_TEXT)},t.formatOptionalCssClass=function(e,t){return t+"-"+(e?"enabled":"disabled")},t.state={modalsLoaded:!1},t}return a.__extends(N,p),N.prototype.delayLoadModals=function(){var t=this;E.waitForTTI().then((function(){return Promise.all([new Promise((function(t,a){e(["modules/clean/teams/dashboard/view/send_reminders_modal/send_reminders_modal"],t,a)})).then(a.__importStar),new Promise((function(t,a){e(["modules/clean/teams/dashboard/view/invite_modal/dashboard_invite_modal"],t,a)})).then(a.__importStar)]).then((function(e){var a=e[0].showSendRemindersModal,s=e[1].showDashboardInviteModal;t.state.modalsLoaded||t.setState({modalsLoaded:!0}),M.deferredLoader.setItems({showSendRemindersModal:a,showDashboardInviteModal:s})}))}))},N.prototype.componentDidMount=function(){this.props.loadStateMetrics(!0),this.props.loadHistoricMetrics(),this.props.loadSuggestedMembers(),this.delayLoadModals()},N.prototype.renderGrid=function(){var e=this.props,a=e.stateResult,o=e.suggestedMembersResult,d=e.isLoadingState,p=e.stateError,g=e.loadStateMetrics,h=e.adminRole,E=e.fileActionsEnabled,M=e.externalSharingEnabled,S=e.premiumSupportEnabled,y=e.externalVisibilityVariant,D=a.num_joined_members,N=a.num_active_members,T=a.renewal_date,I=a.team_quota,R=a.team_usage,A=a.num_total_licenses,C=a.num_invited_members,L=a.num_unused_licenses,w=a.num_purchased_licenses,x=a.num_suspended_members,O=a.can_add_licenses,P=a.true_up_enabled,k=a.team_just_in_time_licensing_enabled,G=h===u.AdminRole.USER_MANAGEMENT||h===u.AdminRole.SUPER,H=h===u.AdminRole.USER_MANAGEMENT||h===u.AdminRole.SUPER,B=O&&h===u.AdminRole.SUPER,F=w-L,U=!!o.suggested_members.length&&H,j="OFF"!==y,q=["dashboard-grid","m3-dashboard"];return q.push(this.formatOptionalCssClass(U,"suggested-members")),q.push(this.formatOptionalCssClass(M,"external-sharing")),q.push(this.formatOptionalCssClass(S,"premium")),q.push(this.formatOptionalCssClass(E,"file-actions")),q.push(this.formatOptionalCssClass(j,"external-visibility")),s.default.createElement(s.default.Fragment,null,s.default.createElement(f.UpdatedMessageComponent,null),this.renderMembershipRequestsBanner(),s.default.createElement("div",{className:n.default.apply(void 0,q)},s.default.createElement(r.OverviewComponent,{activeMembers:D+C,spaceUsed:R,totalSpace:I,renewalDate:T,loading:d,error:p,onLoad:g,premium:S,onTTI:t.DashboardTTICollector.registerAndMakeMarkInteractiveFn("DASHBOARD_OVERVIEW_COMPONENT")}),M&&s.default.createElement(b.ConnectedIndications,{className:n.default("dashboard-indications"),onTTI:t.DashboardTTICollector.registerAndMakeMarkInteractiveFn("DASHBOARD_INDICATIONS_COMPONENT")}),E&&s.default.createElement(m.ConnectedFileActivityGraph,{className:n.default("dashboard-file-activity")}),s.default.createElement(i.LicensesComponent,{className:n.default("dashboard-licenses-panel"),activeMembers:N,purchasedLicenses:w,remainingLicenses:L,usedLicenses:F,pendingInvites:C,suspendedMembers:x,availableLicenses:A,isTrueUp:P,loading:d,error:p,onLoad:g,canBuyLicenses:B,canSendReminders:G,canInviteMembers:H,isModalLoaded:this.state.modalsLoaded,isJustInTimeLicensingEnabled:k}),s.default.createElement(l.ConnectedStorageGraph,{className:n.default("dashboard-storage-graph")}),M&&s.default.createElement(c.ConnectedSharedDomains,null),U&&s.default.createElement(_.ConnectedSuggestedMember,{isModalLoaded:this.state.modalsLoaded}),"OFF"!==y&&s.default.createElement(v.ConnectedExternalSharing,{className:"dashboard-external-visibility"})),s.default.createElement("div",{className:"dashboard-footer"}))},N.prototype.renderMembershipRequestsBanner=function(){var e=this.props,t=e.stateResult,a=e.isLoadingState,n=t.num_member_requests,r=g.Viewer.get_viewer();return n>0?s.default.createElement(o.MembershipRequestsBannerWithHide,{viewerKey:""+r.work_user.id,numMembershipRequests:n,className:"dashboard-membership-requests-banner",loading:a,onAction:function(){h.logDashboardEventToHive(h.createMembershipRequestsLogObject("membership_requests_view_clicked",{num_pending_requests:n}))},onHide:function(){h.logDashboardEventToHive(h.createMembershipRequestsLogObject("membership_requests_hide_clicked",{num_pending_requests:n}))}}):null},N.prototype.render=function(){return s.default.createElement(S.MaestroChrome,{user:D,titleRegion:s.default.createElement(y.MaestroHeaderTitle,null,this.renderBreadcrumb()),embeddedAppRegion:this.renderGrid(),searchBarProps:{searchVariant:null}})},N})(s.default.Component);t.DashboardView=N})),define("modules/clean/teams/dashboard/view/external_sharing/connected_external_sharing_widget",["require","exports","modules/clean/teams/dashboard/view/external_sharing/external_sharing_widget","react-redux","modules/clean/deferred_loader"],(function(e,t,a,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){n.deferredLoader.getItem("showExternalSharingModal").then((function(e){e()}))};t.ConnectedExternalSharing=s.connect(void 0,(function(e){return{onPrimaryAction:r}}))(a.ExternalSharingComponent)})),define("modules/clean/teams/dashboard/view/external_sharing/external_sharing_widget",["require","exports","tslib","react","spectrum/button","modules/clean/static_urls","modules/clean/teams/dashboard/view/copies","dig-components/badges","modules/clean/web_timing_logger","modules/clean/deferred_loader","modules/clean/teams/dashboard/view/common_widget_states/loading_indicator"],(function(e,t,a,s,n,r,i,o,d,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),d=a.__importStar(d);var u=(function(t){function u(e){var a=t.call(this,e)||this;return a.onClickHandler=function(){a.state.modalLoaded||a.setState({clickedBeforeLoaded:!0}),a.props.onPrimaryAction()},a.state={modalLoaded:!1,clickedBeforeLoaded:!1},a}return a.__extends(u,t),u.prototype.delayLoadModal=function(){var t=this;d.waitForTTI().then((function(){new Promise((function(t,a){e(["modules/clean/teams/dashboard/view/external_sharing/connected_external_sharing_modal"],t,a)})).then(a.__importStar).then((function(e){var a=e.showExternalSharingModal;t.state.modalLoaded||t.setState({modalLoaded:!0,clickedBeforeLoaded:!1}),l.deferredLoader.setItems({showExternalSharingModal:a})}))}))},u.prototype.componentDidMount=function(){this.delayLoadModal()},u.prototype.render=function(){var e=this.props.className,t=this.state.clickedBeforeLoaded&&!this.state.modalLoaded;return s.default.createElement("div",{className:e||"external-sharing-component"},s.default.createElement("div",{className:"external-sharing-component-data"},s.default.createElement("div",{className:"external-sharing-component-title-section"},s.default.createElement("div",{className:"external-sharing-component-title"},i.EXTERNAL_SHARING.title),s.default.createElement(o.NotificationBadge,{className:"external-sharing-component-beta-label"},i.EXTERNAL_SHARING.betaLabel)),s.default.createElement("div",{className:"external-sharing-component-description"},i.EXTERNAL_SHARING.description),s.default.createElement("div",{className:"external-sharing-component-button"},s.default.createElement(n.Button,{variant:"secondary",className:"external-sharing-component-button-btn",onClick:this.onClickHandler,disabled:t},i.EXTERNAL_SHARING.primaryAction),t&&s.default.createElement(c.LoadingSpinner,null))),s.default.createElement("div",{className:"external-sharing-component-illustration"},s.default.createElement("img",{src:r.static_url("/static/images/external_sharing/file_illustration-vfl6gmXC9.svg"),alt:i.EXTERNAL_SHARING.illustrationAlt})))},u})(s.default.Component);t.ExternalSharingComponent=u})),define("modules/clean/teams/dashboard/view/indications/connected_indications_widget",["require","exports","react-redux","modules/clean/teams/dashboard/data/selectors","modules/clean/teams/dashboard/view/indications/indications_widget","modules/clean/teams/dashboard/data/action_creators","modules/clean/deferred_loader"],(function(e,t,a,s,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(!e)return 0;var t=e.values.filter((function(e){return null!=e})).slice(-1)[0];return t?t.value:0},d=function(e){i.deferredLoader.getItem("showIndicationsModal").then((function(t){t(e)}))};t.ConnectedIndications=a.connect((function(e,t){var a=s.getDashboardIndicationsResult(e),n=a.num_stale_shared_links_opened,r=a.num_no_expiration_shared_links_created,i=a.num_no_password_shared_links_opened,d=a.num_no_password_shared_links_created;return{className:t.className,loading:s.getIsLoadingIndications(e),error:s.getDashboardIndicationsError(e),createdNoExpirationLinks:o(r),openedNoExpirationLinks:o(n),createdNoPasswordLinks:o(d),openedNoPasswordLinks:o(i)}}),(function(e){return{actionOnClick:d,onLoad:function(t){return e(r.loadIndicationsMetrics(t))}}}))(n.IndicationsWidget)})),define("modules/clean/teams/dashboard/view/indications/indications_widget",["require","exports","tslib","react","classnames","spectrum/icon_inline","spectrum/tooltip","modules/clean/react/css","modules/clean/teams/dashboard/view/common_widget_states/error","modules/clean/teams/dashboard/view/copies","modules/core/i18n","modules/clean/web_timing_logger","modules/clean/deferred_loader","modules/clean/teams/dashboard/view/indications/types","modules/clean/teams/dashboard/view/common_widget_states/loading_indicator"],(function(e,t,a,s,n,r,i,o,d,l,c,u,m,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),n=a.__importDefault(n),u=a.__importStar(u);var g=function(e){var t=e.text,a=e.tooltipContent,n=e.loading,o=n?"dashboard-indications-section-title-loading":"dashboard-indications-section-title";return s.default.createElement("div",{className:o},s.default.createElement("div",{className:"dashboard-indications-section-title-name"},n?"":t),!n&&a&&s.default.createElement(i.Tooltip,{tooltipContent:a,positioning:"left"},s.default.createElement(r.IconInline,{className:"dashboard-state-metric-title-info-icon",name:"info",style:{verticalAlign:"middle",marginLeft:4}})))},h=function(e){var t=e.numberOfLinks,a=e.description,r=e.actionText,i=e.className,o=e.loading,d=e.actionOnClick,l=e.showModalLoader,u=n.default(o?"dashboard-indications-single-indication-loading":"dashboard-indications-single-indication",i);return s.default.createElement("div",{className:u},s.default.createElement("div",{className:"dashboard-indications-single-indication-number"},o?"":c.intl.formatNumber(t)),s.default.createElement("div",{className:"dashboard-indications-single-indication-description"},o?"":a),s.default.createElement("div",{className:"dashboard-indications-single-indication-report-and-loader"},s.default.createElement("a",{className:n.default("dashboard-indications-single-indication-report",l?"disabled":"enabled"),onClick:d,rel:"noopener noreferrer",role:"button"},o?"":r),l&&s.default.createElement(f.LoadingSpinner,null)))},_=function(e){var t=e.title,n=e.firstSingleIndicationProps,r=e.secondSingleIndicationProps,i=e.loading;return s.default.createElement("div",{className:"dashboard-indications-section"},s.default.createElement(g,a.__assign({},t,{loading:i})),s.default.createElement(h,a.__assign({},n,{className:"created-links",loading:i})),s.default.createElement(h,a.__assign({},r,{className:"opened-links",loading:i})))},b=function(e){var t=e.noExpirationSection,n=e.noPasswordSection,r=e.loading;return s.default.createElement("div",{className:"dashboard-indications-sections"},s.default.createElement(_,a.__assign({},t,{loading:r})),s.default.createElement(_,a.__assign({},n,{loading:r})))},v=function(){return s.default.createElement("div",{className:"dashboard-indications-header"},s.default.createElement("div",{className:"dashboard-indications-header-title"},l.INDICATIONS.metricName),s.default.createElement("div",{className:"dashboard-indications-header-description"},l.INDICATIONS.description))},E=(function(t){function n(e){var a=t.call(this,e)||this;return a.onClickHandler=function(e){a.state.modalLoaded||a.setState({clickedBeforeLoaded:a.state.clickedBeforeLoaded.map((function(t,a){return a===e.valueOf()||t}))}),a.props.actionOnClick(e)},a.state={modalLoaded:!1,clickedBeforeLoaded:[!1,!1,!1,!1]},a}return a.__extends(n,t),n.prototype.delayLoadModal=function(){var t=this;u.waitForTTI().then((function(){new Promise((function(t,a){e(["modules/clean/teams/dashboard/view/indications/connected_report_modal"],t,a)})).then(a.__importStar).then((function(e){var a=e.showIndicationsModal;t.state.modalLoaded||t.setState({modalLoaded:!0,clickedBeforeLoaded:[!1,!1,!1,!1]}),m.deferredLoader.setItems({showIndicationsModal:a})}))}))},n.prototype.componentDidMount=function(){this.props.onLoad(!0),this.delayLoadModal()},n.prototype.reportTTI=function(){var e=this.props,t=e.onTTI,a=e.loading;e.error&&t&&t(),a||t&&t()},n.prototype.render=function(){var e=this;this.reportTTI();var t=this.props,n=t.createdNoExpirationLinks,r=t.openedNoExpirationLinks,i=t.createdNoPasswordLinks,o=t.openedNoPasswordLinks,c=t.loading,u=t.error,m=this.state.modalLoaded,f={noExpirationSection:{title:{text:l.INDICATIONS.noExpirationSection.sectionTitle,tooltipContent:l.INDICATIONS.noExpirationSection.tooltipContent},firstSingleIndicationProps:{numberOfLinks:n,description:l.INDICATIONS.noExpirationSection.createdLinks.description,actionText:l.INDICATIONS.createReport,actionOnClick:function(){return e.onClickHandler(p.IndicationMetricType.createNoExpLinks)},showModalLoader:this.state.clickedBeforeLoaded[p.IndicationMetricType.createNoExpLinks]&&!m},secondSingleIndicationProps:{numberOfLinks:r,description:l.INDICATIONS.noExpirationSection.openedLinks.description,actionText:l.INDICATIONS.createReport,actionOnClick:function(){return e.onClickHandler(p.IndicationMetricType.createOutdatedLinks)},showModalLoader:this.state.clickedBeforeLoaded[p.IndicationMetricType.createOutdatedLinks]&&!m}},noPasswordSection:{title:{text:l.INDICATIONS.noPasswordSection.sectionTitle,tooltipContent:l.INDICATIONS.noPasswordSection.tooltipContent},firstSingleIndicationProps:{numberOfLinks:i,description:l.INDICATIONS.noPasswordSection.createdLinks.description,actionText:l.INDICATIONS.createReport,actionOnClick:function(){return e.onClickHandler(p.IndicationMetricType.createNoPasswordLinksGen)},showModalLoader:this.state.clickedBeforeLoaded[p.IndicationMetricType.createNoPasswordLinksGen]&&!m},secondSingleIndicationProps:{numberOfLinks:o,description:l.INDICATIONS.noPasswordSection.openedLinks.description,actionText:l.INDICATIONS.createReport,actionOnClick:function(){return e.onClickHandler(p.IndicationMetricType.createNoPasswordLinksExposure)},showModalLoader:this.state.clickedBeforeLoaded[p.IndicationMetricType.createNoPasswordLinksExposure]&&!m}},loading:c};return s.default.createElement("div",{className:"dashboard-indications"},s.default.createElement(v,null),u&&s.default.createElement(d.ErrorComponent,{className:"dashboard-license-error"}),!u&&s.default.createElement(b,a.__assign({},f)))},n})(s.default.Component);t.IndicationsComponent=E,t.IndicationsWidget=o.requireCssWithComponent(E,["/static/css/teams/admin/dashboard/indications-vflBmm6dg.css"])})),define("modules/clean/teams/dashboard/view/indications/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.createOutdatedLinks=0]="createOutdatedLinks",e[e.createNoExpLinks=1]="createNoExpLinks",e[e.createNoPasswordLinksExposure=2]="createNoPasswordLinksExposure",e[e.createNoPasswordLinksGen=3]="createNoPasswordLinksGen",e[e.createExternalSharing=4]="createExternalSharing"})(t.IndicationMetricType||(t.IndicationMetricType={}))})),define("modules/clean/teams/dashboard/view/licenses/licenses",["require","exports","tslib","react","classnames","modules/clean/teams/dashboard/highcharts-react-official/highchartsReact","highcharts-7","modules/clean/teams/dashboard/data/utils/dashboard_logger","modules/clean/teams/dashboard/view/trend_metrics/info_icon","modules/clean/teams/dashboard/view/state_metrics/state_metric","modules/clean/teams/dashboard/view/common_widget_states/error","modules/clean/teams/dashboard/view/common_widget_states/loading_indicator","modules/clean/teams/dashboard/view/copies","modules/clean/deferred_loader","modules/clean/react/css","modules/core/i18n"],(function(e,t,a,s,n,r,i,o,d,l,c,u,m,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s),n=a.__importDefault(n),r=a.__importDefault(r),i=a.__importDefault(i),t.PurchasedLicensesComponent=function(e){var t=e.className,a=void 0===t?"":t,n=e.loading,r=void 0!==n&&n,i=e.purchasedLicenses,o=e.isTrueUp,d=void 0!==o&&o,c=e.availableLicenses,u=d?m.PURCHASED_LICENSES.tooltipContent:"",p=d?s.default.createElement("span",null,g.intl.formatNumber(i),s.default.createElement("span",{className:"dashboard-licenses-panel-ceiling"},g.intl.formatMessage({id:"KQFSe4",defaultMessage:"(up to {num})"},{num:c}))):g.intl.formatNumber(i);return s.default.createElement(l.LicensesStateMetric,{className:a,metricTitle:m.PURCHASED_LICENSES.metricName,metricBodyPrimary:p,tooltipContent:u,loading:r})},t.LicensesRemainingComponent=function(e){var t=s.useState(!1),a=t[0],n=t[1],r=e.className,i=void 0===r?"":r,d=e.loading,c=void 0!==d&&d,u=e.remainingLicenses,f=e.trueUp,h=void 0!==f&&f,_=e.canBuyLicenses,b=void 0===_||_,v=e.canInviteMembers,E=void 0===v||v,M=e.isModalLoaded,S=void 0===M||M,y=e.isJustInTimeLicensingEnabled,D=void 0!==y&&y,N=!S&&a,T=[{text:D?m.LICENSES_REMAINING_WITH_JUST_IN_TIME_LICENSING.actions[0]:m.LICENSES_REMAINING.actions[0],url:"/team/admin/billing",hideCondition:!b,onClick:function(){return o.logDashboardEventToHive(o.createLicensesLogObject("buy_licenses_clicked",{licenses_remaining:u}))}},{text:m.LICENSES_REMAINING.actions[1],url:void 0,disabled:0===u&&!h&&!D,hideCondition:!E,inLoading:N,onClick:function(){S||n(!0),p.deferredLoader.getItem("showDashboardInviteModal").then((function(e){n(!1),e([],o.createLicensesLogObject,{licenses_remaining:u})}))}}],I="",R=m.LICENSES_REMAINING.metricName.nonTrueUp;return h?(R=m.LICENSES_REMAINING.metricName.trueUpPositive,u<0&&(I=m.LICENSES_REMAINING.tooltipContent.TrueUpNeg,R=m.LICENSES_REMAINING.metricName.trueUpNeg),0===u&&(I=m.LICENSES_REMAINING.tooltipContent.TrueUpZero),u>0&&(I=m.LICENSES_REMAINING.tooltipContent.TrueUpPositive)):0===u&&(I=m.LICENSES_REMAINING.tooltipContent.NoTrueUpZero),s.default.createElement(l.LicensesStateMetric,{className:i,metricTitle:R,metricBodyPrimary:g.intl.formatNumber(Math.abs(u)),actions:T,tooltipContent:I,loading:c})},t.PendingInvitesComponent=function(e){var t=s.useState(!1),a=t[0],n=t[1],r=e.className,i=void 0===r?"":r,d=e.pendingInvites,c=e.loading,u=void 0!==c&&c,f=e.canSendReminders,g=void 0===f||f,h=e.isModalLoaded,_=void 0===h||h,b=!_&&a,v=[{text:m.PENDING_INVITES.actions[0],url:"/team/admin/members#invited",hideCondition:0===d,onClick:function(){o.logDashboardEventToHive(o.createLicensesLogObject("view_members_invited",{invites_pending:d}))}},{text:m.PENDING_INVITES.actions[1],url:void 0,hideCondition:!g||0===d,inLoading:b,onClick:function(){_||n(!0),p.deferredLoader.getItem("showSendRemindersModal").then((function(e){n(!1),e({numInvitedMembers:d,maxMessageSize:m.SEND_REMINDERS_MODAL.constants.maxMessageSize}),o.logDashboardEventToHive(o.createLicensesLogObject("send_reminders_clicked",{invites_pending:d}))}))}}];return s.default.createElement(l.LicensesStateMetric,{className:i,metricTitle:m.PENDING_INVITES.metricName,metricBodyPrimary:d,actions:v,loading:u})};var h=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.createActions=function(){var e=this.props.suspendedMembers;return[{text:m.SUSPENDED.actions[0],url:"/team/admin/members#suspended",hideCondition:0===e,onClick:function(){return o.logDashboardEventToHive(o.createLicensesLogObject("view_members_suspended",{suspended_members:e}))}}]},t.prototype.render=function(){var e=this.props,t=e.className,a=void 0===t?"":t,n=e.suspendedMembers,r=e.loading,i=void 0!==r&&r;return s.default.createElement(l.LicensesStateMetric,{className:a,metricTitle:m.SUSPENDED.metricName,metricBodyPrimary:n,actions:this.createActions(),tooltipContent:m.SUSPENDED.tooltipContent,loading:i})},t})(s.default.Component);t.SuspendedComponent=h;var _=function(e){var t=e.className,a=void 0===t?"":t,n=e.activeMembers,r=e.loading,i=void 0!==r&&r;return s.default.createElement(l.LicensesStateMetric,{className:a,metricTitle:m.ACTIVATED.metricName,metricBodyPrimary:n,loading:i})},b=(function(t){function n(s){var n=t.call(this,s)||this;return n.loadHighcharts=function(){p.deferredLoader.getResolvedItems(["HighchartsMore","SolidGauge"],(function(){Promise.all([new Promise((function(t,a){e(["highcharts-7/highcharts-more"],t,a)})).then(a.__importStar),new Promise((function(t,a){e(["highcharts-7/solid-gauge"],t,a)})).then(a.__importStar)]).then((function(e){var t=e[0],a=e[1];p.deferredLoader.setItems({HighchartsMore:t,SolidGauge:a}),t.default(i.default),a.default(i.default)}))})).then((function(){n.setState({jsLoaded:!0})}))},n.highChartOptions=function(){var e=n.props;return{chart:{type:"solidgauge",className:"dashboard-licenses-gauge",renderTo:"dashboard-licenses-panel-header",height:124,width:124},tooltip:{enabled:!1},credits:{enabled:!1},title:{verticalAlign:"top",floating:!0,style:{display:"none"}},pane:{startAngle:0,endAngle:360,background:[{outerRadius:"115%",innerRadius:"100%",backgroundColor:{linearGradient:{x1:0,x2:1,y1:0,y2:1},stops:[[0,"#f3f4f5"],[1,"#f3f4f5"]]},borderWidth:0}]},yAxis:{min:0,max:e.purchasedLicenses,lineWidth:0,tickPositions:[]},plotOptions:{solidgauge:{linecap:"round",stickyTracking:!1,rounded:!0}},series:[{data:[{color:"#0061ff",dataLabels:{enabled:!1},innerRadius:"100%",radius:"115%",y:e.usedLicenses}],type:"solidgauge"}]}},n.percentText=function(){var e=n.props,t=e.purchasedLicenses,a=e.usedLicenses,s=t>0?a/t:1;return Math.floor(100*s)+"%"},n.state={},n.loadHighcharts(),n}return a.__extends(n,t),n.prototype.render=function(){return s.default.createElement("div",{className:"dashboard-gauge-container"},s.default.createElement("span",{className:"dashboard-gauge-text"},this.percentText()),this.state.jsLoaded&&s.default.createElement(r.default,{highcharts:i.default,options:this.highChartOptions()}))},n})(s.default.Component);t.LicensesGaugeGraph=b;var v=function(e){var t=s.default.createElement("div",{className:"dashboard-licenses-panel-graph-container"},s.default.createElement(b,a.__assign({className:"dashboard-licenses-panel-solidgauge"},e)));e.error?t=s.default.createElement(c.ErrorComponent,{className:"dashboard-license-error",onLoad:e.onLoad}):e.loading&&(t=s.default.createElement(u.LoadingIndicator,{className:"dashboard-license-loading"}));var r=n.default("dashboard-licenses-panel-header",{"dashboard-licenses-panel-header-err-load":e.error||e.loading});return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"dashboard-trend-container-header"},s.default.createElement("div",null,m.LICENSES_CHART.chartText),s.default.createElement("div",{className:"dashboard-trend-container-header-icons"},s.default.createElement(d.InfoIconComponent,{infoTooltipContent:m.LICENSES_CHART.tooltipContent,tooltipPosition:"left"}))),s.default.createElement("div",{className:r},t))},E=function(e){return s.default.createElement("div",{className:"dashboard-licenses-panel-footer"},s.default.createElement(t.PurchasedLicensesComponent,{className:"dashboard-licenses-panel-item dashboard-licenses-panel-purchased",purchasedLicenses:e.purchasedLicenses,availableLicenses:e.availableLicenses,usedLicenses:e.usedLicenses,loading:e.loading,isTrueUp:e.isTrueUp}),s.default.createElement(_,{className:"dashboard-licenses-panel-item dashboard-licenses-panel-activated",activeMembers:e.activeMembers,loading:e.loading}),s.default.createElement(t.PendingInvitesComponent,{className:"dashboard-licenses-panel-item dashboard-licenses-panel-pending",pendingInvites:e.pendingInvites,loading:e.loading,isModalLoaded:e.isModalLoaded,canSendReminders:e.canSendReminders}),s.default.createElement(t.LicensesRemainingComponent,{className:"dashboard-licenses-panel-item dashboard-licenses-panel-remaining",remainingLicenses:e.remainingLicenses,trueUp:e.isTrueUp,loading:e.loading,isModalLoaded:e.isModalLoaded,canBuyLicenses:e.canBuyLicenses,canInviteMembers:e.canInviteMembers,isJustInTimeLicensingEnabled:e.isJustInTimeLicensingEnabled}),s.default.createElement(h,{className:"dashboard-licenses-panel-item dashboard-licenses-panel-suspended",suspendedMembers:e.suspendedMembers,loading:e.loading}))};t.LicensesComponent=f.requireCssWithComponent((function(e){var t=e.className,n=e.onTTI,r=a.__rest(e,["className","onTTI"]),i=e.error||e.loading;return!e.error&&e.loading||n&&n(),s.default.createElement("div",{className:t},s.default.createElement(v,a.__assign({},r)),!i&&s.default.createElement(E,a.__assign({},r)))}),["/static/css/teams/admin/dashboard/licenses-vfl2SloEw.css"])})),define("modules/clean/teams/dashboard/view/member_requests_banner/membership_requests_banner",["require","exports","tslib","react","modules/clean/teams/dashboard/view/copies","spectrum/button","modules/constants/trademark","modules/clean/react/css","modules/clean/teams/dashboard/view/dashboard_banner/dashboard_banner","modules/clean/teams/dashboard/view/utils/hidable_with_ttl","modules/clean/teams/dashboard/data/utils/dashboard_logger","modules/core/i18n"],(function(e,t,a,s,n,r,i,o,d,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentDisplayed=!1,t.onDoneLoading=function(){var e=t.props.onTTI;e&&e()},t.onActionExec=function(){var e=t.props.onAction;e&&e()},t.renderAction=function(){var e=t.props.numMembershipRequests;return s.default.createElement(r.Button,{className:"dashboard-membership-requests-banner__cta",variant:"borderless",href:"/team/admin/members/requests",onClick:t.onActionExec},s.default.createElement("span",{className:"dashboard-membership-requests-banner__cta-text"},1===e?n.MEMBERSHIP_REQUESTS.cta.singular:n.MEMBERSHIP_REQUESTS.cta.plural))},t.onClickDismiss=function(){var e=t.props.onHide;e&&e()},t}return a.__extends(t,e),t.prototype.shouldRender=function(){var e=this.props,t=e.numMembershipRequests,a=e.error,s=e.shouldShow,n=!0;return s&&(n=s()),n&&!a&&t>0},t.prototype.render=function(){var e=this.props,t=e.className,a=e.loading,n=e.numMembershipRequests;return a?null:(this.onDoneLoading(),this.shouldRender()?(this.componentDisplayed||(this.componentDisplayed=!0,c.logDashboardEventToHive(c.createMembershipRequestsLogObject("membership_requests_displayed",{num_pending_requests:n}))),s.default.createElement(d.DashboardBanner,{showDismiss:!0,className:t,onClickDismiss:this.onClickDismiss},s.default.createElement("div",{className:"dashboard-membership-requests-banner__wrapper"},s.default.createElement("div",{className:"dashboard-membership-requests-banner__left"},s.default.createElement(p,{numMembershipRequests:n}),s.default.createElement(f,{numMembershipRequests:n})),s.default.createElement("div",{className:"dashboard-membership-requests-banner__right"},this.renderAction())))):null)},t})((s=a.__importDefault(s)).default.Component),p=function(e){var t=e.numMembershipRequests;return s.default.createElement("p",{className:"title"},u.intl.formatMessage({id:"3rKACV",defaultMessage:"{count, plural, one{1 person asked to join {trademark_business}} other{{count} people asked to join {trademark_business}}}"},{count:t,trademark_business:i.TRADEMARK_BUSINESS}))},f=function(e){e.numMembershipRequests;return s.default.createElement("p",{className:"text"},n.MEMBERSHIP_REQUESTS.content)};t.MembershipRequestsBanner=o.requireCssWithComponent(m,["/static/css/teams/admin/dashboard/membership_requests_banner-vflWuxorJ.css"],[d.DashboardBanner]),t.MembershipRequestsBannerWithHide=l.withStorageHide(t.MembershipRequestsBanner,"mrbshk",86400)})),define("modules/clean/teams/dashboard/view/overview/overview",["require","exports","tslib","react","modules/clean/teams/dashboard/view/state_metrics/state_metric","modules/clean/teams/dashboard/view/common_widget_states/error","modules/clean/teams/dashboard/view/copies","modules/clean/display_format","modules/clean/teams/dashboard/data/utils/dashboard_logger","modules/clean/react/css","modules/core/i18n"],(function(e,t,a,s,n,r,i,o,d,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.createActions=function(){var e=this.props.activeMembers;return[{text:i.ACTIVE_MEMBERS.actions[0],url:"/team/admin/members#all",hideCondition:0===e,onClick:function(){return d.logDashboardEventToHive(d.createOverviewLogObject("view_members",{member_total:e}))}}]},t.prototype.render=function(){var e=this.props,t=e.className,a=void 0===t?"":t,r=e.activeMembers,o=e.loading,d=void 0!==o&&o;return s.default.createElement(n.StateMetric,{className:a,metricTitle:i.ACTIVE_MEMBERS.metricName,metricBodyPrimary:c.intl.formatNumber(r),actions:this.createActions(),tooltipContent:i.ACTIVE_MEMBERS.tooltipContent,loading:d})},t})((s=a.__importDefault(s)).default.Component);t.ActiveMembersComponent=u;var m=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.createActions=function(){var e=this.props.totalSpace;return[{text:i.SPACE_USED.actions[0],url:"/team/admin/billing",hideCondition:0===e,onClick:function(){return d.logDashboardEventToHive(d.createOverviewLogObject("upgrade",{space_used:e}))}}]},t.prototype.getPrimaryText=function(){var e=this.props.spaceUsed;return o.format_bytes(e,1)},t.prototype.getSecondaryText=function(){var e=this.props.totalSpace;if(e)return o.format_bytes(e,1)},t.prototype.render=function(){var e=this.props,t=e.className,a=void 0===t?"":t,r=e.loading,o=void 0!==r&&r;return s.default.createElement(n.StateMetric,{className:a,metricTitle:i.SPACE_USED.metricName,metricBodyPrimary:this.getPrimaryText(),metricBodySecondary:this.getSecondaryText(),actions:this.createActions(),loading:o})},t})(s.default.Component);t.SpaceUsedComponent=m,t.RenewalDateComponent=function(e){var t=e.className,a=void 0===t?"":t,r=e.loading,o=void 0!==r&&r;return s.default.createElement(n.StateMetric,{className:a,metricTitle:i.RENEWAL_DATE.metricName,metricBodyPrimary:(function(){if(e.renewalDate){return c.intl.formatDate(new Date(e.renewalDate),{year:"numeric",month:"short",day:"numeric"})}return""})(),loading:o})};var p=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createActions=function(){return[{text:i.PREMIUM_FEATURE.actions[0],url:"https://help.dropbox.com/teams-admins/team-member/premium-support",onClick:function(){}}]},t.createPopoverContent=function(){return s.default.createElement("span",null,i.PREMIUM_FEATURE.popoverContent,s.default.createElement("a",{href:"/team/admin/help",className:"premium-link",rel:"noopener noreferrer",target:"_blank"},i.PREMIUM_FEATURE.popoverText))},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){d.logDashboardEventToHive(d.createPremiumSupportLogObject("premium_support_displayed"))},t.prototype.render=function(){var e=this.props,t=e.className,a=e.loading;return s.default.createElement(n.StateMetric,{className:t,metricTitle:i.PREMIUM_FEATURE.metricName,metricBodyPrimary:i.PREMIUM_FEATURE.support,popoverContent:this.createPopoverContent(),actions:this.createActions(),loading:a})},t})(s.default.Component);t.OverviewComponent=l.requireCssWithComponent((function(e){var a=e.activeMembers,o=e.spaceUsed,d=e.totalSpace,l=e.renewalDate,c=e.loading,f=void 0!==c&&c,g=e.error,h=e.onLoad,_=e.onTTI,b=e.premium,v=void 0!==b&&b;return g?(_&&_(),s.default.createElement("div",{className:"dashboard-overview-grid dashboard-overview-error-state"},s.default.createElement(n.MetricFamilyName,{metricFamilyName:i.ACTIVE_MEMBERS.familyName}),s.default.createElement(r.ErrorComponent,{className:"dashboard-overview-error",onLoad:h}))):(f||_&&_(),s.default.createElement("div",{className:"dashboard-overview-grid"},s.default.createElement("div",{className:"dashboard-overview-header"},s.default.createElement(n.MetricFamilyName,{metricFamilyName:i.ACTIVE_MEMBERS.familyName})),s.default.createElement("div",{className:"dashboard-overview-body"},s.default.createElement(u,{className:"overview dashboard-overview-active-members",activeMembers:a,loading:f}),s.default.createElement(m,{className:"overview dashboard-overview-space-used",spaceUsed:o,totalSpace:d,loading:f}),s.default.createElement(t.RenewalDateComponent,{className:"overview dashboard-overview-renewal-date",renewalDate:l,loading:f}),v&&s.default.createElement(p,{className:"overview dashboard-overview-premium-banner",loading:f}))))}),["/static/css/teams/admin/dashboard/overview-vflSjDyxp.css"])})),define("modules/clean/teams/dashboard/view/state_metrics/state_metric",["require","exports","tslib","react","classnames","spectrum/icon_inline","spectrum/tooltip","modules/core/i18n","spectrum/popover","modules/clean/teams/dashboard/view/common_widget_states/loading_indicator"],(function(e,t,a,s,n,r,i,o,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),n=a.__importDefault(n),t.MetricBody=function(e){var t=e.metricBodyPrimary,a=e.metricBodySecondary;return s.default.createElement("div",{className:"dashboard-state-metric-body"},s.default.createElement("div",{className:"dashboard-state-metric-body-primary"},t),a&&s.default.createElement("div",{className:"dashboard-state-metric-body-secondary"},"/ ",a))};var c=function(){return s.default.createElement(r.IconInline,{className:"dashboard-state-metric-title-info-icon",name:"info",style:{verticalAlign:"middle",marginLeft:4}})},u=function(e){var t=e.tooltipContent;return s.default.createElement(i.Tooltip,{tooltipContent:t,positioning:"below"},s.default.createElement(c,null))},m=function(e){var t=e.popoverContent;return s.default.createElement(d.Popover,null,s.default.createElement(d.PopoverTrigger,null,s.default.createElement(c,null)),s.default.createElement(d.PopoverContent,null,s.default.createElement(d.PopoverContentDescription,{className:"dashboard-state-metric-popover"},t)))};t.MetricTitleRow=function(e){var t=e.tooltipContent,a=e.metricTitle,n=e.popoverContent,r=t?s.default.createElement(u,{tooltipContent:t}):n?s.default.createElement(m,{popoverContent:n}):void 0;return s.default.createElement("div",{className:"dashboard-state-metric-title"},s.default.createElement("div",{className:"dashboard-state-metric-title-name"},a),r)};var p=function(e){return s.default.createElement("div",{className:"dashboard-state-metric-title-loading"})};t.MetricFamilyName=function(e){var t=e.metricFamilyName;return t?s.default.createElement("div",{className:"dashboard-state-metric-family-name"},t):s.default.createElement("noscript",null)},t.MetricActions=function(e){var t=e.actions,a=(void 0===t?[]:t).filter((function(e){return!e.hideCondition})),r=a.filter((function(e){return e.inLoading})).length>0;return s.default.createElement("div",{className:"dashboard-state-metric-actions"},a.map((function(e,t){return s.default.createElement("span",{key:e.text},s.default.createElement("a",{className:n.default("dashboard-state-metric-action",e.disabled||e.inLoading?"disabled":"enabled"),href:e.url,onClick:e.onClick,rel:"noopener noreferrer",target:"_blank"},e.text),t<a.length-1&&s.default.createElement("span",{className:"dashboard-action-separator"},"•"))})),r&&s.default.createElement(l.LoadingSpinner,null))},t.StateMetric=function(e){var a=e.className,n=e.metricBodyPrimary,r=e.metricBodySecondary,i=e.loading,o=e.tooltipContent,d=e.popoverContent,l=e.metricFamilyName,c=e.metricTitle,u=e.actions;return i?s.default.createElement("div",{className:a},s.default.createElement(t.MetricFamilyName,{metricFamilyName:l}),s.default.createElement(p,{metricFamilyName:l}),s.default.createElement("div",{className:"dashboard-state-metric-body-loading"})):s.default.createElement("div",{className:a},s.default.createElement(t.MetricFamilyName,{metricFamilyName:l}),s.default.createElement(t.MetricTitleRow,{metricTitle:c,tooltipContent:o,popoverContent:d}),s.default.createElement(t.MetricBody,{metricBodyPrimary:n,metricBodySecondary:r}),s.default.createElement(t.MetricActions,{actions:u}))},t.LicensesMetricTitleRow=function(e){var t=e.tooltipContent,a=e.metricTitle;return s.default.createElement("div",{className:"dashboard-licenses-panel-state-metric-title"},s.default.createElement("div",{className:"dashboard-state-metric-title-name"},a),t&&s.default.createElement(i.Tooltip,{tooltipContent:t,positioning:"below"},s.default.createElement(r.IconInline,{className:"dashboard-state-metric-title-info-icon",name:"info",style:{verticalAlign:"middle",marginLeft:4}})))},t.LicensesStateMetric=function(e){var a=e.className,n=e.metricBodyPrimary,r=e.metricBodySecondary,i=e.loading,d=e.tooltipContent,l=e.metricTitle,c=e.actions;return i?s.default.createElement("div",null,o.intl.formatMessage({id:"Uwr6W8",defaultMessage:"Loading ..."})):s.default.createElement("div",{className:a},s.default.createElement(t.MetricBody,{metricBodyPrimary:n,metricBodySecondary:r}),s.default.createElement(t.LicensesMetricTitleRow,{metricTitle:l,tooltipContent:d}),s.default.createElement(t.MetricActions,{actions:c}))}})),define("modules/clean/teams/dashboard/view/suggested_members/suggested_members",["require","exports","tslib","react","classnames","spectrum/avatar","spectrum/icon_arrow","modules/core/user_i18n","modules/core/i18n","modules/clean/deferred_loader","modules/clean/rondo/components/tooltip/text_tooltip","modules/clean/teams/dashboard/view/copies","modules/clean/teams/dashboard/view/trend_metrics/info_icon","modules/clean/teams/dashboard/data/utils/dashboard_logger","modules/clean/teams/dashboard/view/common_widget_states/loading_indicator"],(function(e,t,a,s,n,r,i,o,d,l,c,u,m,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s),n=a.__importDefault(n),o=a.__importStar(o),t.SuggestedMemberCard=function(e){var t=s.useState(!1),a=t[0],i=t[1],d=e.onHide,m=e.member,g=e.disabled,h=void 0!==g&&g,_=e.isModalLoaded,b=m.name,v=m.email,E=m.id,M=o.getInitials(b||v),S=a&&!_;return s.default.createElement("div",{className:n.default("suggested-member",h?"disabled":"enabled")},s.default.createElement(r.AvatarInitials,{className:"suggested-member-avatar",avatarSize:32,backgroundColor:r.avatarColorForUserIdentifier(E||""),style:{fontSize:14}},M),s.default.createElement("div",{className:"suggested-member-info"},s.default.createElement("div",{className:"suggested-member-name"},s.default.createElement(c.TextTooltip,{text:b})),s.default.createElement("div",{className:"suggested-member-email"},s.default.createElement(c.TextTooltip,{text:v})),s.default.createElement("div",{className:"suggested-member-actions"},s.default.createElement("a",{className:n.default("dashboard-state-metric-action",S||h?"disabled":"enabled"),onClick:function(){_||i(!0),l.deferredLoader.getItem("showDashboardInviteModal").then((function(e){i(!1),e([v],p.createSuggestedMembersLogObject)}))},href:void 0},u.SUGGESTED_MEMBERS.invite)," • ",s.default.createElement("a",{className:n.default("dashboard-state-metric-action",h?"disabled":"enabled"),onClick:d,href:void 0},u.SUGGESTED_MEMBERS.hide),S&&s.default.createElement(f.LoadingSpinner,null))))};var g=function(e){var t=e.suggestedMembers,a=e.isModalLoaded,r=s.useState(!1),i=r[0],o=r[1],c=i&&!a;return s.default.createElement("div",{className:"dashboard-suggested-members-invite-all"},t.length>1&&s.default.createElement("a",{className:n.default("dashboard-state-metric-action",c?"disabled":"enabled"),onClick:function(){a||o(!0),l.deferredLoader.getItem("showDashboardInviteModal").then((function(e){o(!1),e(t.map((function(e){return e.email})),p.createSuggestedMembersLogObject)}))},href:void 0},d.intl.formatMessage({id:"ZcFVDv",defaultMessage:"{count, plural, one{Invite all {count} member} other{Invite all {count} members}}"},{count:t.length})),c&&s.default.createElement(f.LoadingSpinner,null))},h=function(e){var t=e.isModalLoaded,a=s.useState(!1),r=a[0],i=a[1],o=r&&!t;return s.default.createElement("div",{className:"suggested-members-banner"},s.default.createElement("div",{className:"suggested-members-banner-text"},u.SUGGESTED_MEMBERS.noWasteText),s.default.createElement("div",{className:"suggested-members-banner-link"},s.default.createElement("a",{className:n.default("dashboard-state-metric-action",o?"disabled":"enabled"),onClick:function(){t||i(!0),l.deferredLoader.getItem("showDashboardInviteModal").then((function(e){i(!1),e()}))},href:void 0},u.SUGGESTED_MEMBERS.noWasteLink),o&&s.default.createElement(f.LoadingSpinner,null)))},_=(function(e){function r(t){var a=e.call(this,t)||this;return a.CARD_SIZE=180,a.BANNER_SIZE=200,a.MARGIN=24,a.totalSize=function(e){return(a.CARD_SIZE+a.MARGIN)*e-a.MARGIN},a.onResize=function(){var e=a.state,t=e.buttonsEnabled,s=e.limit,n=s<a.props.suggestedMembers.length,r=Math.floor((a.cardsContainer.current.clientWidth+a.MARGIN)/(a.CARD_SIZE+a.MARGIN));n===t&&r===s||a.setState({buttonsEnabled:n,limit:r})},a.shiftOffset=function(e){a.setState({offset:(a.state.offset+e)%a.props.suggestedMembers.length})},a.shiftRight=function(){a.shiftOffset(1)},a.shiftLeft=function(){a.shiftOffset(-1)},a.rotateAndFit=function(e,t,a){return e.slice(t,e.length).concat(e.slice(0,t)).slice(0,a)},a.hasRoomForBanner=function(){return!!a.cardsContainer.current&&a.totalSize(a.props.suggestedMembers.length)+a.BANNER_SIZE+a.MARGIN<a.cardsContainer.current.clientWidth},a.state={offset:0,buttonsEnabled:!0,limit:t.suggestedMembers.length},a.cardsContainer=s.default.createRef(),a}return a.__extends(r,e),r.prototype.componentDidMount=function(){p.logDashboardEventToHive(p.createSuggestedMembersLogObject("suggested_members_displayed")),window.addEventListener("resize",this.onResize),this.onResize()},r.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize)},r.prototype.componentDidUpdate=function(){this.onResize()},r.prototype.renderContent=function(){var e=this.state,a=e.offset,r=e.limit,o=e.buttonsEnabled,d=this.props,l=d.suggestedMembers,c=d.onHide,u=d.disabledMembers,m=void 0===u?[]:u,p=d.isModalLoaded;return s.default.createElement("div",{className:"dashboard-suggested-members-content"},s.default.createElement("button",{className:n.default("suggested-members-btn","btn-left",o?"enabled":"disabled"),disabled:!o,onClick:this.shiftLeft},s.default.createElement(i.IconArrow,{name:"right",className:"icon-flipped",height:"32",width:"32"})),s.default.createElement("div",{ref:this.cardsContainer,className:"suggested-members-cards"},this.rotateAndFit(l,a,r).map((function(e){return s.default.createElement(t.SuggestedMemberCard,{member:e,onHide:function(){return c(e)},key:e.id,disabled:m.indexOf(e.email)>-1,isModalLoaded:p})})),this.hasRoomForBanner()&&s.default.createElement(h,{isModalLoaded:p})),s.default.createElement("button",{disabled:!o,className:n.default("suggested-members-btn","btn-right",o?"enabled":"disabled"),onClick:this.shiftRight},s.default.createElement(i.IconArrow,{name:"right",height:"32",width:"32"})))},r.prototype.render=function(){var e=this.props,t=e.suggestedMembers,a=e.isModalLoaded;return s.default.createElement("div",{className:"dashboard-suggested-members"},s.default.createElement("div",{className:"dashboard-suggested-members-header"},s.default.createElement("div",null,u.SUGGESTED_MEMBERS.familyName),s.default.createElement("div",{className:"dashboard-suggested-members-header-tools"},s.default.createElement(g,{suggestedMembers:t,isModalLoaded:a}),s.default.createElement("div",{className:"dashboard-suggested-members-header-icons"},s.default.createElement(m.InfoIconComponent,{infoTooltipContent:u.SUGGESTED_MEMBERS.infoTooltipContent,tooltipPosition:"left"})))),this.renderContent())},r})(s.default.Component);t.SuggestedMembers=_})),define("modules/clean/teams/dashboard/view/suggested_members/suggested_members_container",["require","exports","react-redux","modules/clean/teams/dashboard/view/suggested_members/suggested_members","modules/clean/teams/dashboard/data/selectors","modules/clean/teams/dashboard/data/action_creators"],(function(e,t,a,s,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={onHide:r.hideSuggestedMember};t.ConnectedSuggestedMember=a.connect((function(e){return{disabledMembers:n.disabledSuggestedMembersList(e),suggestedMembers:n.getSuggestedMembers(e)}}),i)(s.SuggestedMembers)})),define("modules/clean/teams/dashboard/view/trend_metrics/connected_file_activity_graph",["require","exports","react-redux","modules/clean/teams/dashboard/data/selectors","modules/clean/teams/dashboard/view/trend_metrics/file_activity_graph","modules/clean/teams/dashboard/data/action_creators","modules/clean/teams/dashboard/view/utils/date_util","modules/clean/teams/dashboard/data/types"],(function(e,t,a,s,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fileActivityMetricKeys=[{".tag":"num_file_events"},{".tag":"num_upload_file_events"},{".tag":"num_download_file_events"},{".tag":"num_edit_file_events"},{".tag":"num_preview_file_events"}];var d=function(e){return function(a){var s=Date.now(),n=s-i.daysToMilliseconds(a);e(r.loadHistoricMetrics({keys:t.fileActivityMetricKeys,start_time:i.convertDate(new Date(n)),end_time:i.convertDate(new Date(s))},o.MetricTypes.FILE_ACTIVITY_HISTORIC))}};t.ConnectedFileActivityGraph=a.connect((function(e){return{fileActivityResult:s.getDashboardFileActivityResult(e),isLoadingFileActivity:s.getDashboardFileActivityLoading(e),error:s.getDashboardFileActivityError(e)}}),(function(e){return{loadHistoricMetrics:function(){return e(r.loadHistoricMetrics())},onSelectDateRange:d(e)}}))(n.DashboardFileActivityGraph)})),define("modules/clean/teams/dashboard/view/trend_metrics/connected_shared_domains",["require","exports","react-redux","modules/clean/teams/dashboard/data/selectors","modules/clean/teams/dashboard/view/utils/date_util","modules/clean/teams/dashboard/data/action_creators","modules/clean/teams/dashboard/view/trend_metrics/shared_domains"],(function(e,t,a,s,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return function(t){var a=Date.now(),s=a-n.daysToMilliseconds(t);e(r.loadDomainsMetrics({start_time:n.convertDate(new Date(s)),end_time:n.convertDate(new Date(a))}))}},d=function(e){return function(t){e(r.sortSharedDomains(t))}};t.ConnectedSharedDomains=a.connect((function(e){return{domains:s.getDashboardDomainsResult(e).domains,domainsError:s.getDashboardDomainsError(e),order:s.getDashboardDomainsOrder(e),isLoadingDomains:s.getDashboardDomainsLoading(e),hasViewAllLink:s.isSuperAdmin(e)}}),(function(e){return{loadDomainsMetrics:function(){return e(r.loadDomainsMetrics())},onSortDomains:d(e),onSelectDateRange:o(e)}}))(i.SharedDomains)})),define("modules/clean/teams/dashboard/view/trend_metrics/connected_storage_graph",["require","exports","react-redux","modules/clean/teams/dashboard/data/selectors","modules/clean/teams/dashboard/view/trend_metrics/dashboard_storage_graph","modules/clean/teams/dashboard/data/action_creators","modules/clean/teams/dashboard/view/utils/date_util","modules/clean/teams/dashboard/data/types"],(function(e,t,a,s,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.storageMetricKeys=[{".tag":"team_usage"},{".tag":"team_shared_usage"},{".tag":"team_unshared_usage"}];var d=function(e){return function(a){var s=Date.now(),n=s-i.daysToMilliseconds(a);e(r.loadHistoricMetrics({keys:t.storageMetricKeys,start_time:i.convertDate(new Date(n)),end_time:i.convertDate(new Date(s))},o.MetricTypes.STORAGE_HISTORIC))}};t.ConnectedStorageGraph=a.connect((function(e){return{storageResult:s.getDashboardStorageResult(e),isLoadingStorage:s.getDashboardStorageLoading(e),error:s.getDashboardStorageError(e)}}),(function(e){return{loadHistoricMetrics:function(){return e(r.loadHistoricMetrics())},onSelectDateRange:d(e)}}))(n.DashboardStorageGraph)})),define("modules/clean/teams/dashboard/view/trend_metrics/dashboard_storage_graph",["require","exports","tslib","react","modules/clean/teams/dashboard/highcharts-react-official/highchartsReact","highcharts-7","modules/core/i18n","modules/clean/teams/dashboard/view/trend_metrics/trend_container","modules/clean/display_format","modules/clean/teams/dashboard/view/copies","modules/clean/teams/dashboard/data/utils/dashboard_logger"],(function(e,t,a,s,n,r,i,o,d,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),n=a.__importDefault(n),r=a.__importDefault(r);var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return a.__extends(t,e),t.prototype.componentDidUpdate=function(e){this.props.isLoadingStorage||e.storageResult===this.props.storageResult||this.setState({graphOptions:this.getGraphOptions()})},t.prototype.formatBytes=function(e,t){return void 0===t&&(t=2),null==e?"":0===e?"0":d.format_bytes(e,t)},t.prototype.getVisibleSeriesNum=function(e){return e.series.reduce((function(e,t){return t.visible?e+1:e}),0)},t.prototype.logCheckboxChanged=function(e,t){var a,s=["Shared","Not Shared"],n=e.series[0]===t?s[0]:s[1],r=e.series.map((function(e,t){return e.visible?s[t]:void 0})).filter((function(e){return e}));t.visible?a=r.filter((function(e){return e!==n})):(a=r.slice()).push(n);var i=c.createStorageLogObject("checkbox_changed",{checkbox_changed_from:r.sort().join(","),checkbox_changed_to:a.sort().join(",")});c.logDashboardEventToHive(i)},t.prototype.getGraphOptions=function(){var e,t=this,s=this.getMaxTeamUsageValue(),n=((e={})["#AED0FC"]="#6BA9F8",e["#DFE9FF"]="#A5C2FF",e);return{chart:{type:"area",height:428},xAxis:{title:{text:""},type:"datetime",lineColor:"#C6C9CD",tickColor:"#DDDFE1",tickLength:4,labels:{formatter:function(){return i.intl.formatDate(new Date(this.value),{month:"short",day:"numeric"})}},crosshair:{zIndex:5,color:"#A5A9AF"}},yAxis:{title:{text:""},min:0,tickColor:"#DDDFE1",gridLineColor:"#DDDFE1",labels:{formatter:function(){return t.formatBytes(this.value)},style:{fontSize:"12px"}},softMax:s?1.1*s:s},plotOptions:{area:{stacking:"normal",fillOpacity:1},series:{marker:{enabled:!1},states:{hover:{enabled:!1}},events:{legendItemClick:function(e){if(e.target.visible&&t.getVisibleSeriesNum(this.chart)<=1)return e.browserEvent.stopPropagation(),!1;var a=this.chart.series.map((function(t){return t!==e.target?t.visible:!t.visible}));return t.setState({visibleSeries:a}),t.logCheckboxChanged(this.chart,e.target),!0}}}},tooltip:{useHTML:!0,shared:!0,crosshairs:!0,backgroundColor:"transparent",borderWidth:0,padding:0,style:{pointerEvents:"auto"},formatter:function(){if(!this.points)return"";var e=(this.x-this.points[0].series.data[0].x)/t.props.storageResult.granularity,s=t.props.storageResult.team_usage.values[e],r=s&&s.value&&Number(s.value),o=i.intl.formatDate(new Date(this.x),{month:"short",day:"numeric",year:"numeric"}),d=a.__spreadArrays(this.points).reverse();return'\n            <div class="dashboard-graph-tooltip-container">\n              <div class="dashboard-graph-tooltip-header">'+o+'</div>\n              <table>\n                <tr>\n                  <td>\n                    <div class="dashboard-graph-tooltip-value-color" style="background:white"></div>\n                    <div class="dashboard-graph-tooltip-name">'+i.intl.formatMessage({id:"PpN/KN",defaultMessage:"Total"})+'</div>\n                  </td>\n                  <td>\n                    <div class="dashboard-graph-tooltip-value">'+t.formatBytes(r)+"</div>\n                  </td>\n                </tr>\n                "+d.map((function(e){return'\n                  <tr>\n                    <td>\n                    <div class="dashboard-graph-tooltip-value-color" style="background:'+n[e.series.options.color]+'"></div>\n                    <div class="dashboard-graph-tooltip-name">'+e.series.name+'</div>\n                    </td>\n                    <td>\n                    <div class="dashboard-graph-tooltip-value" style="display: inline-block;">'+t.formatBytes(e.y)+"</div>\n                    </td>\n                  </tr>"})).join("")+"\n            </table>\n          "},shadow:!1},legend:{enabled:!0,useHTML:!0,symbolHeight:1e-4,align:"left",reversed:!0,itemMarginTop:42,labelFormatter:function(){var e=!1;this.visible&&t.getVisibleSeriesNum(this.chart)<=1&&(e=!0);var a=n[this.color];return'\n            <label class="dashboard-input-container">\n              <input type="checkbox" '+(this.visible?"checked":"")+" "+(e?"disabled":"")+'>\n              <span class="dashboard-input-label">'+this.name+'</span>\n              <span class="dashboard-input-checkmark" style="background-color: '+a+"; border-color: "+a+'"></span>\n            </label>\n          '}},series:[{type:"area",name:i.intl.formatMessage({id:"uqW2ln",defaultMessage:"Shared"}),data:this.getGraphData(this.props.storageResult.team_shared_usage),color:"#AED0FC",lineColor:"#AED0FC",visible:this.state.visibleSeries&&this.state.visibleSeries[0]},{type:"area",name:i.intl.formatMessage({id:"6PE8Aj",defaultMessage:"Not shared"}),data:this.getGraphData(this.props.storageResult.team_unshared_usage),color:"#DFE9FF",lineColor:"#DFE9FF",visible:this.state.visibleSeries&&this.state.visibleSeries[1]}],credits:{enabled:!1},title:{text:""}}},t.prototype.getMaxTeamUsageValue=function(){if(this.props.storageResult&&this.props.storageResult.team_usage){var e=this.props.storageResult.team_usage.values.map((function(e,t){return e?e.value:0}));return Math.max.apply(Math,e)}},t.prototype.getGraphData=function(e){var t=this;if(e&&this.props.storageResult){var a=new Date(this.props.storageResult.start_time).getTime();return e.values.map((function(e,s){return{x:a+s*t.props.storageResult.granularity,y:e&&e.value}}))}},t.prototype.render=function(){var e=this.props,t=e.isLoadingStorage,a=e.className,i=e.error,d=e.loadHistoricMetrics,c=e.onTTI;return s.default.createElement(o.TrendContainer,{className:a,metricName:l.STORAGE.metricName,metricDescription:l.STORAGE.metricDescription,exportTooltipContent:l.STORAGE.exportTooltipContent,infoTooltipContent:l.STORAGE.infoTooltipContent,tooltipPosition:"left",isLoading:t,error:i,onLoad:d,onTTI:c,onSelectDateRange:this.props.onSelectDateRange,containingGraph:"storage"},this.state.graphOptions&&s.default.createElement(n.default,{highcharts:r.default,options:this.state.graphOptions}))},t})(s.default.Component);t.DashboardStorageGraph=u})),define("modules/clean/teams/dashboard/view/trend_metrics/date_range_picker",["require","exports","tslib","react","modules/clean/teams/dashboard/view/copies","spectrum/dropdown_menu","modules/clean/react/css","modules/clean/teams/dashboard/data/utils/dashboard_logger"],(function(e,t,a,s,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(t){var a=e.call(this,t)||this;return a.onSelect=function(e){var t=a.state.chosen;t!==e&&(a.setState({chosen:e}),a.props.onSelectDateRange(e)),o.logDashboardEventToHive({eventName:"filter_change",extra:{source_module:a.props.containingGraph,filter_changed_from:t+"_days",filter_changed_to:e+"_days"}})},a.state={chosen:t.defaultRange},a.dateRanges={7:n.DATE_PICKER.lastWeek,30:n.DATE_PICKER.lastMonth,90:n.DATE_PICKER.lastThreeMonths},a}return a.__extends(t,e),t.prototype.render=function(){var e=this;return s.default.createElement("div",{className:"dashboard-date-range-picker"},s.default.createElement(r.DropdownMenu,{onSelection:this.onSelect},s.default.createElement(r.DropdownMenuButton,null,this.dateRanges[this.state.chosen]),s.default.createElement(r.Menu,null,Object.keys(this.dateRanges).map((function(t){return s.default.createElement(r.MenuItem,{key:t,value:t},e.dateRanges[t])})))))},t})((s=a.__importDefault(s)).default.Component);t.DateRangePicker=i.requireCssWithComponent(d,["/static/css/teams/admin/dashboard/date_range_picker-vflQ07nnc.css"])})),define("modules/clean/teams/dashboard/view/trend_metrics/file_activity_graph",["require","exports","tslib","react","modules/clean/teams/dashboard/highcharts-react-official/highchartsReact","highcharts-7","modules/core/i18n","modules/clean/teams/dashboard/view/trend_metrics/trend_container","modules/clean/teams/dashboard/view/copies","modules/clean/teams/dashboard/data/utils/dashboard_logger"],(function(e,t,a,s,n,r,i,o,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),n=a.__importDefault(n),(r=a.__importDefault(r)).default.setOptions({lang:{thousandsSep:","}});var c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return a.__extends(t,e),t.prototype.componentDidUpdate=function(e){this.props.isLoadingFileActivity||e.fileActivityResult===this.props.fileActivityResult||this.setState({graphOptions:this.getGraphOptions()})},t.prototype.getVisibleSeriesNum=function(e){return e.series.reduce((function(e,t){return t.visible?e+1:e}),0)},t.prototype.logCheckboxChanged=function(e,t){var a,s=e.series.filter((function(e){return e.visible})).map((function(e){return e.name}));t.visible?a=s.filter((function(e){return e!==t.name})):(a=s.slice()).push(t.name);var n=l.createStorageLogObject("file_activity_checkbox_changed",{checkbox_changed_from:s.sort().join(","),checkbox_changed_to:a.sort().join(",")});l.logDashboardEventToHive(n)},t.prototype.getGraphOptions=function(){var e=this,t=this.getMaxFileActivityValue();return{chart:{type:"line",height:428},xAxis:{title:{text:""},type:"datetime",lineColor:"#C6C9CD",tickColor:"#DDDFE1",tickLength:4,labels:{formatter:function(){return i.intl.formatDate(new Date(this.value),{month:"short",day:"numeric"})}},crosshair:{zIndex:5,color:"#A5A9AF"}},yAxis:{title:{text:""},min:0,tickColor:"#DDDFE1",gridLineColor:"#DDDFE1",labels:{style:{fontSize:"12px"}},softMax:t?1.1*t:t},plotOptions:{series:{marker:{enabled:!1},lineWidth:2.5,states:{hover:{enabled:!1},inactive:{opacity:1}},events:{legendItemClick:function(t){if(t.target.visible&&e.getVisibleSeriesNum(this.chart)<=1)return t.browserEvent.stopPropagation(),!1;var a=this.chart.series.map((function(e){return e!==t.target?e.visible:!e.visible}));return e.setState({visibleSeries:a}),e.logCheckboxChanged(this.chart,t.target),!0}}}},tooltip:{useHTML:!0,shared:!0,crosshairs:!0,backgroundColor:"transparent",borderWidth:0,padding:0,formatter:function(){return this.points?'\n            <div class="dashboard-graph-tooltip-container">\n              <div class="dashboard-graph-tooltip-header">'+i.intl.formatDate(new Date(this.x),{month:"short",day:"numeric",year:"numeric"})+"</div>\n              <table>\n                "+this.points.map((function(e){return'\n                  <tr>\n                    <td>\n                    <div class="dashboard-graph-tooltip-value-color" style="background:'+e.series.options.color+'"></div>\n                    <div class="dashboard-graph-tooltip-name">'+e.series.name+'</div>\n                    </td>\n                    <td>\n                    <div class="dashboard-graph-tooltip-value">'+i.intl.formatNumber(e.y||0)+"</div>\n                    </td>\n                  </tr>"})).join("")+"\n            </table>\n          ":""},shadow:!1},legend:{enabled:!0,useHTML:!0,align:"left",itemMarginTop:22,itemDistance:0,labelFormatter:function(){var t=this.visible&&e.getVisibleSeriesNum(this.chart)<=1;return'\n            <label class="dashboard-input-container">\n              <input type="checkbox" '+(this.visible?"checked":"")+" "+(t?"disabled":"")+'>\n              <span class="dashboard-input-label">'+this.name+'</span>\n              <span class="dashboard-input-checkmark" style="background-color: '+this.color+"; border-color: "+this.color+'"></span>\n            </label>\n          '}},series:[{type:"line",name:i.intl.formatMessage({id:"l/XSM9",defaultMessage:"All"}),data:this.getGraphData(this.props.fileActivityResult.num_file_events),color:"#0D2481",zIndex:5,visible:this.state.visibleSeries&&this.state.visibleSeries[0]},{type:"line",name:i.intl.formatMessage({id:"l0i2GT",defaultMessage:"Upload"}),data:this.getGraphData(this.props.fileActivityResult.num_upload_file_events),color:"#0061FF",zIndex:4,visible:this.state.visibleSeries&&this.state.visibleSeries[1]},{type:"line",name:i.intl.formatMessage({id:"MF+40x",defaultMessage:"Download"}),data:this.getGraphData(this.props.fileActivityResult.num_download_file_events),color:"#005744",zIndex:3,visible:this.state.visibleSeries&&this.state.visibleSeries[2]},{type:"line",name:i.intl.formatMessage({id:"+UG3Vg",defaultMessage:"Edit"}),data:this.getGraphData(this.props.fileActivityResult.num_edit_file_events),color:"#29BC80",zIndex:2,visible:this.state.visibleSeries&&this.state.visibleSeries[3]},{type:"line",name:i.intl.formatMessage({id:"7GlqMJ",defaultMessage:"Preview"}),data:this.getGraphData(this.props.fileActivityResult.num_preview_file_events),color:"#813BF6",zIndex:1,visible:this.state.visibleSeries&&this.state.visibleSeries[4]}],credits:{enabled:!1},title:{text:""}}},t.prototype.getMaxFileActivityValue=function(){if(this.props.fileActivityResult&&this.props.fileActivityResult.num_file_events){var e=this.props.fileActivityResult.num_file_events.values.map((function(e,t){return e?e.value:0}));return Math.max.apply(Math,e)}},t.prototype.getGraphData=function(e){var t=this;if(e&&this.props.fileActivityResult){var a=new Date(this.props.fileActivityResult.start_time).getTime();return e.values.map((function(e,s){return{x:a+s*t.props.fileActivityResult.granularity,y:e&&e.value}}))}},t.prototype.render=function(){var e=this.props,t=e.isLoadingFileActivity,a=e.className,i=e.error,l=e.loadHistoricMetrics;return s.default.createElement(o.TrendContainer,{className:a,metricName:d.FILE_ACTIVITY.metricName,metricDescription:d.FILE_ACTIVITY.metricDescription,exportTooltipContent:d.FILE_ACTIVITY.exportTooltipContent,infoTooltipContent:d.FILE_ACTIVITY.infoTooltipContent,tooltipPosition:"below",isLoading:t,error:i,onLoad:l,onSelectDateRange:this.props.onSelectDateRange,containingGraph:"file_activity"},this.state.graphOptions&&s.default.createElement(n.default,{highcharts:r.default,options:this.state.graphOptions}))},t})(s.default.Component);t.DashboardFileActivityGraph=c})),define("modules/clean/teams/dashboard/view/trend_metrics/info_icon",["require","exports","tslib","modules/clean/teams/dashboard/view/copies","modules/clean/teams/dashboard/view/constants","react","spectrum/icon_inline","spectrum/colorized_icon","spectrum/tooltip"],(function(e,t,a,s,n,r,i,o,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),t.InfoIconComponent=function(e){return r.default.createElement(d.Tooltip,{positioning:e.tooltipPosition,tooltipContent:e.infoTooltipContent},r.default.createElement(o.ColorizedIcon,{color:n.COLORS.COLOR_STONE},r.default.createElement(i.IconInline,{name:"info","aria-label":s.GENERAL.helpAriaLabel})))}})),define("modules/clean/teams/dashboard/view/trend_metrics/shared_domains",["require","exports","tslib","react","spectrum/icon_form","spectrum/popover","modules/clean/teams/dashboard/view/trend_metrics/trend_container","modules/clean/teams/dashboard/view/copies","highcharts-7","modules/clean/teams/dashboard/highcharts-react-official/highchartsReact","modules/clean/teams/dashboard/data/utils/shared_domains_utils","modules/clean/teams/dashboard/data/utils/dashboard_logger","modules/clean/datetime","modules/clean/teams/dashboard/data/utils/activity_page_link_builder_utils","modules/core/i18n"],(function(e,t,a,s,n,r,i,o,d,l,c,u,m,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),d=a.__importDefault(d),l=a.__importDefault(l);var g=["shared_content_add_invitees","shared_content_add_member","paper_content_add_member"],h={text:"",style:{display:"none"}},_=(function(e){function t(t){var a=e.call(this,t)||this;return a.dateRangeChanged=function(e){a.props.onSelectDateRange(e),a.setState({currentRange:e})},a.state={currentRange:30},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.loadDomainsMetrics()},t.prototype.render=function(){var e,t=this.props,n=t.isLoadingDomains,r=t.domainsError,d=t.loadDomainsMetrics,l=t.onTTI,c=a.__rest(t,["isLoadingDomains","domainsError","loadDomainsMetrics","onTTI"]);return e=0===this.props.domains.length?s.default.createElement("div",{className:"dashboard-shared-domains-partial-container",style:{height:352}},s.default.createElement("p",{className:"dashboard-shared-domains-partial-state"},o.SHARED_DOMAINS.emptyText)):s.default.createElement(s.default.Fragment,null,s.default.createElement(v,a.__assign({},c)),s.default.createElement(b,a.__assign({dateRange:this.state.currentRange},c))),s.default.createElement(i.TrendContainer,{className:"dashboard-shared-domains-graph",metricName:o.SHARED_DOMAINS.metricName,metricDescription:o.SHARED_DOMAINS.metricDescription,exportTooltipContent:o.SHARED_DOMAINS.exportTooltipContent,infoTooltipContent:o.SHARED_DOMAINS.infoTooltipContent,tooltipPosition:"left",isLoading:n,error:r,onLoad:d,onTTI:l,onSelectDateRange:this.dateRangeChanged,defaultRange:this.state.currentRange,containingGraph:"shared_domains"},e)},t})(s.default.Component);t.SharedDomains=_;var b=(function(e){function t(t){var a=e.call(this,t)||this;return a.getActivityPageLink=function(e){var t=m.increment_date(new Date,0,0,-1*e);return(new p.ActivityPageLinkBuilder).fromDate(t).withEventTypes(g).includeOnlyNonTeamMembers().getLink()},a.logActivityPageClicked=function(){var e=u.createSharedDomainsLogObejct("activity_page_clicked",{domains_number:a.props.domains.length});u.logDashboardEventToHive(e)},a}return a.__extends(t,e),t.prototype.calculateChartHeight=function(){return 44*(this.props.domains.length<8?this.props.domains.length:8)},t.prototype.calculateMaxAxisValue=function(){var e=this.props.domains.length,t=this.props.order===c.SortDirection.DESCENDING?[0,Math.min(e,8)-1]:[e-1,Math.max(e-8,0)],a=t[0],s=t[1],n=[this.props.domains[a].num_of_shares,this.props.domains[s].num_of_shares],r=n[0],i=r-n[1];return i>0?r+.05*i:null},t.prototype.getGraphOptions=function(){return{chart:{type:"bar",spacingLeft:0,height:this.calculateChartHeight()},credits:{enabled:!1},colors:["#1B3398"],title:h,subtitle:h,tooltip:{enabled:!1},xAxis:{categories:this.props.domains.slice(0,8).map((function(e){return e.domain})),labels:{formatter:function(){return'<div class="dashboard-shared-domains-tooltip" title="'+this.value+'">'+this.value+"</div>"},reserveSpace:!0,useHTML:!0,style:{color:"#1D2737",fontSize:"14px"}}},yAxis:{title:h,labels:{enabled:!1},max:this.calculateMaxAxisValue()},series:[{type:"column",showInLegend:!1,borderRadius:2,data:this.props.domains.slice(0,8).map((function(e){return e.num_of_shares})),dataLabels:{enabled:!0,style:{color:"#717781",fontSize:"12px",fontWeight:"normal"}},pointWidth:8}],plotOptions:{series:{states:{hover:{enabled:!0}}}}}},t.prototype.renderViewAll=function(){var e=this.props,t=e.hasViewAllLink,a=e.domains;if(t&&0!==a.length)return s.default.createElement("a",{className:"dashboard-shared-domains-view-all",href:this.getActivityPageLink(this.props.dateRange),onClick:this.logActivityPageClicked,rel:"noopener noreferrer",target:"_blank"},f.intl.formatMessage({id:"e7Xoco",defaultMessage:"{count, plural, one{View activities for {domain_name} domain} other{View activity for all {count} domains}}"},{count:a.length,domain_name:a[0].domain}))},t.prototype.render=function(){var e=this.props.domains,t=this.getGraphOptions();return s.default.createElement("div",{className:"dashboard-shared-domains-graph-and-view"},t&&s.default.createElement(l.default,{highcharts:d.default,options:t}),s.default.createElement("div",{className:"dashboard-shared-domains-partial-container",style:{height:352-this.calculateChartHeight()}},e.length<8&&s.default.createElement("p",{className:"dashboard-shared-domains-partial-state"},f.intl.formatMessage({id:"gsFwKW",defaultMessage:"{count, plural, one{Members only shared with 1 domain outside of your team} other{Members only shared with {count} domains outside of your team}}"},{count:e.length}))),this.renderViewAll())},t})(s.default.Component);t.SharedDomainsBody=b;var v=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logSortDirectionChanged=function(e){var t=u.createSharedDomainsLogObejct("direction_changed",{direction_clicked:e});u.logDashboardEventToHive(t)},t.onSortSelection=function(e){t.logSortDirectionChanged(e),t.props.onSortDomains(e)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props.order===c.SortDirection.ASCENDING?"sort-arrow-up":"sort-arrow-down";return s.default.createElement("div",{className:"dashboard-shared-domains-graph-titles"},s.default.createElement("div",{className:"dashboard-shared-domains-column-title"},o.SHARED_DOMAINS.columns[0]),s.default.createElement(r.Popover,{onSelection:this.onSortSelection},s.default.createElement(r.PopoverTrigger,{className:"dashboard-shared-domains-trigger","aria-label":f.intl.formatMessage({id:"oqW97K",defaultMessage:"Sort by"})},s.default.createElement("span",{className:"dashboard-shared-domains-numbers-title"},o.SHARED_DOMAINS.columns[1]),s.default.createElement(n.IconForm,{className:"dashboard-shared-domains-arrow",name:e})),s.default.createElement(r.PopoverContent,null,s.default.createElement(r.PopoverItemGroup,null,s.default.createElement(r.PopoverItemGroupTitle,{className:"dashboard-shared-domains-menu-title"},o.SHARED_DOMAINS.popover.header),s.default.createElement(r.PopoverSelectableItem,{selected:this.props.order===c.SortDirection.DESCENDING,value:c.SortDirection.DESCENDING},o.SHARED_DOMAINS.popover.options[0]),s.default.createElement(r.PopoverSelectableItem,{selected:this.props.order===c.SortDirection.ASCENDING,value:c.SortDirection.ASCENDING},o.SHARED_DOMAINS.popover.options[1])))))},t})(s.default.Component);t.ArrowSort=v})),define("modules/clean/teams/dashboard/view/trend_metrics/trend_container",["require","exports","tslib","modules/clean/react/css","modules/clean/teams/dashboard/view/trend_metrics/info_icon","react","classnames","modules/clean/teams/dashboard/view/common_widget_states/error","modules/clean/teams/dashboard/view/common_widget_states/loading_indicator","modules/clean/teams/dashboard/view/trend_metrics/date_range_picker"],(function(e,t,a,s,n,r,i,o,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),i=a.__importDefault(i);var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,a=e.metricName,s=e.metricDescription,n=e.exportTooltipContent,o=e.infoTooltipContent,d=e.tooltipPosition,l=e.onSelectDateRange,c=e.defaultRange,m=e.containingGraph,p=i.default("dashboard-trend-container",t);return r.default.createElement("div",{className:p},r.default.createElement(u,{metricName:a,metricDescription:s,exportTooltipContent:n,infoTooltipContent:o,tooltipPosition:d,onSelectDateRange:l,defaultRange:c,containingGraph:m}),this.renderContent())},t.prototype.renderContent=function(){var e=this.props,t=e.children,a=e.isLoading,s=e.error,n=e.onLoad,i=e.onTTI;return s?(i&&i(),r.default.createElement(o.ErrorComponent,{className:"dashboard-trend-error",onLoad:n})):a?this.renderLoadingIndicator():(i&&i(),t)},t.prototype.renderLoadingIndicator=function(){return r.default.createElement(d.LoadingIndicator,{className:"dashboard-trend-loading"})},t})(r.default.Component),u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.metricName,a=e.metricDescription,s=e.infoTooltipContent,i=e.tooltipPosition,o=e.onSelectDateRange,d=e.defaultRange,c=void 0===d?30:d,u=e.containingGraph;return r.default.createElement("div",null,r.default.createElement("div",{className:"dashboard-trend-container-header"},r.default.createElement("div",null,t),r.default.createElement("div",{className:"dashboard-trend-container-header-icons"},r.default.createElement(n.InfoIconComponent,{infoTooltipContent:s,tooltipPosition:i}))),a&&r.default.createElement("div",{className:"dashboard-trend-container-description"},a),r.default.createElement("div",{className:"dashboard-trend-container-date-title"},r.default.createElement(l.DateRangePicker,{defaultRange:c,onSelectDateRange:o,containingGraph:u})))},t})(r.default.Component);t.TrendContainer=s.requireCssWithComponent(c,["/static/css/teams/admin/dashboard/dashboard_trend_container-vfl7bUV8B.css"])})),define("modules/clean/teams/dashboard/view/updated_message/updated_message",["require","exports","tslib","react","modules/clean/teams/dashboard/view/copies","modules/clean/react/css"],(function(e,t,a,s,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return s.default.createElement("div",{className:"dashboard-updated-message"},n.UPDATED_MESSAGE)},t})((s=a.__importDefault(s)).default.Component);t.UpdatedMessageComponentWithoutCss=i,t.UpdatedMessageComponent=r.requireCssWithComponent(i,["/static/css/teams/admin/dashboard/updated_message-vflvKZQvo.css"])})),define("modules/clean/teams/dashboard/view/utils/date_util",["require","exports","modules/clean/datetime"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertDate=function(e){return a.format_date_utc(e,"yyyy-MM-ddTHH:mm:ssZ")},t.daysToMilliseconds=function(e){return 24*e*60*60*1e3}})),define("modules/clean/teams/dashboard/view/utils/hidable_with_ttl",["require","exports","tslib","react","modules/clean/teams/dashboard/data/utils/storage_time_util"],(function(e,t,a,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importDefault(s),t.withStorageHide=function(e,t,r,i,o){void 0===i&&(i=function(e){return!!e}),void 0===o&&(o=function(){return!0});var d=function(e){return function(){return!i(n.LocalStorageWithTTL.get(e+":"+t))}};return function(i){return s.default.createElement(e,a.__assign({},i,{onHide:(l=i.viewerKey,function(){return n.LocalStorageWithTTL.setWithTTL(l+":"+t,o(),r)}),shouldShow:d(i.viewerKey)}));var l}}}));
//# sourceMappingURL=pkg-admin_dashboard.min.js-vflXT-qtj.map