define("modules/clean/referrer_cleansing_redirect",["require","exports","tslib","sjcl","modules/core/browser","modules/core/cookies","modules/core/uri"],(function(e,r,t,o,c,i,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),o=t.__importStar(o),c=t.__importStar(c);var s=function(e){var r=o.codec.utf8String.toBits(i.Cookies.read("__Host-js_csrf")),t=new o.misc.hmac(r).encrypt(e);return o.codec.base64.fromBits(t)};function u(e){var r=n.URI.parse(e).getScheme();if(r&&!["http","https"].includes(r))return"#";var t=new n.URI({scheme:"https",authority:"www.dropbox.com",path:"/referrer_cleansing_redirect"});return t.setQuery({url:e,hmac:s(e)}),t}function a(e,r,t){void 0===r&&(r=window),void 0===t&&(t=!1),t&&(r.opener=null),c.redirect(u(e),r)}r.get_redirect_uri=u,r.redirect=a,r.safe_open_tab_and_redirect=function(e){a(e,c.unsafe_open_tab(""),!0)}}));
//# sourceMappingURL=pkg-referrer-cleansing-redirect.min.js-vflztq1Fo.map