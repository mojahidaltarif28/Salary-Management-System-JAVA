define("modules/clean/account/email_verify_reasons",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHARE_FOLDER="share_folder",t.CREATE_API_APP="create_api_app",t.PUBLIC_FOLDER="public_folder",t.GENERIC="generic",t.SHMODAL="shmodal",t.SHARE_FILEVIEWER="share_fileviewer",t.MOBILE_SHARE_FOLDER="mobile_share_folder",t.EMAIL_ALIAS="email_alias",t.CHANGE_EMAIL="change_email",t.PROMPT_CAMPAIGN="prompt_campaign",t.ADD_COMMENT="add_comment",t.SUBSCRIBE_TO_COMMENTS="subscribe_to_comments",t.CREATE_FILE_COLLECTOR="create_file_collector",t.JOIN_DISCOVERED_TEAM="join_discovery",t.CREATE_TEAM="create_team",t.NEW_DFB_TEAM_TRY="new_dfb_team_try",t.NEW_DFB_TEAM_BUY="new_dfb_team_buy",t.GIFT_BUY="gift_buy",t.REFER_FRIENDS="refer_friends",t.UJ_VERIFY_EMAIL="uj_verify_email",t.SHOWCASE_USER="showcase_user",t.CLOUD_DOCS="cloud_docs",t.REVERIFICATION_CAMPAIGN="reverification_campaign",t.CHANGE_EMAIL_FOR_APPLE_SIGNUP="change_email_for_apple_signup",t.SUSPICIOUS_ALPACA_REVERIFICATION="suspicious_alpaca_reverification"})),define("modules/clean/account_page/components/account_table",["require","exports","tslib","react","classnames"],(function(e,t,a,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),l=a.__importDefault(l),t.BodyCell=function(e){var t=e.className,s=a.__rest(e,["className"]),o=l.default("account-maestro-table__body-cell",t);return n.default.createElement("td",a.__assign({className:o},s))},t.HeaderCell=function(e){var t=e.className,s=a.__rest(e,["className"]),o=l.default("account-maestro-table__header-cell",t);return n.default.createElement("th",a.__assign({className:o},s))},t.BodyRow=function(e){var t=e.className,s=a.__rest(e,["className"]),o=l.default("account-maestro-table__body-row",t);return n.default.createElement("tr",a.__assign({className:o},s))},t.HeaderRow=function(e){var t=e.className,s=a.__rest(e,["className"]),o=l.default("account-maestro-table__header-row",t);return n.default.createElement("tr",a.__assign({className:o},s))},t.TableHead=function(e){return n.default.createElement("thead",a.__assign({},e))},t.TableBody=function(e){return n.default.createElement("tbody",a.__assign({},e))},t.TableFooter=function(e){return n.default.createElement("tfoot",a.__assign({},e))},t.Table=function(e){var t=e.className,s=a.__rest(e,["className"]),o=l.default("account-maestro-table",t);return n.default.createElement("div",{className:"account-maestro-table-container"},n.default.createElement("table",a.__assign({className:o},s)))}})),define("modules/clean/account_page/components/action_table",["require","exports","tslib","react","classnames","dig-components/buttons","dig-components/icons","dig-components/icons/src","modules/clean/account_page/components/account_table"],(function(e,t,a,n,l,s,o,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),l=a.__importDefault(l);var c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClose=function(e){return function(){t.props.onClosePressed(e)}},t}return a.__extends(t,e),t.prototype.renderBodyRows=function(){var e,t=this,a=null===(e=this.props.hasActionsColumn)||void 0===e||e;return(this.props.sortFunction?this.props.data.sort(this.props.sortFunction):this.props.data).map((function(e,l){var c=null!=t.props.hideClose&&t.props.hideClose(e);return n.default.createElement(i.BodyRow,{key:l},t.props.keys.map((function(a,s){return n.default.createElement(i.BodyCell,{key:l+"-"+s},t.props.renderRowDetail(e,a))})),a&&n.default.createElement(i.BodyCell,{className:"action-table__close",key:l+"--1"},!c&&n.default.createElement(s.IconButton,{variant:"transparent","aria-label":t.props.dismissAriaLabel(e),onClick:t.onClose(e),className:"action-table__button"},n.default.createElement(o.UIIcon,{src:r.DeleteLine}))))}))},t.prototype.renderHeaderCells=function(){var e=this;return this.props.keys.map((function(t,a){return n.default.createElement(i.HeaderCell,{key:a},e.props.headers[t])}))},t.prototype.render=function(){var e,t=l.default("action-table",this.props.tableClass),a=null===(e=this.props.hasActionsColumn)||void 0===e||e;return n.default.createElement(i.Table,{className:t},n.default.createElement(i.TableHead,null,n.default.createElement(i.HeaderRow,null,this.renderHeaderCells(),a&&n.default.createElement(i.HeaderCell,{"aria-label":this.props.dismissHeaderAriaLabel}))),n.default.createElement(i.TableBody,null,this.renderBodyRows()))},t})(n.default.Component);t.ActionTable=c})),define("modules/clean/account_page/components/button_block",["require","exports","tslib","react","modules/clean/account_page/components/info_tooltip","modules/clean/react/css","modules/clean/bem","dig-components/buttons","modules/core/browser","dig-components/typography","styled-components"],(function(e,t,a,n,l,s,o,r,i,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i),u=a.__importDefault(u);var d,m=o.bem("account-button-block"),f=o.bem("account-page-block"),_=u.default(c.Text)(d||(d=a.__makeTemplateObject(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"])));t.ButtonBlock=s.requireCssWithComponent((function(e){var t=e.kind,s=e.buttonAction,o=e.disabled,c=e.buttonText,u=e.className,d=e.subtext,p=e.hideClickOption,g=e.italicizedSubtext,y=e.label,v=e.tooltipText,h="link"===s.kind?s.href:void 0,M={className:m("button"),onClick:function(e){h&&i.open_tab(h),"function"===s.kind&&s.handler.call(e.target,e)},disabled:o},b="outline"===t,E=e["data-test"],w="transparent";b&&(w="outline");var k=["account-page-module ",m(""),u].join(" ");return n.default.createElement("div",{className:k},n.default.createElement("div",{className:m("label")},n.default.createElement("span",{className:f("heading")},n.default.createElement("div",{className:f("subtext")},n.default.createElement(_,{size:"standard"},n.default.createElement("div",null,y),v&&n.default.createElement(l.InfoTooltip,{content:v,position:l.TooltipPlacement.BOTTOM})))),d&&n.default.createElement("div",{className:f("subtext")},d,g&&n.default.createElement(n.default.Fragment,null,n.default.createElement("br",null),n.default.createElement("i",null,g)))),!p&&n.default.createElement(r.Button,a.__assign({},M,{variant:w,"data-test":E}),c))}),["/static/css/account/pagelet/index-vflIcgGvT.css","/static/css/spectrum/index.web-vfl6Z83yw.css"])})),define("modules/clean/account_page/components/info_tooltip",["require","exports","tslib","react","modules/core/i18n","dig-components/tooltips","dig-components/buttons","dig-components/icons/src","dig-components/icons","dig-components/typography","styled-components"],(function(e,t,a,n,l,s,o,r,i,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var d,m=(u=a.__importDefault(u)).default(c.Text)(d||(d=a.__makeTemplateObject(["\n  &&& {\n    display: flex;\n    align-items: center;\n  }\n"],["\n  &&& {\n    display: flex;\n    align-items: center;\n  }\n"])));t.TooltipPlacement={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},t.InfoTooltip=function(e){var a=["info-tooltip",e.className].join(" "),c=e.position||t.TooltipPlacement.RIGHT,u=n.default.useState(c)[0];return n.default.createElement("span",{className:a},e.prompt&&n.default.createElement("span",{className:"info-tooltip__prompt"},e.prompt),n.default.createElement(s.Tooltip,{placement:u,title:e.content},n.default.createElement(o.IconButton,{variant:"transparent"},n.default.createElement(m,{color:"faint"},n.default.createElement(i.UIIcon,{"aria-label":l.intl.formatMessage({id:"+SX5vq",defaultMessage:"More information"}),className:"info-tooltip__icon",tabIndex:0,src:r.InfoLine})))))}})),define("modules/clean/account_page/components/key_value_block",["require","exports","tslib","react","modules/clean/react/css","modules/clean/bem","dig-components/buttons","dig-components/typography","modules/clean/account_page/components/info_tooltip","styled-components"],(function(e,t,a,n,l,s,o,r,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),c=a.__importDefault(c);var u,d=s.bem("account-key-value-block"),m=c.default(r.Text)(u||(u=a.__makeTemplateObject(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"])));t.KeyValueBlock=l.requireCssWithComponent((function(e){var t;t=!e.valueText&&e.placeholder?n.default.createElement("span",{className:d("placeholder")},e.placeholder):n.default.createElement("span",null,e.valueText);var a=e.inlineMode?"inline_mode":"",l=["account-page-module",d(""),e.className,a].join(" ");return n.default.createElement("div",{className:l},!e.inlineMode&&n.default.createElement("span",{className:d("key")},n.default.createElement(m,{size:"standard",className:d("heading")},e.keyText,e.tooltipText&&n.default.createElement(i.InfoTooltip,{content:e.tooltipText,position:i.TooltipPlacement.BOTTOM})),e.subtext&&n.default.createElement(r.Text,{className:d("subtext"),size:"small",color:"faint"},e.subtext||"")),n.default.createElement(r.Text,{tagName:"div",size:"standard",className:d("value")},t),n.default.createElement("div",{className:d("links")},e.linkText&&n.default.createElement(o.Button,{className:d("link"),onClick:e.onLinkClick,disabled:e.disabled,variant:e.linkTextVariant||"transparent","aria-label":e.ariaPrimaryButtonLabel},e.linkText),e.secondLink&&n.default.createElement(o.Button,{className:d("link"),onClick:e.onSecondLinkClick,disabled:e.disabled,variant:"transparent","aria-label":e.ariaSecondaryButtonLabel},e.secondValueText),e.customControl))}),["/static/css/account/pagelet/index-vflIcgGvT.css"])})),define("modules/clean/account_page/components/loading",["require","exports","tslib","react","modules/core/i18n","dig-components/progress_indicators","styled-components"],(function(e,t,a,n,l,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var r,i=(o=a.__importDefault(o)).default.div(r||(r=a.__makeTemplateObject(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));t.Loading=function(){return n.default.createElement(i,null,n.default.createElement(s.Spinner,{className:"account-loading-indicator","aria-valuetext":l.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}))}})),define("modules/clean/account_page/components/toggle_block",["require","exports","tslib","react","modules/clean/react/css","modules/clean/account_page/components/key_value_block","dig-components/controls","dig-components/typography","modules/core/i18n","styled-components"],(function(e,t,a,n,l,s,o,r,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var u,d=(c=a.__importDefault(c)).default(r.Text)(u||(u=a.__makeTemplateObject(["\n  margin-right: 8px !important;\n"],["\n  margin-right: 8px !important;\n"])));t.ToggleBlockComponent=function(e){var t=["account-page-module","account-toggle-block",e.className].join(" "),a=e.customStatusDescription;return a||(a={onText:i.intl.formatMessage({id:"qboPoB",defaultMessage:"On"}),offText:i.intl.formatMessage({id:"ZSM6XN",defaultMessage:"Off"})}),n.default.createElement(s.KeyValueBlock,{className:t,keyText:e.label,subtext:e.subLabel,valueText:e.detail,tooltipText:e.tooltipText,customControl:n.default.createElement(n.default.Fragment,null,n.default.createElement(d,{size:"standard"},e.isOn?null==a?void 0:a.onText:null==a?void 0:a.offText),n.default.createElement(o.Toggle,{className:["toggle toggle-block__toggle",e.toggleClass].join(" "),isToggled:e.isOn,onChange:function(t){var a=t.target.checked;e.onToggle(a)},disabled:e.isDisabled,wrapperProps:{"aria-pressed":e.isOn}}))})},t.ToggleBlock=l.requireCssWithComponent(t.ToggleBlockComponent,["/static/css/account/pagelet/index-vflIcgGvT.css"])})),define("modules/clean/account_page/util",["require","exports","tslib","modules/core/browser","modules/clean/viewer","modules/clean/analytics"],(function(e,t,a,n,l,s){"use strict";function o(e){return void 0===e&&(e=l.Viewer.get_viewer()),e.get_user_by_id(window.ensemble.viewer.getActiveUser().userId)}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.getCurrentUser=o,t.getTeamInfo=function(){var e=l.Viewer.get_viewer(),t=o(e).is_team,a=e.team_dbtid,n=e.team_name;return t&&void 0!==a&&void 0!==n?{teamId:a,teamName:n}:void 0},t.logClickAndOpenTab=function(e,t,a){return function(){s.ProEventsLogger.log(e,a,(function(){n.open_tab(t)}))}},t.logClickAndRedirect=function(e,t,a){return function(){s.ProEventsLogger.log(e,a,(function(){n.redirect(t)}))}}})),define("modules/clean/legacy_pyxl_controllers/phone_number",["require","exports","tslib","jquery","modules/clean/web_timing_logger","modules/core/controller_helpers","modules/core/i18n"],(function(e,t,a,n,l,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),l=a.__importStar(l),s=a.__importStar(s);var r=(function(){function t(t,n){var s=this;this.set=this.set.bind(this),this._setup_valhooks=this._setup_valhooks.bind(this),this.$phone_input=t,this.$error_span=null,this.id=this.$phone_input.attr("id"),this.$country_select=this.$phone_input.find(".phone-country"),this.$phone_text=this.$phone_input.find(".phone-text"),this._setup_valhooks(),this._listen(),this._phone_numbers=void 0,n?l.waitForTTI().then((function(){return new Promise((function(t,a){e(["phone_helpers"],t,a)})).then(a.__importStar).then((function(e){var t=e.default;return s._phone_numbers=t}))})):new Promise((function(t,a){e(["phone_helpers"],t,a)})).then(a.__importStar).then((function(e){var t=e.default;return s._phone_numbers=t}))}return t.prototype._listen=function(){var e=this;return this._reformat(),this.$phone_text.on("blur",(function(){return e._reformat(),e.validate_on_blur()})),this.$country_select.on("change",(function(){return e._reformat(),e.validate_on_blur()})),this.$phone_text.on("focus",(function(){return e.hide_error()}))},t.prototype._get_example_number=function(){return this._phone_numbers?this._phone_numbers.get_example_mobile_number(this.get_country_code()):"(201) 555-0123"},t.prototype._get_country_code=function(){return this._phone_numbers?this._phone_numbers.iso_to_dialing(this.$country_select.val()||"US"):"1"},t.prototype._split_number=function(e){return this._phone_numbers?this._phone_numbers.split_number(e):e},t.prototype._is_valid=function(e){return!this._phone_numbers||this._phone_numbers.is_valid(e)},t.prototype._full_number=function(){var e=this.$country_select.val(),t=this.$phone_text.val();return this._phone_numbers?this._phone_numbers.full_number(e,t):t},t.prototype._format=function(e,t){return this._phone_numbers?this._phone_numbers.format(e,t):e+" "+t},t.prototype._reformat=function(){this.hide_error();var e=this.$phone_text.val();if(e){var t=this._format(this.get_country_code(),e);if(t)return this.$phone_text.val(t)}else{var a=this._get_example_number();n.default("label",this.$phone_text).text(o.intl.formatMessage({id:"lMrq9s",defaultMessage:"Example: "})+a)}},t.prototype.get_country_code=function(){return this._get_country_code()},t.prototype.get_local_number=function(){var e=this.$phone_input.val();return this._split_number(e).phone_number},t.prototype.is_empty=function(){return!this.$phone_text.val()},t.prototype.show_error=function(e){var t=this.$phone_input.find(".phone-number-error");return t.css("display","block"),t.text(e)},t.prototype.hide_error=function(){return this.$phone_input.find(".phone-number-error").html("&nbsp;")},t.prototype.is_valid_french_polynesian_number=function(e){return"+689"===e.slice(0,4)&&(6===(e=(e=e.slice(4)).replace(/[^\d]/g,"")).length||8===e.length)},t.prototype.validate_on_blur=function(){if(this.is_empty())return this.hide_error(),!0;var e=this.$phone_input.val();return this.is_valid_french_polynesian_number(e)?(this.hide_error,!0):this._is_valid(e)?(this.hide_error(),!0):(this.show_error(o.intl.formatMessage({id:"Q8gucb",defaultMessage:"Invalid phone number"})),!1)},t.prototype.validate_on_submit=function(){return!!this.validate_on_blur()&&(!this.is_empty()||(this.show_error(o.intl.formatMessage({id:"8AK5Pp",defaultMessage:"Please enter a phone number"})),!1))},t.prototype.focus=function(){return this.$phone_text.focus()},t.prototype.get=function(){if(this.is_empty())return null;try{return this._full_number(this.$country_select.val(),this.$phone_text.val())}catch(e){return null}},t.prototype.set=function(e){if(!e)return this.$phone_text.val(""),void this._reformat();try{var t=this._split_number(e);return t.iso_code?(this.$country_select.val(t.iso_code),this.$phone_text.val(this._format(t.dialing_code,t.phone_number)),void this._reformat()):void this.$phone_text.val(e)}catch(t){return this.$phone_text.val(e),this.show_error(o.intl.formatMessage({id:"Q8gucb",defaultMessage:"Invalid phone number"}))}},t.prototype._setup_valhooks=function(){return this.$phone_input.each((function(){return this.type="phoneinput"})),n.default.valHooks.phoneinput={get:function(e){return s.get_controller(n.default(e)).get()},set:function(e,t){return s.get_controller(n.default(e)).set(t)}}},t.prototype._validate_phone_number=function(e,t){return t=t.replace(/\D/g,""),this._format(e,t)},t})();t.default=r})),define("modules/clean/account_page/widgets/profile/api",["require","exports","tslib","modules/clean/api_v2/user_client","modules/clean/ajax_as_promised"],(function(e,t,a,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProfileExtras=function(e){return l.WebRequest({url:"/account/get_profile_extras",subject_user:e,dataType:"json"})},t.cancelPendingEmailChange=function(e){return l.WebRequest({url:"/cancelpendingemailchange",subject_user:e})},t.deletePicture=function(e){return l.WebRequest({url:"/account/delete_account_photo"})},t.changeName=function(e,t,l){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(a){return[2,(new n.UserApiV2Client).ns("account").rpc("change_name",{first_name:t,last_name:l},{subjectUserId:e})]}))}))},t.addPendingAlias=function(e,t){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(a){return[2,(new n.UserApiV2Client).ns("aliases").rpc("add",{alias_email:t},{subjectUserId:e})]}))}))},t.sendVerifyEmail=function(e,t){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(a){return[2,(new n.UserApiV2Client).ns("aliases").rpc("send_verify_email",{alias_email:t},{subjectUserId:e})]}))}))},t.removeAlias=function(e,t){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(a){return[2,(new n.UserApiV2Client).ns("aliases").rpc("remove",{alias_email:t},{subjectUserId:e})]}))}))},t.makePrimary=function(e,t,l){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(a){return[2,(new n.UserApiV2Client).ns("aliases").rpc("swap_with_primary",{alias_email:t,password:l},{subjectUserId:e})]}))}))}})),define("modules/clean/account_page/widgets/profile/profile_view",["require","exports","tslib","react","modules/core/i18n","dig-components/typography","modules/clean/account_page/widgets/profile/subviews/photo_settings","modules/clean/account_page/widgets/profile/subviews/name_settings","modules/clean/account_page/widgets/profile/subviews/email_settings","modules/clean/account_page/widgets/profile/subviews/secondary_emails/secondary_emails","modules/clean/account_page/widgets/profile/subviews/linked_account","modules/clean/account_page/widgets/profile/subviews/paired_account"],(function(e,t,a,n,l,s,o,r,i,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.Profile=function(e){var t=e.expNewAccountPairing,m=e.user,f=e.viewer,_=e.profileExtras,p=n.useState(m),g=p[0],y=p[1];if(!_)return null;var v={user:g,viewer:f,pairingInfo:null==_?void 0:_.pairing_info};return n.default.createElement("div",{className:"account-page-block account-page-block--general"},n.default.createElement("div",{className:"account-page-header"},n.default.createElement(s.Title,{size:"small",isBold:!0},l.intl.formatMessage({id:"X86+76",defaultMessage:"Basics"}))),n.default.createElement(o.PhotoSettings,{user:g}),n.default.createElement(r.NameSettings,{user:g}),n.default.createElement(i.EmailSettings,{user:g,profileExtras:_}),_.show_aliases&&n.default.createElement(c.SecondaryEmails,{user:g,profileExtras:_,updateUser:function(e){y(a.__assign({},e))}}),t?n.default.createElement(u.LinkedAccounts,a.__assign({},v)):n.default.createElement(d.PairedAccounts,a.__assign({},v)))}})),define("modules/clean/account_page/widgets/profile/subviews/email_settings",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/components/key_value_block","modules/clean/account_page/components/info_tooltip","modules/clean/analytics","modules/clean/account/email_verify_reasons","modules/clean/event_handler","modules/clean/account_page/widgets/profile/api","modules/core/notify","dig-components/buttons","modules/clean/bem"],(function(e,t,a,n,l,s,o,r,i,c,u,d,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importStar(i);var _=f.bem("pending-email"),p=new c.EventHandler;t.EmailSettings=function(t){var c,f=t.user,g=t.profileExtras,y=t.skipDisplayingPrimaryEmailRow,v=t.skipDisplayingPendingEmailRow,h=t.inlinePrimaryEmailDisplay,M=n.useState(f.email),b=M[0],E=M[1],w=n.useState(f.is_email_verified),k=w[0],x=w[1],S=n.useState(g.unverified_email),T=S[0],N=S[1],A=n.useState(),C=A[0],P=A[1];n.useEffect((function(){P(g.unverified_email===b)})),n.useEffect((function(){E(f.email)}),[f]);var I=void 0,B=function(){return a.__awaiter(void 0,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,u.cancelPendingEmailChange(f.id)];case 1:return e.sent(),N(null),g.unverified_email=null,d.Notify.success(l.intl.formatMessage({id:"4tPgve",defaultMessage:"Canceled pending email change."})),[3,3];case 2:return e.sent(),d.Notify.success(l.intl.formatMessage({id:"wfJMlq",defaultMessage:"There was an error completing this request."})),[3,3];case 3:return r.UserActivityLogger.log("web","de_account_general_basics_email_verify_cancel_clicked"),[2]}}))}))};return n.useEffect((function(){var e="db:email_changed:"+f.id;return p.on(document,e,(function(e,t,a){a?(g.unverified_email=t,N(t)):E(t)})),function(){p.removeAll()}}),[]),k?g.change_email_disallowed?c=n.default.createElement(o.InfoTooltip,{content:l.intl.formatMessage({id:"yvMeAJ",defaultMessage:"Contact your team admin to change email"}),position:o.TooltipPlacement.BOTTOM}):(c=l.intl.formatMessage({id:"UwFkjc",defaultMessage:"Edit"}),I=function(){new Promise((function(t,a){e(["modules/clean/account/email"],t,a)})).then(a.__importStar).then((function(e){e.ChangeEmail.show(f.id,i.CHANGE_EMAIL)})),r.UserActivityLogger.log("web","de_account_general_basics_email_edit_clicked")}):(c=l.intl.formatMessage({id:"61fdHZ",defaultMessage:"Verify email"}),I=function(){new Promise((function(t,a){e(["modules/clean/account/email"],t,a)})).then(a.__importStar).then((function(e){var t=e.EmailVerification.get_for_user(f);t.show_verify_modal(null,i.GENERIC),t.ensure_polling((function(){x(!0)}))})),r.UserActivityLogger.log("web","de_account_general_basics_email_verify_clicked")}),n.default.createElement(n.default.Fragment,null,!y&&n.default.createElement(s.KeyValueBlock,{inlineMode:h,className:"preference-email-row",keyText:"personal"===f.role?l.intl.formatMessage({id:"CdjelZ",defaultMessage:"Personal email"}):l.intl.formatMessage({id:"QyBXZK",defaultMessage:"Work email"}),linkText:c,valueText:b,onLinkClick:I}),T&&!v&&n.default.createElement("div",{className:_("")},n.default.createElement("span",{className:_("label")},C?l.intl.formatMessage({id:"J6pSA8",defaultMessage:"Pending email reverification"}):l.intl.formatMessage({id:"B0BOfb",defaultMessage:"Pending email change"})),n.default.createElement("span",{className:_("email")},T),n.default.createElement(m.Button,{className:_("verify"),onClick:function(){new Promise((function(t,a){e(["modules/clean/account/email"],t,a)})).then(a.__importStar).then((function(e){var t=e.EmailVerification.get_for_user(f);t.set_email_to_verify(g.unverified_email);var n=i.CHANGE_EMAIL;C&&(n=i.SUSPICIOUS_ALPACA_REVERIFICATION),t.show((function(){return a.__awaiter(void 0,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,B()];case 1:return e.sent(),[2]}}))}))}),n)})),r.UserActivityLogger.log("web","de_account_general_basics_email_verify_pending_clicked")},variant:"transparent"},l.intl.formatMessage({id:"61fdHZ",defaultMessage:"Verify email"})),n.default.createElement(m.Button,{className:_("cancel"),onClick:B,variant:"transparent"},l.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"}))))}})),define("modules/clean/account_page/widgets/profile/subviews/linked_account",["require","exports","tslib","react","dig-components/buttons","dig-components/modal","dig-components/typography","modules/clean/account_page/components/button_block","modules/clean/analytics","modules/clean/form","modules/core/browser","modules/core/i18n"],(function(e,t,a,n,l,s,o,r,i,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),c=a.__importStar(c),u=a.__importStar(u),t.LinkedAccounts=function(e){var t=e.user,a=e.viewer,m=e.pairingInfo,f=n.useState(!1),_=f[0],p=f[1],g=function(){p(!1)},y=function(){i.TeamsWebActionsLogger.log("account_page_link_account_clicked"),u.redirect("/team/account_pair")};if(m){var v=a.work_user&&a.personal_user,h=d.intl.formatMessage({id:"iHnMm2",defaultMessage:"This will unlink your accounts everywhere. If you added a linked account on your mobile or desktop app, unlinking will remove the last account you added from that device."}),M=v?d.intl.formatMessage({id:"1XVKkQ",defaultMessage:"You’ll be signed out after unlinking for your security."}):null;return n.default.createElement(n.default.Fragment,null,n.default.createElement(r.ButtonBlock,{label:d.intl.formatMessage({id:"58/Bbj",defaultMessage:"Linked accounts"}),subtext:d.intl.formatMessage({id:"c5OSMC",defaultMessage:"Your team and personal accounts are linked. Unlink to remove the link everywhere."}),buttonText:d.intl.formatMessage({id:"DcKRPG",defaultMessage:"Unlink"}),kind:"transparent",buttonAction:{kind:"function",handler:function(){p(!0),i.TeamsWebActionsLogger.log("account_page_unlink_account_clicked")}}}),_&&n.default.createElement(s.Modal,{onRequestClose:g,open:!0},n.default.createElement(s.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(o.Title,null,d.intl.formatMessage({id:"wthUCo",defaultMessage:"Are you sure you want to unlink your accounts?"}))),n.default.createElement(s.Modal.Body,null,n.default.createElement(o.Text,{tagName:"div"},n.default.createElement("p",null,h),M&&n.default.createElement("p",null,M))),n.default.createElement(s.Modal.Footer,null,n.default.createElement(l.Button,{variant:"opacity",onClick:g},d.intl.formatMessage({id:"vV9B1q",defaultMessage:"No, cancel"})),n.default.createElement(l.Button,{variant:"primary",onClick:function(){p(!1),c.post_request("/unpair"),i.TeamsWebActionsLogger.log("account_page_unlink_account_confirmed")}},d.intl.formatMessage({id:"XULJtd",defaultMessage:"Yes, unlink"})))))}if("personal"===t.role)return n.default.createElement(r.ButtonBlock,{label:d.intl.formatMessage({id:"lN4p6H",defaultMessage:"Link your team account"}),subtext:d.intl.formatMessage({id:"ILPjiY",defaultMessage:"Your accounts will stay separate, but you can easily switch between them and access both from any device."}),buttonText:d.intl.formatMessage({id:"6QvwvW",defaultMessage:"Link accounts"}),kind:"transparent",buttonAction:{kind:"function",handler:y}});if(!a.is_paired){var b=n.default.createElement(n.default.Fragment,null,d.intl.formatMessage({id:"ILPjiY",defaultMessage:"Your accounts will stay separate, but you can easily switch between them and access both from any device."}),n.default.createElement("br",null),d.intl.formatMessage({id:"DVayew",defaultMessage:"If you don’t have a personal account, click “Link accounts” to create one for free."}));return n.default.createElement(r.ButtonBlock,{label:d.intl.formatMessage({id:"qPNKY9",defaultMessage:"Link your personal account"}),subtext:b,buttonText:d.intl.formatMessage({id:"6QvwvW",defaultMessage:"Link accounts"}),kind:"transparent",buttonAction:{kind:"function",handler:y},className:"basics-link-accounts"})}return null}})),define("modules/clean/account_page/widgets/profile/subviews/name_settings",["require","exports","tslib","react","modules/core/i18n","modules/core/notify","modules/clean/account_page/components/key_value_block","dig-components/modal","dig-components/typography","dig-components/text_fields","styled-components","dig-components/buttons","modules/clean/account_page/widgets/profile/api","modules/clean/analytics"],(function(e,t,a,n,l,s,o,r,i,c,u,d,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var _,p,g=(u=a.__importDefault(u)).default.div(_||(_=a.__makeTemplateObject(["\n  color: var(--color__error__text);\n  margin-top: 8px;\n"],["\n  color: var(--color__error__text);\n  margin-top: 8px;\n"]))),y=u.default.div(p||(p=a.__makeTemplateObject(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),v=/[\000-\037/:?\*<>"|\\]/,h=function(e,t){var a=(function(e){return e?e.length>100?"too_long":e.match(v)?"invalid":void 0:"empty"})(e);if(a){if("empty"===a){if("firstName"===t)return l.intl.formatMessage({id:"OQ+zMT",defaultMessage:"Please enter your first name"});if("lastName"===t)return l.intl.formatMessage({id:"7OxRhv",defaultMessage:"Please enter your last name"})}else if("too_long"===a){if("firstName"===t)return l.intl.formatMessage({id:"RkgWqF",defaultMessage:"First name cannot be longer then 100 characters."});if("lastName"===t)return l.intl.formatMessage({id:"PpsiBa",defaultMessage:"Last name cannot be longer then 100 characters."})}return"invalid"===a?l.intl.formatMessage({id:"AMSZK+",defaultMessage:"Names can’t contain {invalid_characters}"},{invalid_characters:'" * / : < > ? \\ |'}):void 0}};t.NameSettings=function(e){var t=e.user,u=e.inlineMode,_=n.useState(t.fname),p=_[0],v=_[1],M=n.useState(t.lname),b=M[0],E=M[1],w=n.useState(t.fname),k=w[0],x=w[1],S=n.useState(t.lname),T=S[0],N=S[1],A=n.useState(!1),C=A[0],P=A[1],I=n.useState(),B=I[0],O=I[1],D=n.useState(),L=D[0],R=D[1],j=n.useState(!1),U=j[0],F=j[1],q=n.useState(!0),V=q[0],H=q[1];n.useEffect((function(){var e=h(k,"firstName");O(e||"");var t=h(T,"lastName");R(t||""),H(!e&&!t&&!U)}));var Y,z,G=function(e){return a.__awaiter(void 0,void 0,void 0,(function(){return a.__generator(this,(function(a){switch(a.label){case 0:e.preventDefault(),F(!0),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,m.changeName(t.id,k,T)];case 2:return a.sent(),s.Notify.success(l.intl.formatMessage({id:"9WTRXc",defaultMessage:"Name updated."})),v(k),E(T),[3,4];case 3:return a.sent(),s.Notify.error(l.intl.formatMessage({id:"wfJMlq",defaultMessage:"There was an error completing this request."})),[3,4];case 4:return F(!1),P(!1),[2]}}))}))},W=function(){P(!1)},$=l.intl.formatMessage({id:"flaKkC",defaultMessage:"First name"}),K=l.intl.formatMessage({id:"rew2qC",defaultMessage:"Last name"});return p||b?(Y=l.intl.formatMessage({id:"UwFkjc",defaultMessage:"Edit"}),z=l.intl.formatMessage({id:"Soaval",defaultMessage:"Name edit"})):(Y=l.intl.formatMessage({id:"RIq3O6",defaultMessage:"Set"}),z=l.intl.formatMessage({id:"VgwMdM",defaultMessage:"Name set"})),n.default.createElement(n.default.Fragment,null,n.default.createElement(o.KeyValueBlock,{inlineMode:u,keyText:l.intl.formatMessage({id:"cJojIg",defaultMessage:"Name"}),linkText:Y,valueText:p+" "+b,onLinkClick:function(){P(!0),f.UserActivityLogger.log("web","de_account_general_basics_name_edit_clicked")},className:"preference-name-row",ariaPrimaryButtonLabel:z}),C&&n.default.createElement(r.Modal,{id:"change-name-modal",open:C,withCloseButton:"Close",onRequestClose:W},n.default.createElement(r.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(i.Title,null,l.intl.formatMessage({id:"SixISH",defaultMessage:"Change your name"}))),n.default.createElement(r.Modal.Body,null,n.default.createElement("form",{onSubmit:G},B?n.default.createElement(g,null,B):n.default.createElement(y,null),n.default.createElement(c.TextInput,{autoFocus:!0,placeholder:$,"aria-label":$,defaultValue:k,spellCheck:!1,onKeyUp:function(e){x(e.currentTarget.value)},name:"fname",isInvalid:!1}),L&&L!==B?n.default.createElement(g,null," ",L," "):n.default.createElement(y,null),n.default.createElement(c.TextInput,{placeholder:K,"aria-label":K,defaultValue:T,spellCheck:!1,onKeyUp:function(e){N(e.currentTarget.value)},name:"lname",isInvalid:!1}))),n.default.createElement(r.Modal.Footer,null,n.default.createElement(d.Button,{variant:"opacity",onClick:W},l.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"})),n.default.createElement(d.Button,{disabled:!V,variant:"primary",onClick:G},l.intl.formatMessage({id:"5GaS5k",defaultMessage:"Change name"})))))}})),define("modules/clean/account_page/widgets/profile/subviews/paired_account",["require","exports","tslib","react","modules/core/browser","modules/core/i18n","modules/clean/analytics","modules/clean/form","modules/clean/account_page/components/button_block","dig-components/typography","dig-components/modal","modules/constants/trademark","dig-components/buttons"],(function(e,t,a,n,l,s,o,r,i,c,u,d,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),l=a.__importStar(l),r=a.__importStar(r),t.PairedAccounts=function(e){var t=e.user,a=e.viewer,f=e.pairingInfo,_=n.useState(!1),p=_[0],g=_[1];if(f){var y=f.has_extra_gbs,v=f.extra_gbs,h=f.pro_email,M=f.can_have_pro_across_users,b=a.work_user&&a.personal_user,E=a.team_name,w=void 0;w=y?s.intl.formatMessage({id:"4hp16u",defaultMessage:"Are you sure you want to disconnect your personal and {team_name} Dropboxes? You’ll lose the {extra_gbs} of bonus space that you received on your personal account when you connected your Dropboxes."},{team_name:E,extra_gbs:v}):s.intl.formatMessage({id:"ZGmBMS",defaultMessage:"Are you sure you want to disconnect your personal and {team_name} Dropboxes?"},{team_name:E});var k=null;M&&h&&(k=s.intl.formatMessage({id:"gGUZqn",defaultMessage:"Your {trademark_plus} subscription will stay connected to your {pro_user_email} Dropbox."},{trademark_plus:d.TRADEMARK_PLUS,pro_user_email:h}));var x=b?s.intl.formatMessage({id:"bGNRp4",defaultMessage:"You’ll be signed out after disconnecting for your security."}):null,S=s.intl.formatMessage({id:"i36NWk",defaultMessage:"If you’ve linked two Dropboxes on your mobile devices, your {team_name} Dropbox will be unlinked. If you’ve linked two Dropboxes on your computers, the second Dropbox you linked will be unlinked."},{team_name:E});return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.ButtonBlock,{label:s.intl.formatMessage({id:"CUPacg",defaultMessage:"Connected accounts"}),subtext:s.intl.formatMessage({id:"t5qOzx",defaultMessage:"You’ve connected your personal and work Dropbox accounts."}),buttonText:s.intl.formatMessage({id:"7SjgaG",defaultMessage:"Disconnect"}),kind:"transparent",buttonAction:{kind:"function",handler:function(){g(!0),o.UserActivityLogger.log("web","de_account_general_basics_disconnect_account_clicked")}}}),p&&n.default.createElement(u.Modal,{onRequestClose:function(){g(!1)},open:!0,withCloseButton:s.intl.formatMessage({id:"Sr80X1",defaultMessage:"Close"})},n.default.createElement(u.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(c.Title,null,s.intl.formatMessage({id:"4KC/8l",defaultMessage:"Disconnect your Dropboxes"}))),n.default.createElement(u.Modal.Body,null,n.default.createElement(c.Text,{tagName:"div"},n.default.createElement("p",null,w),n.default.createElement("p",null,S),k&&n.default.createElement("p",null,k),x&&n.default.createElement("p",null,x))),n.default.createElement(u.Modal.Footer,null,n.default.createElement(m.Button,{variant:"primary",onClick:function(){r.post_request("/unpair")}},s.intl.formatMessage({id:"7SjgaG",defaultMessage:"Disconnect"})))))}return"personal"===t.role?null:a.is_paired?null:n.default.createElement(i.ButtonBlock,{label:s.intl.formatMessage({id:"ZyXIYZ",defaultMessage:"Connect your personal Dropbox"}),subtext:s.intl.formatMessage({id:"iKSSMi",defaultMessage:"Your two Dropbox accounts will remain separate, but you’ll be able to access both of them on all your devices."}),buttonText:s.intl.formatMessage({id:"tlRjy2",defaultMessage:"Connect"}),kind:"transparent",buttonAction:{kind:"function",handler:function(){o.UserActivityLogger.log("web","de_account_general_basics_connect_personal_clicked"),l.redirect("/team/connect")}}})}})),define("modules/clean/account_page/widgets/profile/subviews/photo_settings",["require","exports","tslib","react","modules/core/i18n","modules/core/notify","modules/core/uri","modules/clean/analytics","modules/clean/static_urls","modules/clean/account_page/components/key_value_block","dig-components/avatar","modules/clean/event_handler","modules/clean/account_page/widgets/profile/api","dig-components/modal","dig-components/typography","dig-components/buttons","styled-components","modules/core/user_i18n"],(function(e,t,a,n,l,s,o,r,i,c,u,d,m,f,_,p,g,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),g=a.__importDefault(g),y=a.__importStar(y);var v,h,M=new d.EventHandler,b=g.default.div(v||(v=a.__makeTemplateObject(["\n  display: inline-flex;\n  width: auto;\n  position: relative;\n"],["\n  display: inline-flex;\n  width: auto;\n  position: relative;\n"]))),E=g.default.div(h||(h=a.__makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  opacity: 0;\n  &:hover {\n    opacity: 0.75;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  opacity: 0;\n  &:hover {\n    opacity: 0.75;\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"])));t.PhotoSettings=function(t){var d=t.user,g=t.avatarOnlyMode,v=n.useState(d.photo_url),h=v[0],w=v[1],k=n.useState(),x=k[0],S=k[1],T=n.useState(!!d.photo_url),N=T[0],A=T[1],C=n.useState(!1),P=C[0],I=C[1],B=y.getInitials(d.display_name);n.useEffect((function(){S(h),A(!!h)}),[h]);var O=function(){w(void 0),I(!1)};n.useEffect((function(){return M.on(document,"db:account_photo:photo_set",(function(e,t){var a=o.URI.parse(t.saved_photo_url).updateQuery({size:"64x64"}).toString();s.Notify.success(l.intl.formatMessage({id:"Jccx0J",defaultMessage:"Photo updated."})),w(a)})),M.on(document,"db:account_photo:photo_deleted",O),function(){M.removeAll()}}),[]);var D=function(){new Promise((function(t,a){e(["modules/clean/account_photo_modal/controller"],t,a)})).then(a.__importStar).then((function(e){e.AccountPhotoModalController.show()})),r.UserActivityLogger.log("web","de_account_general_basics_photo_edit_clicked")},L=function(){I(!0),r.UserActivityLogger.log("web","de_account_general_basics_photo_delete_clicked")},R=function(){I(!1)},j=n.default.createElement(u.Avatar,{size:"large",src:x,backgroundColor:u.avatarColorForUserIdentifier(B),alt:"personal"===d.role?l.intl.formatMessage({id:"P2lPuL",defaultMessage:"Personal photo"}):l.intl.formatMessage({id:"rLXEzj",defaultMessage:"Work photo"}),hasNoOutline:!0},B),U=i.static_url("/static/images/icons/link-delete-vfle9dQKT.svg"),F=i.static_url("/static/images/icons/link-edit-vflyY-kMq.svg");return n.default.createElement(n.default.Fragment,null,!g&&n.default.createElement(c.KeyValueBlock,{className:"preference-picture-row",secondLink:N,keyText:l.intl.formatMessage({id:"0B2QA4",defaultMessage:"Photo"}),linkText:l.intl.formatMessage({id:"UwFkjc",defaultMessage:"Edit"}),ariaPrimaryButtonLabel:l.intl.formatMessage({id:"XRtyZw",defaultMessage:"Photo edit"}),secondValueText:l.intl.formatMessage({id:"9v2+SN",defaultMessage:"Delete"}),ariaSecondaryButtonLabel:l.intl.formatMessage({id:"IGuNWi",defaultMessage:"Photo delete"}),valueText:j,onLinkClick:D,onSecondLinkClick:L}),g&&n.default.createElement(b,null,j,n.default.createElement(E,{className:"avatar-action",onClick:function(){return(N?L:D)()}},n.default.createElement(u.Avatar,{size:"small",hasNoOutline:!0,src:N?U:F,alt:l.intl.formatMessage({id:"FRQeqz",defaultMessage:"Edit profile"})}))),P&&n.default.createElement(f.Modal,{className:"delete-photo-modal",open:P,withCloseButton:"Close",onRequestClose:R},n.default.createElement(f.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(_.Title,null," ",l.intl.formatMessage({id:"V5EJmv",defaultMessage:"Delete account photo"})," ")),n.default.createElement(f.Modal.Body,null,n.default.createElement(_.Text,{size:"standard",className:"delete-photo-modal__text"},l.intl.formatMessage({id:"dSiOzP",defaultMessage:"Are you sure you want to delete your account photo?"}))),n.default.createElement(f.Modal.Footer,null,n.default.createElement(p.Button,{variant:"primary",onClick:function(){return a.__awaiter(void 0,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,m.deletePicture(d.id)];case 1:return e.sent(),O(),s.Notify.success(l.intl.formatMessage({id:"1P57nr",defaultMessage:"Photo deleted."})),[3,3];case 2:return e.sent(),s.Notify.error(l.intl.formatMessage({id:"wfJMlq",defaultMessage:"There was an error completing this request."})),[3,3];case 3:return[2]}}))}))}},l.intl.formatMessage({id:"/HAEcu",defaultMessage:"Delete photo"})),n.default.createElement(p.Button,{variant:"opacity",onClick:R},l.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"})))))}})),define("modules/clean/account_page/widgets/profile/subviews/secondary_emails/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_NUM_ALIASES=10,t.MAX_NUM_ALIASES_TO_DISPLAY=5})),define("modules/clean/account_page/widgets/profile/subviews/secondary_emails/secondary_emails",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/components/key_value_block","modules/clean/account_page/components/info_tooltip","modules/clean/account_page/widgets/profile/subviews/secondary_emails/subviews/add_secondary_emails","modules/clean/account_page/widgets/profile/subviews/secondary_emails/subviews/manage_secondary_emails","styled-components","modules/clean/account_page/widgets/profile/subviews/secondary_emails/constants","dig-components/typography"],(function(e,t,a,n,l,s,o,r,i,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var m,f=(c=a.__importDefault(c)).default.li(m||(m=a.__makeTemplateObject(["\n  display: ",";\n  padding-right: 8px;\n  ","\n"],["\n  display: ",";\n  padding-right: 8px;\n  ","\n"])),(function(e){return e.inlineMode?"inline-block":"block"}),(function(e){return e.inlineMode&&"\n    &:not(:last-child) {\n      &::after {\n        content: ',';\n      }\n    }\n  "}));t.SecondaryEmails=function(e){var t=e.user,c=e.updateUser,m=e.profileExtras,_=e.inlineMode,p=e.maxNumberOfSecondaryEmailsToDisplay;p||(p=u.MAX_NUM_ALIASES_TO_DISPLAY);var g,y=n.useState(t.email),v=y[0],h=y[1],M=n.useState(t.is_email_verified)[0],b=n.useState(null==m?void 0:m.edit_aliases_disallowed)[0],E=n.useState(!(null==m?void 0:m.change_email_disallowed))[0],w=n.useState(!1),k=w[0],x=w[1],S=n.useState(!1),T=S[0],N=S[1],A=void 0,C=function(){N(!1)},P=function(){return e=(null==m?void 0:m.aliases_info)||[],a.__spreadArrays(e).sort((function(e,t){var a=e.is_verified;return a===t.is_verified?e.email<t.email?-1:1:a?-1:1}));var e},I=n.useState(P()),B=I[0],O=I[1],D=function(e,t){void 0===t&&(t=!1),m.aliases_info=a.__spreadArrays(m.aliases_info||[],[{email:e,is_verified:t}]),O(P())},L=function(e){m.aliases_info=(m.aliases_info||[]).filter((function(t){return t.email!==e})),O(P())};M&&(b?g=n.default.createElement(o.InfoTooltip,{content:l.intl.formatMessage({id:"Mg+i5T",defaultMessage:"Your admin manages these emails"}),position:o.TooltipPlacement.BOTTOM}):B.length>0?(g=l.intl.formatMessage({id:"UwFkjc",defaultMessage:"Edit"}),A=function(){x(!0)}):(g=l.intl.formatMessage({id:"s2W7dS",defaultMessage:"Add secondary email"}),A=function(){N(!0)}));var R=null;if(B.length>p){var j=B.length-p;R=l.intl.formatMessage({id:"IwqHAa",defaultMessage:"{count, plural, one{<li>and {count} more...</li>} other{<li>and {count} more...</li>}}"},{count:j,li:function(e){return n.default.createElement(f,{inlineMode:_,className:"overflow-text"},e)}})}var U=B.slice(0,p),F=function(e){D(e)};return n.default.createElement(s.KeyValueBlock,{inlineMode:_,className:"preference-secondary-emails-row",keyText:l.intl.formatMessage({id:"cIP6mb",defaultMessage:"Secondary emails"}),valueText:n.default.createElement("div",{className:"secondary-email-container"},n.default.createElement("ul",{className:"secondary-emails-list"},U.map((function(e,t){var a=e.email,s=e.is_verified;return n.default.createElement(f,{inlineMode:_,key:a},n.default.createElement(d.Text,{className:"secondary-email-text",title:a},s?a:l.intl.formatMessage({id:"TGhLSw",defaultMessage:"{email} <s>(pending)</s>"},{email:a,s:function(e){return n.default.createElement("span",{className:"pending-secondary-email-text"},e)}})))})),R),n.default.createElement("div",{className:"secondary-email-modal-container"},T&&n.default.createElement(r.AddSecondaryEmails,{user:t,open:!0,onAddPendingSecondaryEmail:F,onCancel:function(){C()},onDone:function(){C()},showAddAnotherSecondaryEmailLink:B.length<u.MAX_NUM_ALIASES}),k&&n.default.createElement(i.ManageSecondaryEmails,{user:t,open:!0,onAddPendingSecondaryEmail:F,secondaryEmails:B,swapAliasAndPrimaryAllowed:E,onDone:function(){x(!1)},onRemoveSecondaryEmail:function(e){L(e)},onMakeSecondaryEmailPrimary:function(e){var a;a=e,t.email=a,c(t),h(a),L(a),D(v,!0)}}))),linkText:g,onLinkClick:A})}})),define("modules/clean/account_page/widgets/profile/subviews/secondary_emails/subviews/add_secondary_emails",["require","exports","tslib","react","dig-components/modal","dig-components/typography","dig-components/buttons","modules/core/i18n","dig-components/text_fields","styled-components","modules/clean/static_urls","dig-components/avatar","modules/core/browser","modules/clean/account_page/widgets/profile/subviews/secondary_emails/subviews/util","modules/clean/account_page/widgets/profile/api","modules/core/notify"],(function(e,t,a,n,l,s,o,r,i,c,u,d,m,f,_,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),c=a.__importDefault(c),m=a.__importStar(m);var g,y,v=c.default.div(g||(g=a.__makeTemplateObject(["\n  color: var(--color__error__text);\n  margin-top: 8px;\n"],["\n  color: var(--color__error__text);\n  margin-top: 8px;\n"]))),h=c.default.div(y||(y=a.__makeTemplateObject(["\n  height: 18px;\n"],["\n  height: 18px;\n"]))),M=u.static_url("/static/images/avatar/faceholder-vflmhyJKO.svg");t.AddSecondaryEmails=function(e){var t=e.user,c=e.onAddPendingSecondaryEmail,g=e.onCancel,y=e.onDone,b=e.showAddAnotherSecondaryEmailLink,E=n.useState("ADD_SECONDARY_EMAIL"),w=E[0],k=E[1],x=n.useState(""),S=x[0],T=x[1],N=n.useState(),A=N[0],C=N[1],P=n.useState(!1),I=P[0],B=P[1],O=n.useState(!1),D=O[0],L=O[1],R=t.display_name,j=t.email,U=t.photo_url||M;n.useEffect((function(){B("ADD_SECONDARY_EMAIL"===w),L("VERIFY_EMAIL_SENT"===w)}));var F=function(e,t){void 0===t&&(t=!1),e.type===f.ErrorType.Inline?C(e.message):(C(""),p.Notify.error(e.message))},q=function(e){return a.__awaiter(void 0,void 0,void 0,(function(){var n,l;return a.__generator(this,(function(a){switch(a.label){case 0:if(e.preventDefault(),n=f.validateEmail(S))return F(n),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,_.addPendingAlias(t.id,S)];case 2:return a.sent(),c(S),p.Notify.success(r.intl.formatMessage({id:"udFUjU",defaultMessage:"Secondary email {email} added."},{email:S})),k("VERIFY_EMAIL_SENT"),[3,4];case 3:return l=a.sent(),F(f.errorTagToMessage(l.error[".tag"])),[2];case 4:return[2]}}))}))},V=function(){g()},H=function(){T(""),k("ADD_SECONDARY_EMAIL")};return n.default.createElement(n.default.Fragment,null,n.default.createElement(l.Modal,{open:I,width:640,className:"add-secondary-emails-modal",withCloseButton:"Close",onRequestClose:V},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,null,r.intl.formatMessage({id:"s2W7dS",defaultMessage:"Add secondary email"}))),n.default.createElement(l.Modal.Body,null,n.default.createElement("form",{onSubmit:q},n.default.createElement(s.Text,{size:"standard"},r.intl.formatMessage({id:"2eyJvg",defaultMessage:"Secondary email address"})),A?n.default.createElement(v,null,A):n.default.createElement(h,null),n.default.createElement(i.TextInput,{autoFocus:!0,defaultValue:S,spellCheck:!1,onChange:function(e){var t=e.target.value;T(t),C("")},name:"secondary-email-input",isInvalid:!!A})),n.default.createElement("div",{className:"secondary-emails-panels"},n.default.createElement("div",{className:"secondary-emails-panel"},n.default.createElement("div",{className:"panel-image avatar-images"},n.default.createElement("img",{alt:"",className:"avatar avatar-1",src:u.static_url("/static/images/account_page/avatar-1-vflR0HsPJ.png")}),n.default.createElement("img",{alt:"",className:"avatar avatar-2",src:u.static_url("/static/images/account_page/avatar-2-vflX2nkbv.png")}),n.default.createElement("img",{alt:"",className:"avatar avatar-3",src:u.static_url("/static/images/account_page/avatar-3-vflMpfF3l.png")})),n.default.createElement("div",{className:"panel-title"},n.default.createElement(s.Text,{size:"small"},r.intl.formatMessage({id:"OdSVd7",defaultMessage:"Other people"}))),n.default.createElement("div",{className:"top-spacer"},r.intl.formatMessage({id:"RdDxZE",defaultMessage:"Add a secondary to help{br}people share with you"},{br:n.default.createElement("br",null)}))),n.default.createElement("div",{className:"secondary-emails-panel"},n.default.createElement("div",{className:"panel-image envelope-panel"},n.default.createElement("img",{alt:r.intl.formatMessage({id:"+eGcx2",defaultMessage:"Arrow pointing right"}),className:"left-arrow",src:u.static_url("/static/images/account_page/arrow-short-vfl96Q6Y0.svg")}),n.default.createElement("img",{alt:r.intl.formatMessage({id:"f0osid",defaultMessage:"Envelope"}),className:"envelope-image",src:u.static_url("/static/images/account_page/envelope-vfl3QrlwB.svg")}),n.default.createElement("img",{alt:r.intl.formatMessage({id:"+eGcx2",defaultMessage:"Arrow pointing right"}),className:"right-arrow",src:u.static_url("/static/images/account_page/arrow-long-vfl7JxmZ2.svg")})),n.default.createElement("div",{className:"panel-title"},n.default.createElement(s.Text,{size:"small"},R)),n.default.createElement("div",{className:"small-email"},n.default.createElement(s.Text,{size:"small",color:"faint"},S||"example@example.com")),n.default.createElement(s.Text,{size:"small"},r.intl.formatMessage({id:"0W8WmQ",defaultMessage:"They can also share with{br}your secondary email"},{br:n.default.createElement("br",null)}))),n.default.createElement("div",{className:"secondary-emails-panel"},n.default.createElement("div",{className:"panel-image profile-picture-overlay"},n.default.createElement("img",{alt:r.intl.formatMessage({id:"MLqiSW",defaultMessage:"Folder"}),className:"folder-image",src:u.static_url("/static/images/account_page/folder-overlap-vflToNB6H.svg")}),U&&n.default.createElement(d.Avatar,{className:"faceholder",size:"standard",src:U})),n.default.createElement("div",{className:"panel-title"},n.default.createElement(s.Text,{size:"small"},r.intl.formatMessage({id:"SrKRAg",defaultMessage:"Your account"}))),n.default.createElement("div",{className:"small-email"},n.default.createElement(s.Text,{size:"small",color:"faint"},j)),n.default.createElement(s.Text,{size:"small"},r.intl.formatMessage({id:"8+Vj2S",defaultMessage:"You’ll get everything in your{br}Dropbox account"},{br:n.default.createElement("br",null)})))),n.default.createElement("p",{className:"secondary-email-description"},n.default.createElement(s.Text,{size:"small",color:"faint"},r.intl.formatMessage({id:"UIRKh5",defaultMessage:"Note: People will still see your <b>primary email</b> across Dropbox. <link>How secondary emails work</link>"},{b:function(e){return n.default.createElement("span",{className:"bold"},e)},link:function(e){return n.default.createElement(o.Button,{variant:"transparent",size:"small",onClick:function(){return m.open_tab("/help/files-folders/secondary-email")}},e)}})))),n.default.createElement(l.Modal.Footer,null,n.default.createElement(o.Button,{variant:"opacity",onClick:V},r.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"})),n.default.createElement(o.Button,{variant:"primary",onClick:q},r.intl.formatMessage({id:"YcxVqg",defaultMessage:"Add"})))),n.default.createElement(l.Modal,{open:D,className:"send-verify-email-success-modal"},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,null,r.intl.formatMessage({id:"hP3HgD",defaultMessage:"Verify your email"}))),n.default.createElement(l.Modal.Body,null,n.default.createElement("p",{className:"sent-email-description"},n.default.createElement(s.Text,{size:"standard"},r.intl.formatMessage({id:"7VEvCe",defaultMessage:"We just sent an email to <b>{email}</b>. Click the button in the email to verify your address and finish adding your secondary email. If you can’t find the email, check your spam folder."},{b:function(e){return n.default.createElement("span",{className:"secondary-email"},e)},email:S})))),n.default.createElement(l.Modal.Footer,null,b&&n.default.createElement(o.Button,{variant:"transparent",onClick:H},r.intl.formatMessage({id:"ffNYyt",defaultMessage:"Add another secondary email"})),n.default.createElement(o.Button,{variant:"opacity",onClick:function(){return a.__awaiter(void 0,void 0,void 0,(function(){var e;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,_.sendVerifyEmail(t.id,S)];case 1:return a.sent(),p.Notify.success(r.intl.formatMessage({id:"NCdpWv",defaultMessage:"Verification email successfully sent."})),[3,3];case 2:return e=a.sent(),F(f.errorTagToMessage(e.error[".tag"])),[3,3];case 3:return[2]}}))}))}},n.default.createElement(o.Button,{variant:"transparent"},r.intl.formatMessage({id:"D09GlF",defaultMessage:"Resend"}))),n.default.createElement(o.Button,{variant:"primary",onClick:function(){H(),y&&y()}},y?r.intl.formatMessage({id:"6bRQ0U",defaultMessage:"Done"}):r.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"})))))}})),define("modules/clean/account_page/widgets/profile/subviews/secondary_emails/subviews/manage_secondary_emails",["require","exports","tslib","react","dig-components/modal","dig-components/typography","dig-components/buttons","modules/core/i18n","dig-components/text_fields","styled-components","modules/core/browser","modules/clean/account_page/widgets/profile/subviews/secondary_emails/subviews/util","modules/clean/account_page/widgets/profile/api","modules/core/notify","modules/clean/account_page/widgets/profile/subviews/secondary_emails/constants","modules/clean/account_page/widgets/profile/subviews/secondary_emails/subviews/add_secondary_emails"],(function(e,t,a,n,l,s,o,r,i,c,u,d,m,f,_,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),c=a.__importDefault(c),u=a.__importStar(u);var g,y=c.default(o.Button)(g||(g=a.__makeTemplateObject(["\n  visibility: hidden;\n"],["\n  visibility: hidden;\n"])));t.ManageSecondaryEmails=function(e){var t=e.user,c=e.secondaryEmails,g=e.onAddPendingSecondaryEmail,v=e.onDone,h=e.onMakeSecondaryEmailPrimary,M=e.swapAliasAndPrimaryAllowed,b=e.onRemoveSecondaryEmail,E=n.useState("MANAGE_SECONDARY_EMAILS"),w=E[0],k=E[1],x=n.useState(!1),S=x[0],T=x[1],N=n.useState(!1),A=N[0],C=N[1],P=n.useState(!1),I=P[0],B=P[1],O=n.useState(""),D=O[0],L=O[1],R=n.useState(""),j=R[0],U=R[1],F=n.useState(""),q=F[0],V=F[1],H=n.useState(!1),Y=H[0],z=H[1],G=t.email;n.useEffect((function(){T("MANAGE_SECONDARY_EMAILS"===w),C("ADD_SECONDARY_EMAIL"===w),B("CONFIRM_REMOVE"===w),z("CONFIRM_MAKE_PRIMARY"===w)}));var W=function(){k("MANAGE_SECONDARY_EMAILS")},$=function(e){var t=d.errorTagToMessage(e.error[".tag"]);f.Notify.error(t.message)},K=function(e){return a.__awaiter(void 0,void 0,void 0,(function(){var n;return a.__generator(this,(function(a){switch(a.label){case 0:e.preventDefault(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,m.makePrimary(t.id,j,q)];case 2:return a.sent(),f.Notify.success(r.intl.formatMessage({id:"eGpOpC",defaultMessage:"Secondary email {email} successfully made primary."},{email:j})),U(""),h(j),W(),[3,4];case 3:return n=a.sent(),$(n),[3,4];case 4:return[2]}}))}))},X=function(){u.open_tab("/help/files-folders/secondary-email")},Q=function(e){return function(){U(e),k("CONFIRM_MAKE_PRIMARY")}},J=function(e){return function(){(function(e){a.__awaiter(void 0,void 0,void 0,(function(){var n;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,m.sendVerifyEmail(t.id,e)];case 1:return a.sent(),f.Notify.success(r.intl.formatMessage({id:"NCdpWv",defaultMessage:"Verification email successfully sent."})),[3,3];case 2:return n=a.sent(),$(n),[3,3];case 3:return[2]}}))}))})(e)}},Z=function(e){return function(){L(e),k("CONFIRM_REMOVE")}},ee=c.length<_.MAX_NUM_ALIASES;return n.default.createElement(n.default.Fragment,null,S&&n.default.createElement(l.Modal,{width:640,open:!0,className:"manage-secondary-emails-modal"},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,null,r.intl.formatMessage({id:"cIP6mb",defaultMessage:"Secondary emails"}))),n.default.createElement(l.Modal.Body,null,n.default.createElement("div",{className:"secondary-email-description"},n.default.createElement(s.Text,{size:"standard"},r.intl.formatMessage({id:"rPaNGq",defaultMessage:"When people share folders and files with a secondary email, content automatically gets routed to this Dropbox account. <link>How do secondary emails work?</link>"},{link:function(e){return n.default.createElement(o.Button,{onClick:X,variant:"transparent"},e)}})),!ee&&n.default.createElement(s.Text,{tagName:"div",className:"warning-box"},r.intl.formatMessage({id:"S3u9PE",defaultMessage:"You have reached the limit of {max_aliases} secondary emails. To add other secondary emails, please remove at least one existing secondary email."},{max_aliases:_.MAX_NUM_ALIASES})),n.default.createElement("div",{className:"secondary-emails-list"},c.map((function(e,t){var a=e.email,l=e.is_verified;return n.default.createElement("div",{className:"secondary-email-container",key:t},n.default.createElement(s.Text,{className:"secondary-email"},l&&n.default.createElement("div",{className:"secondary-email-text",title:a},a),!l&&n.default.createElement("div",{className:"secondary-email-text",title:a},r.intl.formatMessage({id:"TGhLSw",defaultMessage:"{email} <s>(pending)</s>"},{email:a,s:function(e){return n.default.createElement("span",{className:"pending-secondary-email-text"},e)}}))),n.default.createElement("div",{className:"secondary-email-links"},l&&M&&n.default.createElement(o.Button,{className:"secondary-email-make-primary-link",variant:"transparent",onClick:Q(a)},r.intl.formatMessage({id:"gdOmTm",defaultMessage:"Make primary"})),!l&&n.default.createElement(o.Button,{className:"secondary-email-resend-verify-email",variant:"transparent",onClick:J(a)},r.intl.formatMessage({id:"Kj/rA+",defaultMessage:"Resend verification"})),n.default.createElement(o.Button,{className:"secondary-email-remove-link",variant:"transparent",onClick:Z(a)},r.intl.formatMessage({id:"9v2+SN",defaultMessage:"Delete"}))))}))))),n.default.createElement(l.Modal.Footer,null,ee&&n.default.createElement(o.Button,{variant:"transparent",onClick:function(){k("ADD_SECONDARY_EMAIL")}},r.intl.formatMessage({id:"ffNYyt",defaultMessage:"Add another secondary email"})),n.default.createElement(y,{variant:"opacity"}),n.default.createElement(o.Button,{variant:"primary",onClick:function(){W(),v&&v()}},r.intl.formatMessage({id:"6bRQ0U",defaultMessage:"Done"})))),A&&n.default.createElement(p.AddSecondaryEmails,{user:t,open:!0,onAddPendingSecondaryEmail:function(e){g(e),W()},onCancel:W,onDone:W,showAddAnotherSecondaryEmailLink:ee}),I&&n.default.createElement(l.Modal,{open:!0,className:"confirm-secondary-email-removal-modal"},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,null,r.intl.formatMessage({id:"X/07sw",defaultMessage:"Delete secondary email?"}))),n.default.createElement(l.Modal.Body,null,n.default.createElement(s.Text,null,r.intl.formatMessage({id:"LltYZa",defaultMessage:"Are you sure you want to delete the secondary email <b>{email}</b>?"},{b:function(e){return n.default.createElement("span",{className:"secondary-email"},e)},email:D}))),n.default.createElement(l.Modal.Footer,null,n.default.createElement(o.Button,{variant:"opacity",onClick:W},r.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"})),n.default.createElement(o.Button,{variant:"primary",onClick:function(){return a.__awaiter(void 0,void 0,void 0,(function(){var e;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,m.removeAlias(t.id,D)];case 1:return a.sent(),f.Notify.success(r.intl.formatMessage({id:"fiuCCf",defaultMessage:"Seondary email {email} removed."},{email:D})),b(D),L(""),W(),[3,3];case 2:return e=a.sent(),$(e),[3,3];case 3:return[2]}}))}))}},r.intl.formatMessage({id:"9v2+SN",defaultMessage:"Delete"})))),Y&&n.default.createElement(l.Modal,{open:!0,className:"confirm-secondary-email-removal-modal"},n.default.createElement(l.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,null,r.intl.formatMessage({id:"yg9BrZ",defaultMessage:"Make ‘{emailToBePrimary}’ primary?"},{emailToBePrimary:j}))),n.default.createElement(l.Modal.Body,null,n.default.createElement(s.Text,{size:"standard"},r.intl.formatMessage({id:"JnNd2k",defaultMessage:"Please re-enter your password to make <b>{emailToBePrimary}</b> your primary email. Doing so means you will use it to log in to your Dropbox account, and <b>{currentPrimaryEmail}</b> will become a secondary email."},{b:function(e){return n.default.createElement("span",{className:"secondary-email"},e)},emailToBePrimary:j,currentPrimaryEmail:G})),n.default.createElement("form",{onSubmit:K},n.default.createElement(s.Text,{size:"small"},r.intl.formatMessage({id:"i+PJQ7",defaultMessage:"Password"})),n.default.createElement(i.TextInput,{autoFocus:!0,defaultValue:q,type:"password",spellCheck:!1,"aria-label":"Password",placeholder:r.intl.formatMessage({id:"i+PJQ7",defaultMessage:"Password"}),onChange:function(e){var t=e.target.value;V(t)},name:"password-input"}))),n.default.createElement(l.Modal.Footer,null,n.default.createElement(o.Button,{variant:"opacity",onClick:W},r.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"})),n.default.createElement(o.Button,{variant:"primary",onClick:K},r.intl.formatMessage({id:"gdOmTm",defaultMessage:"Make primary"})))))}})),define("modules/clean/account_page/widgets/profile/subviews/secondary_emails/subviews/util",["require","exports","tslib","modules/clean/account_page/widgets/profile/subviews/secondary_emails/constants","modules/clean/validators/email_validator","modules/core/exception","modules/core/i18n"],(function(e,t,a,n,l,s,o){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),l=a.__importDefault(l),(function(e){e[e.Inline=0]="Inline",e[e.Toast=1]="Toast"})(r=t.ErrorType||(t.ErrorType={}));var i={alias_already_owned_by_user:{type:r.Inline,message:o.intl.formatMessage({id:"/XZGug",defaultMessage:"This email already in use, try another"})},user_unverified:{type:r.Inline,message:o.intl.formatMessage({id:"T59HGQ",defaultMessage:"Verify your primary email first"})},alias_unavailable:{type:r.Inline,message:o.intl.formatMessage({id:"Y/r/in",defaultMessage:"This email already taken, try another"})},disallowed_by_team_policy:{type:r.Toast,message:o.intl.formatMessage({id:"bk3RXd",defaultMessage:"Secondary email not added because admin turned off secondary emails for the team."})},email_send_error:{type:r.Toast,message:o.intl.formatMessage({id:"ehdbDz",defaultMessage:"An error occurred on our end. Please try again."})},transient_error:{type:r.Toast,message:o.intl.formatMessage({id:"ehdbDz",defaultMessage:"An error occurred on our end. Please try again."})},unknown_error:{type:r.Toast,message:o.intl.formatMessage({id:"frldLp",defaultMessage:"An error occurred on our end."})},reached_alias_limit:{type:r.Inline,message:o.intl.formatMessage({id:"vazg5S",defaultMessage:"Only {max_aliases} secondary emails allowed"},{max_aliases:n.MAX_NUM_ALIASES})},alias_already_pending:{type:r.Inline,message:o.intl.formatMessage({id:"Mg5hv3",defaultMessage:"This email is pending, try another"})},alias_not_pending:{type:r.Toast,message:o.intl.formatMessage({id:"bW9cCS",defaultMessage:"Email doesn’t exist."})},cannot_remove_primary:{type:r.Toast,message:o.intl.formatMessage({id:"USBRIw",defaultMessage:"Primary email can’t be deleted."})},alias_not_found:{type:r.Toast,message:o.intl.formatMessage({id:"7M7SRT",defaultMessage:"This email can’t be deleted."})},alias_not_verified:{type:r.Toast,message:o.intl.formatMessage({id:"ntZqC3",defaultMessage:"Verify your secondary email before swapping."})},invalid_password:{type:r.Toast,message:o.intl.formatMessage({id:"ot8ivW",defaultMessage:"Invalid password."})},change_email_disallowed:{type:r.Toast,message:o.intl.formatMessage({id:"QaHMKS",defaultMessage:"Primary email can’t be changed."})},other_error:{type:r.Toast,message:o.intl.formatMessage({id:"frldLp",defaultMessage:"An error occurred on our end."})}};t.errorTagToMessage=function(e){var t=i[e];return void 0===t?(s.reportStack("Error message not found for "+e,{severity:s.SEVERITY.NONCRITICAL}),i.other_error):t},t.validateEmail=function(e){for(var t=0,a=l.default.validate(e);t<a.length;t++){if(!a[t].valid)return{type:r.Inline,message:o.intl.formatMessage({id:"nk7m1x",defaultMessage:"Invalid email address"})}}return null}}));
//# sourceMappingURL=pkg-account_core.min.js-vfll7qBW5.map